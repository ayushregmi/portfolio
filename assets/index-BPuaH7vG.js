var a1=Object.defineProperty;var o1=(t,e,n)=>e in t?a1(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Fn=(t,e,n)=>o1(t,typeof e!="symbol"?e+"":e,n);function l1(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function ou(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Av={exports:{}},lu={},Nv={exports:{}},Q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ha=Symbol.for("react.element"),u1=Symbol.for("react.portal"),c1=Symbol.for("react.fragment"),d1=Symbol.for("react.strict_mode"),f1=Symbol.for("react.profiler"),h1=Symbol.for("react.provider"),p1=Symbol.for("react.context"),m1=Symbol.for("react.forward_ref"),g1=Symbol.for("react.suspense"),y1=Symbol.for("react.memo"),v1=Symbol.for("react.lazy"),Mp=Symbol.iterator;function w1(t){return t===null||typeof t!="object"?null:(t=Mp&&t[Mp]||t["@@iterator"],typeof t=="function"?t:null)}var Iv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jv=Object.assign,Lv={};function os(t,e,n){this.props=t,this.context=e,this.refs=Lv,this.updater=n||Iv}os.prototype.isReactComponent={};os.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};os.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function $v(){}$v.prototype=os.prototype;function Gf(t,e,n){this.props=t,this.context=e,this.refs=Lv,this.updater=n||Iv}var Zf=Gf.prototype=new $v;Zf.constructor=Gf;jv(Zf,os.prototype);Zf.isPureReactComponent=!0;var Fp=Array.isArray,Dv=Object.prototype.hasOwnProperty,Kf={current:null},Mv={key:!0,ref:!0,__self:!0,__source:!0};function Fv(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)Dv.call(e,r)&&!Mv.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:Ha,type:t,key:s,ref:a,props:i,_owner:Kf.current}}function _1(t,e){return{$$typeof:Ha,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function qf(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ha}function b1(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Up=/\/+/g;function Xu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?b1(""+t.key):e.toString(36)}function Fo(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Ha:case u1:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+Xu(a,0):r,Fp(i)?(n="",t!=null&&(n=t.replace(Up,"$&/")+"/"),Fo(i,e,n,"",function(u){return u})):i!=null&&(qf(i)&&(i=_1(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Up,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",Fp(t))for(var o=0;o<t.length;o++){s=t[o];var l=r+Xu(s,o);a+=Fo(s,e,n,l,i)}else if(l=w1(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=r+Xu(s,o++),a+=Fo(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function co(t,e,n){if(t==null)return t;var r=[],i=0;return Fo(t,r,"","",function(s){return e.call(n,s,i++)}),r}function x1(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var nt={current:null},Uo={transition:null},E1={ReactCurrentDispatcher:nt,ReactCurrentBatchConfig:Uo,ReactCurrentOwner:Kf};function Uv(){throw Error("act(...) is not supported in production builds of React.")}Q.Children={map:co,forEach:function(t,e,n){co(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return co(t,function(){e++}),e},toArray:function(t){return co(t,function(e){return e})||[]},only:function(t){if(!qf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Q.Component=os;Q.Fragment=c1;Q.Profiler=f1;Q.PureComponent=Gf;Q.StrictMode=d1;Q.Suspense=g1;Q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=E1;Q.act=Uv;Q.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=jv({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=Kf.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)Dv.call(e,l)&&!Mv.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:Ha,type:t.type,key:i,ref:s,props:r,_owner:a}};Q.createContext=function(t){return t={$$typeof:p1,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:h1,_context:t},t.Consumer=t};Q.createElement=Fv;Q.createFactory=function(t){var e=Fv.bind(null,t);return e.type=t,e};Q.createRef=function(){return{current:null}};Q.forwardRef=function(t){return{$$typeof:m1,render:t}};Q.isValidElement=qf;Q.lazy=function(t){return{$$typeof:v1,_payload:{_status:-1,_result:t},_init:x1}};Q.memo=function(t,e){return{$$typeof:y1,type:t,compare:e===void 0?null:e}};Q.startTransition=function(t){var e=Uo.transition;Uo.transition={};try{t()}finally{Uo.transition=e}};Q.unstable_act=Uv;Q.useCallback=function(t,e){return nt.current.useCallback(t,e)};Q.useContext=function(t){return nt.current.useContext(t)};Q.useDebugValue=function(){};Q.useDeferredValue=function(t){return nt.current.useDeferredValue(t)};Q.useEffect=function(t,e){return nt.current.useEffect(t,e)};Q.useId=function(){return nt.current.useId()};Q.useImperativeHandle=function(t,e,n){return nt.current.useImperativeHandle(t,e,n)};Q.useInsertionEffect=function(t,e){return nt.current.useInsertionEffect(t,e)};Q.useLayoutEffect=function(t,e){return nt.current.useLayoutEffect(t,e)};Q.useMemo=function(t,e){return nt.current.useMemo(t,e)};Q.useReducer=function(t,e,n){return nt.current.useReducer(t,e,n)};Q.useRef=function(t){return nt.current.useRef(t)};Q.useState=function(t){return nt.current.useState(t)};Q.useSyncExternalStore=function(t,e,n){return nt.current.useSyncExternalStore(t,e,n)};Q.useTransition=function(){return nt.current.useTransition()};Q.version="18.3.1";Nv.exports=Q;var E=Nv.exports;const Zt=ou(E),S1=l1({__proto__:null,default:Zt},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T1=E,P1=Symbol.for("react.element"),k1=Symbol.for("react.fragment"),C1=Object.prototype.hasOwnProperty,R1=T1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,O1={key:!0,ref:!0,__self:!0,__source:!0};function Vv(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)C1.call(e,r)&&!O1.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:P1,type:t,key:s,ref:a,props:i,_owner:R1.current}}lu.Fragment=k1;lu.jsx=Vv;lu.jsxs=Vv;Av.exports=lu;var _=Av.exports,fd={},Bv={exports:{}},Et={},zv={exports:{}},Hv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(S,C){var P=S.length;S.push(C);e:for(;0<P;){var V=P-1>>>1,M=S[V];if(0<i(M,C))S[V]=C,S[P]=M,P=V;else break e}}function n(S){return S.length===0?null:S[0]}function r(S){if(S.length===0)return null;var C=S[0],P=S.pop();if(P!==C){S[0]=P;e:for(var V=0,M=S.length,K=M>>>1;V<K;){var ue=2*(V+1)-1,he=S[ue],ht=ue+1,uo=S[ht];if(0>i(he,P))ht<M&&0>i(uo,he)?(S[V]=uo,S[ht]=P,V=ht):(S[V]=he,S[ue]=P,V=ue);else if(ht<M&&0>i(uo,P))S[V]=uo,S[ht]=P,V=ht;else break e}}return C}function i(S,C){var P=S.sortIndex-C.sortIndex;return P!==0?P:S.id-C.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],c=1,d=null,f=3,h=!1,p=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(S){for(var C=n(u);C!==null;){if(C.callback===null)r(u);else if(C.startTime<=S)r(u),C.sortIndex=C.expirationTime,e(l,C);else break;C=n(u)}}function b(S){if(v=!1,y(S),!p)if(n(l)!==null)p=!0,D(x);else{var C=n(u);C!==null&&U(b,C.startTime-S)}}function x(S,C){p=!1,v&&(v=!1,m(k),k=-1),h=!0;var P=f;try{for(y(C),d=n(l);d!==null&&(!(d.expirationTime>C)||S&&!ee());){var V=d.callback;if(typeof V=="function"){d.callback=null,f=d.priorityLevel;var M=V(d.expirationTime<=C);C=t.unstable_now(),typeof M=="function"?d.callback=M:d===n(l)&&r(l),y(C)}else r(l);d=n(l)}if(d!==null)var K=!0;else{var ue=n(u);ue!==null&&U(b,ue.startTime-C),K=!1}return K}finally{d=null,f=P,h=!1}}var T=!1,O=null,k=-1,Z=5,B=-1;function ee(){return!(t.unstable_now()-B<Z)}function Ae(){if(O!==null){var S=t.unstable_now();B=S;var C=!0;try{C=O(!0,S)}finally{C?Xe():(T=!1,O=null)}}else T=!1}var Xe;if(typeof g=="function")Xe=function(){g(Ae)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,R=j.port2;j.port1.onmessage=Ae,Xe=function(){R.postMessage(null)}}else Xe=function(){w(Ae,0)};function D(S){O=S,T||(T=!0,Xe())}function U(S,C){k=w(function(){S(t.unstable_now())},C)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(S){S.callback=null},t.unstable_continueExecution=function(){p||h||(p=!0,D(x))},t.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<S?Math.floor(1e3/S):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(S){switch(f){case 1:case 2:case 3:var C=3;break;default:C=f}var P=f;f=C;try{return S()}finally{f=P}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(S,C){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var P=f;f=S;try{return C()}finally{f=P}},t.unstable_scheduleCallback=function(S,C,P){var V=t.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?V+P:V):P=V,S){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=P+M,S={id:c++,callback:C,priorityLevel:S,startTime:P,expirationTime:M,sortIndex:-1},P>V?(S.sortIndex=P,e(u,S),n(l)===null&&S===n(u)&&(v?(m(k),k=-1):v=!0,U(b,P-V))):(S.sortIndex=M,e(l,S),p||h||(p=!0,D(x))),S},t.unstable_shouldYield=ee,t.unstable_wrapCallback=function(S){var C=f;return function(){var P=f;f=C;try{return S.apply(this,arguments)}finally{f=P}}}})(Hv);zv.exports=Hv;var A1=zv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N1=E,_t=A1;function A(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Wv=new Set,ra={};function li(t,e){Zi(t,e),Zi(t+"Capture",e)}function Zi(t,e){for(ra[t]=e,t=0;t<e.length;t++)Wv.add(e[t])}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hd=Object.prototype.hasOwnProperty,I1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vp={},Bp={};function j1(t){return hd.call(Bp,t)?!0:hd.call(Vp,t)?!1:I1.test(t)?Bp[t]=!0:(Vp[t]=!0,!1)}function L1(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function $1(t,e,n,r){if(e===null||typeof e>"u"||L1(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function rt(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Ue={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ue[t]=new rt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ue[e]=new rt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ue[t]=new rt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ue[t]=new rt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ue[t]=new rt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ue[t]=new rt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ue[t]=new rt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ue[t]=new rt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ue[t]=new rt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Jf=/[\-:]([a-z])/g;function Xf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Jf,Xf);Ue[e]=new rt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Jf,Xf);Ue[e]=new rt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Jf,Xf);Ue[e]=new rt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ue[t]=new rt(t,1,!1,t.toLowerCase(),null,!1,!1)});Ue.xlinkHref=new rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ue[t]=new rt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Qf(t,e,n,r){var i=Ue.hasOwnProperty(e)?Ue[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&($1(e,n,i,r)&&(n=null),r||i===null?j1(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Mn=N1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fo=Symbol.for("react.element"),vi=Symbol.for("react.portal"),wi=Symbol.for("react.fragment"),Yf=Symbol.for("react.strict_mode"),pd=Symbol.for("react.profiler"),Gv=Symbol.for("react.provider"),Zv=Symbol.for("react.context"),eh=Symbol.for("react.forward_ref"),md=Symbol.for("react.suspense"),gd=Symbol.for("react.suspense_list"),th=Symbol.for("react.memo"),Hn=Symbol.for("react.lazy"),Kv=Symbol.for("react.offscreen"),zp=Symbol.iterator;function vs(t){return t===null||typeof t!="object"?null:(t=zp&&t[zp]||t["@@iterator"],typeof t=="function"?t:null)}var we=Object.assign,Qu;function Os(t){if(Qu===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Qu=e&&e[1]||""}return`
`+Qu+t}var Yu=!1;function ec(t,e){if(!t||Yu)return"";Yu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{Yu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Os(t):""}function D1(t){switch(t.tag){case 5:return Os(t.type);case 16:return Os("Lazy");case 13:return Os("Suspense");case 19:return Os("SuspenseList");case 0:case 2:case 15:return t=ec(t.type,!1),t;case 11:return t=ec(t.type.render,!1),t;case 1:return t=ec(t.type,!0),t;default:return""}}function yd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case wi:return"Fragment";case vi:return"Portal";case pd:return"Profiler";case Yf:return"StrictMode";case md:return"Suspense";case gd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Zv:return(t.displayName||"Context")+".Consumer";case Gv:return(t._context.displayName||"Context")+".Provider";case eh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case th:return e=t.displayName||null,e!==null?e:yd(t.type)||"Memo";case Hn:e=t._payload,t=t._init;try{return yd(t(e))}catch{}}return null}function M1(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yd(e);case 8:return e===Yf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function pr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function qv(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function F1(t){var e=qv(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ho(t){t._valueTracker||(t._valueTracker=F1(t))}function Jv(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=qv(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function el(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function vd(t,e){var n=e.checked;return we({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Hp(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=pr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Xv(t,e){e=e.checked,e!=null&&Qf(t,"checked",e,!1)}function wd(t,e){Xv(t,e);var n=pr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?_d(t,e.type,n):e.hasOwnProperty("defaultValue")&&_d(t,e.type,pr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Wp(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function _d(t,e,n){(e!=="number"||el(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var As=Array.isArray;function Mi(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+pr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function bd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(A(91));return we({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Gp(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(A(92));if(As(n)){if(1<n.length)throw Error(A(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:pr(n)}}function Qv(t,e){var n=pr(e.value),r=pr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Zp(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Yv(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Yv(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var po,ew=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(po=po||document.createElement("div"),po.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=po.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ia(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Us={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},U1=["Webkit","ms","Moz","O"];Object.keys(Us).forEach(function(t){U1.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Us[e]=Us[t]})});function tw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Us.hasOwnProperty(t)&&Us[t]?(""+e).trim():e+"px"}function nw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=tw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var V1=we({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ed(t,e){if(e){if(V1[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(A(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(A(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(A(61))}if(e.style!=null&&typeof e.style!="object")throw Error(A(62))}}function Sd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Td=null;function nh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Pd=null,Fi=null,Ui=null;function Kp(t){if(t=Za(t)){if(typeof Pd!="function")throw Error(A(280));var e=t.stateNode;e&&(e=hu(e),Pd(t.stateNode,t.type,e))}}function rw(t){Fi?Ui?Ui.push(t):Ui=[t]:Fi=t}function iw(){if(Fi){var t=Fi,e=Ui;if(Ui=Fi=null,Kp(t),e)for(t=0;t<e.length;t++)Kp(e[t])}}function sw(t,e){return t(e)}function aw(){}var tc=!1;function ow(t,e,n){if(tc)return t(e,n);tc=!0;try{return sw(t,e,n)}finally{tc=!1,(Fi!==null||Ui!==null)&&(aw(),iw())}}function sa(t,e){var n=t.stateNode;if(n===null)return null;var r=hu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(A(231,e,typeof n));return n}var kd=!1;if(Nn)try{var ws={};Object.defineProperty(ws,"passive",{get:function(){kd=!0}}),window.addEventListener("test",ws,ws),window.removeEventListener("test",ws,ws)}catch{kd=!1}function B1(t,e,n,r,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Vs=!1,tl=null,nl=!1,Cd=null,z1={onError:function(t){Vs=!0,tl=t}};function H1(t,e,n,r,i,s,a,o,l){Vs=!1,tl=null,B1.apply(z1,arguments)}function W1(t,e,n,r,i,s,a,o,l){if(H1.apply(this,arguments),Vs){if(Vs){var u=tl;Vs=!1,tl=null}else throw Error(A(198));nl||(nl=!0,Cd=u)}}function ui(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function lw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function qp(t){if(ui(t)!==t)throw Error(A(188))}function G1(t){var e=t.alternate;if(!e){if(e=ui(t),e===null)throw Error(A(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return qp(i),t;if(s===r)return qp(i),e;s=s.sibling}throw Error(A(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(A(189))}}if(n.alternate!==r)throw Error(A(190))}if(n.tag!==3)throw Error(A(188));return n.stateNode.current===n?t:e}function uw(t){return t=G1(t),t!==null?cw(t):null}function cw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=cw(t);if(e!==null)return e;t=t.sibling}return null}var dw=_t.unstable_scheduleCallback,Jp=_t.unstable_cancelCallback,Z1=_t.unstable_shouldYield,K1=_t.unstable_requestPaint,xe=_t.unstable_now,q1=_t.unstable_getCurrentPriorityLevel,rh=_t.unstable_ImmediatePriority,fw=_t.unstable_UserBlockingPriority,rl=_t.unstable_NormalPriority,J1=_t.unstable_LowPriority,hw=_t.unstable_IdlePriority,uu=null,hn=null;function X1(t){if(hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(uu,t,void 0,(t.current.flags&128)===128)}catch{}}var Kt=Math.clz32?Math.clz32:eE,Q1=Math.log,Y1=Math.LN2;function eE(t){return t>>>=0,t===0?32:31-(Q1(t)/Y1|0)|0}var mo=64,go=4194304;function Ns(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function il(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~i;o!==0?r=Ns(o):(s&=a,s!==0&&(r=Ns(s)))}else a=n&~i,a!==0?r=Ns(a):s!==0&&(r=Ns(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Kt(e),i=1<<n,r|=t[n],e&=~i;return r}function tE(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nE(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-Kt(s),o=1<<a,l=i[a];l===-1?(!(o&n)||o&r)&&(i[a]=tE(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function Rd(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function pw(){var t=mo;return mo<<=1,!(mo&4194240)&&(mo=64),t}function nc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Wa(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Kt(e),t[e]=n}function rE(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Kt(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function ih(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Kt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var le=0;function mw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var gw,sh,yw,vw,ww,Od=!1,yo=[],nr=null,rr=null,ir=null,aa=new Map,oa=new Map,qn=[],iE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xp(t,e){switch(t){case"focusin":case"focusout":nr=null;break;case"dragenter":case"dragleave":rr=null;break;case"mouseover":case"mouseout":ir=null;break;case"pointerover":case"pointerout":aa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":oa.delete(e.pointerId)}}function _s(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Za(e),e!==null&&sh(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function sE(t,e,n,r,i){switch(e){case"focusin":return nr=_s(nr,t,e,n,r,i),!0;case"dragenter":return rr=_s(rr,t,e,n,r,i),!0;case"mouseover":return ir=_s(ir,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return aa.set(s,_s(aa.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,oa.set(s,_s(oa.get(s)||null,t,e,n,r,i)),!0}return!1}function _w(t){var e=Dr(t.target);if(e!==null){var n=ui(e);if(n!==null){if(e=n.tag,e===13){if(e=lw(n),e!==null){t.blockedOn=e,ww(t.priority,function(){yw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ad(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Td=r,n.target.dispatchEvent(r),Td=null}else return e=Za(n),e!==null&&sh(e),t.blockedOn=n,!1;e.shift()}return!0}function Qp(t,e,n){Vo(t)&&n.delete(e)}function aE(){Od=!1,nr!==null&&Vo(nr)&&(nr=null),rr!==null&&Vo(rr)&&(rr=null),ir!==null&&Vo(ir)&&(ir=null),aa.forEach(Qp),oa.forEach(Qp)}function bs(t,e){t.blockedOn===e&&(t.blockedOn=null,Od||(Od=!0,_t.unstable_scheduleCallback(_t.unstable_NormalPriority,aE)))}function la(t){function e(i){return bs(i,t)}if(0<yo.length){bs(yo[0],t);for(var n=1;n<yo.length;n++){var r=yo[n];r.blockedOn===t&&(r.blockedOn=null)}}for(nr!==null&&bs(nr,t),rr!==null&&bs(rr,t),ir!==null&&bs(ir,t),aa.forEach(e),oa.forEach(e),n=0;n<qn.length;n++)r=qn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<qn.length&&(n=qn[0],n.blockedOn===null);)_w(n),n.blockedOn===null&&qn.shift()}var Vi=Mn.ReactCurrentBatchConfig,sl=!0;function oE(t,e,n,r){var i=le,s=Vi.transition;Vi.transition=null;try{le=1,ah(t,e,n,r)}finally{le=i,Vi.transition=s}}function lE(t,e,n,r){var i=le,s=Vi.transition;Vi.transition=null;try{le=4,ah(t,e,n,r)}finally{le=i,Vi.transition=s}}function ah(t,e,n,r){if(sl){var i=Ad(t,e,n,r);if(i===null)fc(t,e,r,al,n),Xp(t,r);else if(sE(i,t,e,n,r))r.stopPropagation();else if(Xp(t,r),e&4&&-1<iE.indexOf(t)){for(;i!==null;){var s=Za(i);if(s!==null&&gw(s),s=Ad(t,e,n,r),s===null&&fc(t,e,r,al,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else fc(t,e,r,null,n)}}var al=null;function Ad(t,e,n,r){if(al=null,t=nh(r),t=Dr(t),t!==null)if(e=ui(t),e===null)t=null;else if(n=e.tag,n===13){if(t=lw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return al=t,null}function bw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(q1()){case rh:return 1;case fw:return 4;case rl:case J1:return 16;case hw:return 536870912;default:return 16}default:return 16}}var Qn=null,oh=null,Bo=null;function xw(){if(Bo)return Bo;var t,e=oh,n=e.length,r,i="value"in Qn?Qn.value:Qn.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return Bo=i.slice(t,1<r?1-r:void 0)}function zo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function vo(){return!0}function Yp(){return!1}function St(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?vo:Yp,this.isPropagationStopped=Yp,this}return we(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vo)},persist:function(){},isPersistent:vo}),e}var ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lh=St(ls),Ga=we({},ls,{view:0,detail:0}),uE=St(Ga),rc,ic,xs,cu=we({},Ga,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xs&&(xs&&t.type==="mousemove"?(rc=t.screenX-xs.screenX,ic=t.screenY-xs.screenY):ic=rc=0,xs=t),rc)},movementY:function(t){return"movementY"in t?t.movementY:ic}}),em=St(cu),cE=we({},cu,{dataTransfer:0}),dE=St(cE),fE=we({},Ga,{relatedTarget:0}),sc=St(fE),hE=we({},ls,{animationName:0,elapsedTime:0,pseudoElement:0}),pE=St(hE),mE=we({},ls,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gE=St(mE),yE=we({},ls,{data:0}),tm=St(yE),vE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_E={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bE(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=_E[t])?!!e[t]:!1}function uh(){return bE}var xE=we({},Ga,{key:function(t){if(t.key){var e=vE[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=zo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?wE[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uh,charCode:function(t){return t.type==="keypress"?zo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?zo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),EE=St(xE),SE=we({},cu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nm=St(SE),TE=we({},Ga,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uh}),PE=St(TE),kE=we({},ls,{propertyName:0,elapsedTime:0,pseudoElement:0}),CE=St(kE),RE=we({},cu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),OE=St(RE),AE=[9,13,27,32],ch=Nn&&"CompositionEvent"in window,Bs=null;Nn&&"documentMode"in document&&(Bs=document.documentMode);var NE=Nn&&"TextEvent"in window&&!Bs,Ew=Nn&&(!ch||Bs&&8<Bs&&11>=Bs),rm=" ",im=!1;function Sw(t,e){switch(t){case"keyup":return AE.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _i=!1;function IE(t,e){switch(t){case"compositionend":return Tw(e);case"keypress":return e.which!==32?null:(im=!0,rm);case"textInput":return t=e.data,t===rm&&im?null:t;default:return null}}function jE(t,e){if(_i)return t==="compositionend"||!ch&&Sw(t,e)?(t=xw(),Bo=oh=Qn=null,_i=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ew&&e.locale!=="ko"?null:e.data;default:return null}}var LE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!LE[t.type]:e==="textarea"}function Pw(t,e,n,r){rw(r),e=ol(e,"onChange"),0<e.length&&(n=new lh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var zs=null,ua=null;function $E(t){Dw(t,0)}function du(t){var e=Ei(t);if(Jv(e))return t}function DE(t,e){if(t==="change")return e}var kw=!1;if(Nn){var ac;if(Nn){var oc="oninput"in document;if(!oc){var am=document.createElement("div");am.setAttribute("oninput","return;"),oc=typeof am.oninput=="function"}ac=oc}else ac=!1;kw=ac&&(!document.documentMode||9<document.documentMode)}function om(){zs&&(zs.detachEvent("onpropertychange",Cw),ua=zs=null)}function Cw(t){if(t.propertyName==="value"&&du(ua)){var e=[];Pw(e,ua,t,nh(t)),ow($E,e)}}function ME(t,e,n){t==="focusin"?(om(),zs=e,ua=n,zs.attachEvent("onpropertychange",Cw)):t==="focusout"&&om()}function FE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return du(ua)}function UE(t,e){if(t==="click")return du(e)}function VE(t,e){if(t==="input"||t==="change")return du(e)}function BE(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var en=typeof Object.is=="function"?Object.is:BE;function ca(t,e){if(en(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!hd.call(e,i)||!en(t[i],e[i]))return!1}return!0}function lm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function um(t,e){var n=lm(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=lm(n)}}function Rw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Rw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ow(){for(var t=window,e=el();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=el(t.document)}return e}function dh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function zE(t){var e=Ow(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Rw(n.ownerDocument.documentElement,n)){if(r!==null&&dh(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=um(n,s);var a=um(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var HE=Nn&&"documentMode"in document&&11>=document.documentMode,bi=null,Nd=null,Hs=null,Id=!1;function cm(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Id||bi==null||bi!==el(r)||(r=bi,"selectionStart"in r&&dh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Hs&&ca(Hs,r)||(Hs=r,r=ol(Nd,"onSelect"),0<r.length&&(e=new lh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=bi)))}function wo(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var xi={animationend:wo("Animation","AnimationEnd"),animationiteration:wo("Animation","AnimationIteration"),animationstart:wo("Animation","AnimationStart"),transitionend:wo("Transition","TransitionEnd")},lc={},Aw={};Nn&&(Aw=document.createElement("div").style,"AnimationEvent"in window||(delete xi.animationend.animation,delete xi.animationiteration.animation,delete xi.animationstart.animation),"TransitionEvent"in window||delete xi.transitionend.transition);function fu(t){if(lc[t])return lc[t];if(!xi[t])return t;var e=xi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Aw)return lc[t]=e[n];return t}var Nw=fu("animationend"),Iw=fu("animationiteration"),jw=fu("animationstart"),Lw=fu("transitionend"),$w=new Map,dm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sr(t,e){$w.set(t,e),li(e,[t])}for(var uc=0;uc<dm.length;uc++){var cc=dm[uc],WE=cc.toLowerCase(),GE=cc[0].toUpperCase()+cc.slice(1);Sr(WE,"on"+GE)}Sr(Nw,"onAnimationEnd");Sr(Iw,"onAnimationIteration");Sr(jw,"onAnimationStart");Sr("dblclick","onDoubleClick");Sr("focusin","onFocus");Sr("focusout","onBlur");Sr(Lw,"onTransitionEnd");Zi("onMouseEnter",["mouseout","mouseover"]);Zi("onMouseLeave",["mouseout","mouseover"]);Zi("onPointerEnter",["pointerout","pointerover"]);Zi("onPointerLeave",["pointerout","pointerover"]);li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));li("onBeforeInput",["compositionend","keypress","textInput","paste"]);li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Is="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZE=new Set("cancel close invalid load scroll toggle".split(" ").concat(Is));function fm(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,W1(r,e,void 0,t),t.currentTarget=null}function Dw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;fm(i,o,u),s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;fm(i,o,u),s=l}}}if(nl)throw t=Cd,nl=!1,Cd=null,t}function de(t,e){var n=e[Md];n===void 0&&(n=e[Md]=new Set);var r=t+"__bubble";n.has(r)||(Mw(e,t,2,!1),n.add(r))}function dc(t,e,n){var r=0;e&&(r|=4),Mw(n,t,r,e)}var _o="_reactListening"+Math.random().toString(36).slice(2);function da(t){if(!t[_o]){t[_o]=!0,Wv.forEach(function(n){n!=="selectionchange"&&(ZE.has(n)||dc(n,!1,t),dc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[_o]||(e[_o]=!0,dc("selectionchange",!1,e))}}function Mw(t,e,n,r){switch(bw(e)){case 1:var i=oE;break;case 4:i=lE;break;default:i=ah}n=i.bind(null,e,n,t),i=void 0,!kd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function fc(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Dr(o),a===null)return;if(l=a.tag,l===5||l===6){r=s=a;continue e}o=o.parentNode}}r=r.return}ow(function(){var u=s,c=nh(n),d=[];e:{var f=$w.get(t);if(f!==void 0){var h=lh,p=t;switch(t){case"keypress":if(zo(n)===0)break e;case"keydown":case"keyup":h=EE;break;case"focusin":p="focus",h=sc;break;case"focusout":p="blur",h=sc;break;case"beforeblur":case"afterblur":h=sc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=em;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=dE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=PE;break;case Nw:case Iw:case jw:h=pE;break;case Lw:h=CE;break;case"scroll":h=uE;break;case"wheel":h=OE;break;case"copy":case"cut":case"paste":h=gE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=nm}var v=(e&4)!==0,w=!v&&t==="scroll",m=v?f!==null?f+"Capture":null:f;v=[];for(var g=u,y;g!==null;){y=g;var b=y.stateNode;if(y.tag===5&&b!==null&&(y=b,m!==null&&(b=sa(g,m),b!=null&&v.push(fa(g,b,y)))),w)break;g=g.return}0<v.length&&(f=new h(f,p,null,n,c),d.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",f&&n!==Td&&(p=n.relatedTarget||n.fromElement)&&(Dr(p)||p[In]))break e;if((h||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=u,p=p?Dr(p):null,p!==null&&(w=ui(p),p!==w||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=u),h!==p)){if(v=em,b="onMouseLeave",m="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(v=nm,b="onPointerLeave",m="onPointerEnter",g="pointer"),w=h==null?f:Ei(h),y=p==null?f:Ei(p),f=new v(b,g+"leave",h,n,c),f.target=w,f.relatedTarget=y,b=null,Dr(c)===u&&(v=new v(m,g+"enter",p,n,c),v.target=y,v.relatedTarget=w,b=v),w=b,h&&p)t:{for(v=h,m=p,g=0,y=v;y;y=fi(y))g++;for(y=0,b=m;b;b=fi(b))y++;for(;0<g-y;)v=fi(v),g--;for(;0<y-g;)m=fi(m),y--;for(;g--;){if(v===m||m!==null&&v===m.alternate)break t;v=fi(v),m=fi(m)}v=null}else v=null;h!==null&&hm(d,f,h,v,!1),p!==null&&w!==null&&hm(d,w,p,v,!0)}}e:{if(f=u?Ei(u):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var x=DE;else if(sm(f))if(kw)x=VE;else{x=FE;var T=ME}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(x=UE);if(x&&(x=x(t,u))){Pw(d,x,n,c);break e}T&&T(t,f,u),t==="focusout"&&(T=f._wrapperState)&&T.controlled&&f.type==="number"&&_d(f,"number",f.value)}switch(T=u?Ei(u):window,t){case"focusin":(sm(T)||T.contentEditable==="true")&&(bi=T,Nd=u,Hs=null);break;case"focusout":Hs=Nd=bi=null;break;case"mousedown":Id=!0;break;case"contextmenu":case"mouseup":case"dragend":Id=!1,cm(d,n,c);break;case"selectionchange":if(HE)break;case"keydown":case"keyup":cm(d,n,c)}var O;if(ch)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else _i?Sw(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(Ew&&n.locale!=="ko"&&(_i||k!=="onCompositionStart"?k==="onCompositionEnd"&&_i&&(O=xw()):(Qn=c,oh="value"in Qn?Qn.value:Qn.textContent,_i=!0)),T=ol(u,k),0<T.length&&(k=new tm(k,t,null,n,c),d.push({event:k,listeners:T}),O?k.data=O:(O=Tw(n),O!==null&&(k.data=O)))),(O=NE?IE(t,n):jE(t,n))&&(u=ol(u,"onBeforeInput"),0<u.length&&(c=new tm("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=O))}Dw(d,e)})}function fa(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ol(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=sa(t,n),s!=null&&r.unshift(fa(t,s,i)),s=sa(t,e),s!=null&&r.push(fa(t,s,i))),t=t.return}return r}function fi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function hm(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,i?(l=sa(n,s),l!=null&&a.unshift(fa(n,l,o))):i||(l=sa(n,s),l!=null&&a.push(fa(n,l,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var KE=/\r\n?/g,qE=/\u0000|\uFFFD/g;function pm(t){return(typeof t=="string"?t:""+t).replace(KE,`
`).replace(qE,"")}function bo(t,e,n){if(e=pm(e),pm(t)!==e&&n)throw Error(A(425))}function ll(){}var jd=null,Ld=null;function $d(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Dd=typeof setTimeout=="function"?setTimeout:void 0,JE=typeof clearTimeout=="function"?clearTimeout:void 0,mm=typeof Promise=="function"?Promise:void 0,XE=typeof queueMicrotask=="function"?queueMicrotask:typeof mm<"u"?function(t){return mm.resolve(null).then(t).catch(QE)}:Dd;function QE(t){setTimeout(function(){throw t})}function hc(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),la(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);la(e)}function sr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function gm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var us=Math.random().toString(36).slice(2),un="__reactFiber$"+us,ha="__reactProps$"+us,In="__reactContainer$"+us,Md="__reactEvents$"+us,YE="__reactListeners$"+us,eS="__reactHandles$"+us;function Dr(t){var e=t[un];if(e)return e;for(var n=t.parentNode;n;){if(e=n[In]||n[un]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=gm(t);t!==null;){if(n=t[un])return n;t=gm(t)}return e}t=n,n=t.parentNode}return null}function Za(t){return t=t[un]||t[In],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ei(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(A(33))}function hu(t){return t[ha]||null}var Fd=[],Si=-1;function Tr(t){return{current:t}}function fe(t){0>Si||(t.current=Fd[Si],Fd[Si]=null,Si--)}function ce(t,e){Si++,Fd[Si]=t.current,t.current=e}var mr={},Ke=Tr(mr),ut=Tr(!1),Xr=mr;function Ki(t,e){var n=t.type.contextTypes;if(!n)return mr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ct(t){return t=t.childContextTypes,t!=null}function ul(){fe(ut),fe(Ke)}function ym(t,e,n){if(Ke.current!==mr)throw Error(A(168));ce(Ke,e),ce(ut,n)}function Fw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(A(108,M1(t)||"Unknown",i));return we({},n,r)}function cl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||mr,Xr=Ke.current,ce(Ke,t),ce(ut,ut.current),!0}function vm(t,e,n){var r=t.stateNode;if(!r)throw Error(A(169));n?(t=Fw(t,e,Xr),r.__reactInternalMemoizedMergedChildContext=t,fe(ut),fe(Ke),ce(Ke,t)):fe(ut),ce(ut,n)}var xn=null,pu=!1,pc=!1;function Uw(t){xn===null?xn=[t]:xn.push(t)}function tS(t){pu=!0,Uw(t)}function Pr(){if(!pc&&xn!==null){pc=!0;var t=0,e=le;try{var n=xn;for(le=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}xn=null,pu=!1}catch(i){throw xn!==null&&(xn=xn.slice(t+1)),dw(rh,Pr),i}finally{le=e,pc=!1}}return null}var Ti=[],Pi=0,dl=null,fl=0,Rt=[],Ot=0,Qr=null,En=1,Sn="";function Nr(t,e){Ti[Pi++]=fl,Ti[Pi++]=dl,dl=t,fl=e}function Vw(t,e,n){Rt[Ot++]=En,Rt[Ot++]=Sn,Rt[Ot++]=Qr,Qr=t;var r=En;t=Sn;var i=32-Kt(r)-1;r&=~(1<<i),n+=1;var s=32-Kt(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,En=1<<32-Kt(e)+i|n<<i|r,Sn=s+t}else En=1<<s|n<<i|r,Sn=t}function fh(t){t.return!==null&&(Nr(t,1),Vw(t,1,0))}function hh(t){for(;t===dl;)dl=Ti[--Pi],Ti[Pi]=null,fl=Ti[--Pi],Ti[Pi]=null;for(;t===Qr;)Qr=Rt[--Ot],Rt[Ot]=null,Sn=Rt[--Ot],Rt[Ot]=null,En=Rt[--Ot],Rt[Ot]=null}var yt=null,gt=null,pe=!1,Ht=null;function Bw(t,e){var n=Nt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function wm(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,yt=t,gt=sr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,yt=t,gt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Qr!==null?{id:En,overflow:Sn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Nt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,yt=t,gt=null,!0):!1;default:return!1}}function Ud(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Vd(t){if(pe){var e=gt;if(e){var n=e;if(!wm(t,e)){if(Ud(t))throw Error(A(418));e=sr(n.nextSibling);var r=yt;e&&wm(t,e)?Bw(r,n):(t.flags=t.flags&-4097|2,pe=!1,yt=t)}}else{if(Ud(t))throw Error(A(418));t.flags=t.flags&-4097|2,pe=!1,yt=t}}}function _m(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;yt=t}function xo(t){if(t!==yt)return!1;if(!pe)return _m(t),pe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!$d(t.type,t.memoizedProps)),e&&(e=gt)){if(Ud(t))throw zw(),Error(A(418));for(;e;)Bw(t,e),e=sr(e.nextSibling)}if(_m(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(A(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){gt=sr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}gt=null}}else gt=yt?sr(t.stateNode.nextSibling):null;return!0}function zw(){for(var t=gt;t;)t=sr(t.nextSibling)}function qi(){gt=yt=null,pe=!1}function ph(t){Ht===null?Ht=[t]:Ht.push(t)}var nS=Mn.ReactCurrentBatchConfig;function Es(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(A(309));var r=n.stateNode}if(!r)throw Error(A(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(A(284));if(!n._owner)throw Error(A(290,t))}return t}function Eo(t,e){throw t=Object.prototype.toString.call(e),Error(A(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function bm(t){var e=t._init;return e(t._payload)}function Hw(t){function e(m,g){if(t){var y=m.deletions;y===null?(m.deletions=[g],m.flags|=16):y.push(g)}}function n(m,g){if(!t)return null;for(;g!==null;)e(m,g),g=g.sibling;return null}function r(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function i(m,g){return m=ur(m,g),m.index=0,m.sibling=null,m}function s(m,g,y){return m.index=y,t?(y=m.alternate,y!==null?(y=y.index,y<g?(m.flags|=2,g):y):(m.flags|=2,g)):(m.flags|=1048576,g)}function a(m){return t&&m.alternate===null&&(m.flags|=2),m}function o(m,g,y,b){return g===null||g.tag!==6?(g=bc(y,m.mode,b),g.return=m,g):(g=i(g,y),g.return=m,g)}function l(m,g,y,b){var x=y.type;return x===wi?c(m,g,y.props.children,b,y.key):g!==null&&(g.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Hn&&bm(x)===g.type)?(b=i(g,y.props),b.ref=Es(m,g,y),b.return=m,b):(b=Jo(y.type,y.key,y.props,null,m.mode,b),b.ref=Es(m,g,y),b.return=m,b)}function u(m,g,y,b){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=xc(y,m.mode,b),g.return=m,g):(g=i(g,y.children||[]),g.return=m,g)}function c(m,g,y,b,x){return g===null||g.tag!==7?(g=Wr(y,m.mode,b,x),g.return=m,g):(g=i(g,y),g.return=m,g)}function d(m,g,y){if(typeof g=="string"&&g!==""||typeof g=="number")return g=bc(""+g,m.mode,y),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case fo:return y=Jo(g.type,g.key,g.props,null,m.mode,y),y.ref=Es(m,null,g),y.return=m,y;case vi:return g=xc(g,m.mode,y),g.return=m,g;case Hn:var b=g._init;return d(m,b(g._payload),y)}if(As(g)||vs(g))return g=Wr(g,m.mode,y,null),g.return=m,g;Eo(m,g)}return null}function f(m,g,y,b){var x=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return x!==null?null:o(m,g,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case fo:return y.key===x?l(m,g,y,b):null;case vi:return y.key===x?u(m,g,y,b):null;case Hn:return x=y._init,f(m,g,x(y._payload),b)}if(As(y)||vs(y))return x!==null?null:c(m,g,y,b,null);Eo(m,y)}return null}function h(m,g,y,b,x){if(typeof b=="string"&&b!==""||typeof b=="number")return m=m.get(y)||null,o(g,m,""+b,x);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case fo:return m=m.get(b.key===null?y:b.key)||null,l(g,m,b,x);case vi:return m=m.get(b.key===null?y:b.key)||null,u(g,m,b,x);case Hn:var T=b._init;return h(m,g,y,T(b._payload),x)}if(As(b)||vs(b))return m=m.get(y)||null,c(g,m,b,x,null);Eo(g,b)}return null}function p(m,g,y,b){for(var x=null,T=null,O=g,k=g=0,Z=null;O!==null&&k<y.length;k++){O.index>k?(Z=O,O=null):Z=O.sibling;var B=f(m,O,y[k],b);if(B===null){O===null&&(O=Z);break}t&&O&&B.alternate===null&&e(m,O),g=s(B,g,k),T===null?x=B:T.sibling=B,T=B,O=Z}if(k===y.length)return n(m,O),pe&&Nr(m,k),x;if(O===null){for(;k<y.length;k++)O=d(m,y[k],b),O!==null&&(g=s(O,g,k),T===null?x=O:T.sibling=O,T=O);return pe&&Nr(m,k),x}for(O=r(m,O);k<y.length;k++)Z=h(O,m,k,y[k],b),Z!==null&&(t&&Z.alternate!==null&&O.delete(Z.key===null?k:Z.key),g=s(Z,g,k),T===null?x=Z:T.sibling=Z,T=Z);return t&&O.forEach(function(ee){return e(m,ee)}),pe&&Nr(m,k),x}function v(m,g,y,b){var x=vs(y);if(typeof x!="function")throw Error(A(150));if(y=x.call(y),y==null)throw Error(A(151));for(var T=x=null,O=g,k=g=0,Z=null,B=y.next();O!==null&&!B.done;k++,B=y.next()){O.index>k?(Z=O,O=null):Z=O.sibling;var ee=f(m,O,B.value,b);if(ee===null){O===null&&(O=Z);break}t&&O&&ee.alternate===null&&e(m,O),g=s(ee,g,k),T===null?x=ee:T.sibling=ee,T=ee,O=Z}if(B.done)return n(m,O),pe&&Nr(m,k),x;if(O===null){for(;!B.done;k++,B=y.next())B=d(m,B.value,b),B!==null&&(g=s(B,g,k),T===null?x=B:T.sibling=B,T=B);return pe&&Nr(m,k),x}for(O=r(m,O);!B.done;k++,B=y.next())B=h(O,m,k,B.value,b),B!==null&&(t&&B.alternate!==null&&O.delete(B.key===null?k:B.key),g=s(B,g,k),T===null?x=B:T.sibling=B,T=B);return t&&O.forEach(function(Ae){return e(m,Ae)}),pe&&Nr(m,k),x}function w(m,g,y,b){if(typeof y=="object"&&y!==null&&y.type===wi&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case fo:e:{for(var x=y.key,T=g;T!==null;){if(T.key===x){if(x=y.type,x===wi){if(T.tag===7){n(m,T.sibling),g=i(T,y.props.children),g.return=m,m=g;break e}}else if(T.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Hn&&bm(x)===T.type){n(m,T.sibling),g=i(T,y.props),g.ref=Es(m,T,y),g.return=m,m=g;break e}n(m,T);break}else e(m,T);T=T.sibling}y.type===wi?(g=Wr(y.props.children,m.mode,b,y.key),g.return=m,m=g):(b=Jo(y.type,y.key,y.props,null,m.mode,b),b.ref=Es(m,g,y),b.return=m,m=b)}return a(m);case vi:e:{for(T=y.key;g!==null;){if(g.key===T)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){n(m,g.sibling),g=i(g,y.children||[]),g.return=m,m=g;break e}else{n(m,g);break}else e(m,g);g=g.sibling}g=xc(y,m.mode,b),g.return=m,m=g}return a(m);case Hn:return T=y._init,w(m,g,T(y._payload),b)}if(As(y))return p(m,g,y,b);if(vs(y))return v(m,g,y,b);Eo(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,g!==null&&g.tag===6?(n(m,g.sibling),g=i(g,y),g.return=m,m=g):(n(m,g),g=bc(y,m.mode,b),g.return=m,m=g),a(m)):n(m,g)}return w}var Ji=Hw(!0),Ww=Hw(!1),hl=Tr(null),pl=null,ki=null,mh=null;function gh(){mh=ki=pl=null}function yh(t){var e=hl.current;fe(hl),t._currentValue=e}function Bd(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Bi(t,e){pl=t,mh=ki=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(lt=!0),t.firstContext=null)}function jt(t){var e=t._currentValue;if(mh!==t)if(t={context:t,memoizedValue:e,next:null},ki===null){if(pl===null)throw Error(A(308));ki=t,pl.dependencies={lanes:0,firstContext:t}}else ki=ki.next=t;return e}var Mr=null;function vh(t){Mr===null?Mr=[t]:Mr.push(t)}function Gw(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,vh(e)):(n.next=i.next,i.next=n),e.interleaved=n,jn(t,r)}function jn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Wn=!1;function wh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function kn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ar(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,te&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,jn(t,n)}return i=r.interleaved,i===null?(e.next=e,vh(r)):(e.next=i.next,i.next=e),r.interleaved=e,jn(t,n)}function Ho(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ih(t,n)}}function xm(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ml(t,e,n,r){var i=t.updateQueue;Wn=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var c=t.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==a&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;a=0,c=u=l=null,o=s;do{var f=o.lane,h=o.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=t,v=o;switch(f=e,h=n,v.tag){case 1:if(p=v.payload,typeof p=="function"){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=v.payload,f=typeof p=="function"?p.call(h,d,f):p,f==null)break e;d=we({},d,f);break e;case 2:Wn=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[o]:f.push(o))}else h={eventTime:h,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=h,l=d):c=c.next=h,a|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ei|=a,t.lanes=a,t.memoizedState=d}}function Em(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(A(191,i));i.call(r)}}}var Ka={},pn=Tr(Ka),pa=Tr(Ka),ma=Tr(Ka);function Fr(t){if(t===Ka)throw Error(A(174));return t}function _h(t,e){switch(ce(ma,e),ce(pa,t),ce(pn,Ka),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:xd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=xd(e,t)}fe(pn),ce(pn,e)}function Xi(){fe(pn),fe(pa),fe(ma)}function Kw(t){Fr(ma.current);var e=Fr(pn.current),n=xd(e,t.type);e!==n&&(ce(pa,t),ce(pn,n))}function bh(t){pa.current===t&&(fe(pn),fe(pa))}var ge=Tr(0);function gl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var mc=[];function xh(){for(var t=0;t<mc.length;t++)mc[t]._workInProgressVersionPrimary=null;mc.length=0}var Wo=Mn.ReactCurrentDispatcher,gc=Mn.ReactCurrentBatchConfig,Yr=0,ve=null,ke=null,Ie=null,yl=!1,Ws=!1,ga=0,rS=0;function Ve(){throw Error(A(321))}function Eh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!en(t[n],e[n]))return!1;return!0}function Sh(t,e,n,r,i,s){if(Yr=s,ve=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Wo.current=t===null||t.memoizedState===null?oS:lS,t=n(r,i),Ws){s=0;do{if(Ws=!1,ga=0,25<=s)throw Error(A(301));s+=1,Ie=ke=null,e.updateQueue=null,Wo.current=uS,t=n(r,i)}while(Ws)}if(Wo.current=vl,e=ke!==null&&ke.next!==null,Yr=0,Ie=ke=ve=null,yl=!1,e)throw Error(A(300));return t}function Th(){var t=ga!==0;return ga=0,t}function ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?ve.memoizedState=Ie=t:Ie=Ie.next=t,Ie}function Lt(){if(ke===null){var t=ve.alternate;t=t!==null?t.memoizedState:null}else t=ke.next;var e=Ie===null?ve.memoizedState:Ie.next;if(e!==null)Ie=e,ke=t;else{if(t===null)throw Error(A(310));ke=t,t={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},Ie===null?ve.memoizedState=Ie=t:Ie=Ie.next=t}return Ie}function ya(t,e){return typeof e=="function"?e(t):e}function yc(t){var e=Lt(),n=e.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=t;var r=ke,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,l=null,u=s;do{var c=u.lane;if((Yr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=d,a=r):l=l.next=d,ve.lanes|=c,ei|=c}u=u.next}while(u!==null&&u!==s);l===null?a=r:l.next=o,en(r,e.memoizedState)||(lt=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ve.lanes|=s,ei|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function vc(t){var e=Lt(),n=e.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);en(s,e.memoizedState)||(lt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function qw(){}function Jw(t,e){var n=ve,r=Lt(),i=e(),s=!en(r.memoizedState,i);if(s&&(r.memoizedState=i,lt=!0),r=r.queue,Ph(Yw.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ie!==null&&Ie.memoizedState.tag&1){if(n.flags|=2048,va(9,Qw.bind(null,n,r,i,e),void 0,null),Le===null)throw Error(A(349));Yr&30||Xw(n,e,i)}return i}function Xw(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ve.updateQueue,e===null?(e={lastEffect:null,stores:null},ve.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Qw(t,e,n,r){e.value=n,e.getSnapshot=r,e0(e)&&t0(t)}function Yw(t,e,n){return n(function(){e0(e)&&t0(t)})}function e0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!en(t,n)}catch{return!0}}function t0(t){var e=jn(t,1);e!==null&&qt(e,t,1,-1)}function Sm(t){var e=ln();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ya,lastRenderedState:t},e.queue=t,t=t.dispatch=aS.bind(null,ve,t),[e.memoizedState,t]}function va(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ve.updateQueue,e===null?(e={lastEffect:null,stores:null},ve.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function n0(){return Lt().memoizedState}function Go(t,e,n,r){var i=ln();ve.flags|=t,i.memoizedState=va(1|e,n,void 0,r===void 0?null:r)}function mu(t,e,n,r){var i=Lt();r=r===void 0?null:r;var s=void 0;if(ke!==null){var a=ke.memoizedState;if(s=a.destroy,r!==null&&Eh(r,a.deps)){i.memoizedState=va(e,n,s,r);return}}ve.flags|=t,i.memoizedState=va(1|e,n,s,r)}function Tm(t,e){return Go(8390656,8,t,e)}function Ph(t,e){return mu(2048,8,t,e)}function r0(t,e){return mu(4,2,t,e)}function i0(t,e){return mu(4,4,t,e)}function s0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function a0(t,e,n){return n=n!=null?n.concat([t]):null,mu(4,4,s0.bind(null,e,t),n)}function kh(){}function o0(t,e){var n=Lt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Eh(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function l0(t,e){var n=Lt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Eh(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function u0(t,e,n){return Yr&21?(en(n,e)||(n=pw(),ve.lanes|=n,ei|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,lt=!0),t.memoizedState=n)}function iS(t,e){var n=le;le=n!==0&&4>n?n:4,t(!0);var r=gc.transition;gc.transition={};try{t(!1),e()}finally{le=n,gc.transition=r}}function c0(){return Lt().memoizedState}function sS(t,e,n){var r=lr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},d0(t))f0(e,n);else if(n=Gw(t,e,n,r),n!==null){var i=et();qt(n,t,r,i),h0(n,e,r)}}function aS(t,e,n){var r=lr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(d0(t))f0(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,en(o,a)){var l=e.interleaved;l===null?(i.next=i,vh(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Gw(t,e,i,r),n!==null&&(i=et(),qt(n,t,r,i),h0(n,e,r))}}function d0(t){var e=t.alternate;return t===ve||e!==null&&e===ve}function f0(t,e){Ws=yl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function h0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ih(t,n)}}var vl={readContext:jt,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useInsertionEffect:Ve,useLayoutEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useMutableSource:Ve,useSyncExternalStore:Ve,useId:Ve,unstable_isNewReconciler:!1},oS={readContext:jt,useCallback:function(t,e){return ln().memoizedState=[t,e===void 0?null:e],t},useContext:jt,useEffect:Tm,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Go(4194308,4,s0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Go(4194308,4,t,e)},useInsertionEffect:function(t,e){return Go(4,2,t,e)},useMemo:function(t,e){var n=ln();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ln();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=sS.bind(null,ve,t),[r.memoizedState,t]},useRef:function(t){var e=ln();return t={current:t},e.memoizedState=t},useState:Sm,useDebugValue:kh,useDeferredValue:function(t){return ln().memoizedState=t},useTransition:function(){var t=Sm(!1),e=t[0];return t=iS.bind(null,t[1]),ln().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ve,i=ln();if(pe){if(n===void 0)throw Error(A(407));n=n()}else{if(n=e(),Le===null)throw Error(A(349));Yr&30||Xw(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Tm(Yw.bind(null,r,s,t),[t]),r.flags|=2048,va(9,Qw.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ln(),e=Le.identifierPrefix;if(pe){var n=Sn,r=En;n=(r&~(1<<32-Kt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ga++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=rS++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},lS={readContext:jt,useCallback:o0,useContext:jt,useEffect:Ph,useImperativeHandle:a0,useInsertionEffect:r0,useLayoutEffect:i0,useMemo:l0,useReducer:yc,useRef:n0,useState:function(){return yc(ya)},useDebugValue:kh,useDeferredValue:function(t){var e=Lt();return u0(e,ke.memoizedState,t)},useTransition:function(){var t=yc(ya)[0],e=Lt().memoizedState;return[t,e]},useMutableSource:qw,useSyncExternalStore:Jw,useId:c0,unstable_isNewReconciler:!1},uS={readContext:jt,useCallback:o0,useContext:jt,useEffect:Ph,useImperativeHandle:a0,useInsertionEffect:r0,useLayoutEffect:i0,useMemo:l0,useReducer:vc,useRef:n0,useState:function(){return vc(ya)},useDebugValue:kh,useDeferredValue:function(t){var e=Lt();return ke===null?e.memoizedState=t:u0(e,ke.memoizedState,t)},useTransition:function(){var t=vc(ya)[0],e=Lt().memoizedState;return[t,e]},useMutableSource:qw,useSyncExternalStore:Jw,useId:c0,unstable_isNewReconciler:!1};function Bt(t,e){if(t&&t.defaultProps){e=we({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function zd(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:we({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var gu={isMounted:function(t){return(t=t._reactInternals)?ui(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=et(),i=lr(t),s=kn(r,i);s.payload=e,n!=null&&(s.callback=n),e=ar(t,s,i),e!==null&&(qt(e,t,i,r),Ho(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=et(),i=lr(t),s=kn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ar(t,s,i),e!==null&&(qt(e,t,i,r),Ho(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=et(),r=lr(t),i=kn(n,r);i.tag=2,e!=null&&(i.callback=e),e=ar(t,i,r),e!==null&&(qt(e,t,r,n),Ho(e,t,r))}};function Pm(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!ca(n,r)||!ca(i,s):!0}function p0(t,e,n){var r=!1,i=mr,s=e.contextType;return typeof s=="object"&&s!==null?s=jt(s):(i=ct(e)?Xr:Ke.current,r=e.contextTypes,s=(r=r!=null)?Ki(t,i):mr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=gu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function km(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&gu.enqueueReplaceState(e,e.state,null)}function Hd(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},wh(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=jt(s):(s=ct(e)?Xr:Ke.current,i.context=Ki(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(zd(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&gu.enqueueReplaceState(i,i.state,null),ml(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Qi(t,e){try{var n="",r=e;do n+=D1(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function wc(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Wd(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var cS=typeof WeakMap=="function"?WeakMap:Map;function m0(t,e,n){n=kn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){_l||(_l=!0,tf=r),Wd(t,e)},n}function g0(t,e,n){n=kn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Wd(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Wd(t,e),typeof r!="function"&&(or===null?or=new Set([this]):or.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Cm(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new cS;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=SS.bind(null,t,e,n),e.then(t,t))}function Rm(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Om(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=kn(-1,1),e.tag=2,ar(n,e,1))),n.lanes|=1),t)}var dS=Mn.ReactCurrentOwner,lt=!1;function Ye(t,e,n,r){e.child=t===null?Ww(e,null,n,r):Ji(e,t.child,n,r)}function Am(t,e,n,r,i){n=n.render;var s=e.ref;return Bi(e,i),r=Sh(t,e,n,r,s,i),n=Th(),t!==null&&!lt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ln(t,e,i)):(pe&&n&&fh(e),e.flags|=1,Ye(t,e,r,i),e.child)}function Nm(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Lh(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,y0(t,e,s,r,i)):(t=Jo(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:ca,n(a,r)&&t.ref===e.ref)return Ln(t,e,i)}return e.flags|=1,t=ur(s,r),t.ref=e.ref,t.return=e,e.child=t}function y0(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ca(s,r)&&t.ref===e.ref)if(lt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(lt=!0);else return e.lanes=t.lanes,Ln(t,e,i)}return Gd(t,e,n,r,i)}function v0(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ce(Ri,mt),mt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ce(Ri,mt),mt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ce(Ri,mt),mt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ce(Ri,mt),mt|=r;return Ye(t,e,i,n),e.child}function w0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Gd(t,e,n,r,i){var s=ct(n)?Xr:Ke.current;return s=Ki(e,s),Bi(e,i),n=Sh(t,e,n,r,s,i),r=Th(),t!==null&&!lt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ln(t,e,i)):(pe&&r&&fh(e),e.flags|=1,Ye(t,e,n,i),e.child)}function Im(t,e,n,r,i){if(ct(n)){var s=!0;cl(e)}else s=!1;if(Bi(e,i),e.stateNode===null)Zo(t,e),p0(e,n,r),Hd(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=jt(u):(u=ct(n)?Xr:Ke.current,u=Ki(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==u)&&km(e,a,r,u),Wn=!1;var f=e.memoizedState;a.state=f,ml(e,r,a,i),l=e.memoizedState,o!==r||f!==l||ut.current||Wn?(typeof c=="function"&&(zd(e,n,c,r),l=e.memoizedState),(o=Wn||Pm(e,n,o,r,f,l,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,Zw(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:Bt(e.type,o),a.props=u,d=e.pendingProps,f=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=jt(l):(l=ct(n)?Xr:Ke.current,l=Ki(e,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||f!==l)&&km(e,a,r,l),Wn=!1,f=e.memoizedState,a.state=f,ml(e,r,a,i);var p=e.memoizedState;o!==d||f!==p||ut.current||Wn?(typeof h=="function"&&(zd(e,n,h,r),p=e.memoizedState),(u=Wn||Pm(e,n,u,r,f,p,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,p,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,p,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),a.props=r,a.state=p,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Zd(t,e,n,r,s,i)}function Zd(t,e,n,r,i,s){w0(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&vm(e,n,!1),Ln(t,e,s);r=e.stateNode,dS.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Ji(e,t.child,null,s),e.child=Ji(e,null,o,s)):Ye(t,e,o,s),e.memoizedState=r.state,i&&vm(e,n,!0),e.child}function _0(t){var e=t.stateNode;e.pendingContext?ym(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ym(t,e.context,!1),_h(t,e.containerInfo)}function jm(t,e,n,r,i){return qi(),ph(i),e.flags|=256,Ye(t,e,n,r),e.child}var Kd={dehydrated:null,treeContext:null,retryLane:0};function qd(t){return{baseLanes:t,cachePool:null,transitions:null}}function b0(t,e,n){var r=e.pendingProps,i=ge.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ce(ge,i&1),t===null)return Vd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=wu(a,r,0,null),t=Wr(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=qd(n),e.memoizedState=Kd,t):Ch(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return fS(t,e,a,r,o,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ur(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=ur(o,s):(s=Wr(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?qd(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=Kd,r}return s=t.child,t=s.sibling,r=ur(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ch(t,e){return e=wu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function So(t,e,n,r){return r!==null&&ph(r),Ji(e,t.child,null,n),t=Ch(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function fS(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=wc(Error(A(422))),So(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=wu({mode:"visible",children:r.children},i,0,null),s=Wr(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ji(e,t.child,null,a),e.child.memoizedState=qd(a),e.memoizedState=Kd,s);if(!(e.mode&1))return So(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(A(419)),r=wc(s,r,void 0),So(t,e,a,r)}if(o=(a&t.childLanes)!==0,lt||o){if(r=Le,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,jn(t,i),qt(r,t,i,-1))}return jh(),r=wc(Error(A(421))),So(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=TS.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,gt=sr(i.nextSibling),yt=e,pe=!0,Ht=null,t!==null&&(Rt[Ot++]=En,Rt[Ot++]=Sn,Rt[Ot++]=Qr,En=t.id,Sn=t.overflow,Qr=e),e=Ch(e,r.children),e.flags|=4096,e)}function Lm(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Bd(t.return,e,n)}function _c(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function x0(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ye(t,e,r.children,n),r=ge.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Lm(t,n,e);else if(t.tag===19)Lm(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ce(ge,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&gl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),_c(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&gl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}_c(e,!0,n,null,s);break;case"together":_c(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Zo(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ln(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ei|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(A(153));if(e.child!==null){for(t=e.child,n=ur(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ur(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function hS(t,e,n){switch(e.tag){case 3:_0(e),qi();break;case 5:Kw(e);break;case 1:ct(e.type)&&cl(e);break;case 4:_h(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ce(hl,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ce(ge,ge.current&1),e.flags|=128,null):n&e.child.childLanes?b0(t,e,n):(ce(ge,ge.current&1),t=Ln(t,e,n),t!==null?t.sibling:null);ce(ge,ge.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return x0(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ce(ge,ge.current),r)break;return null;case 22:case 23:return e.lanes=0,v0(t,e,n)}return Ln(t,e,n)}var E0,Jd,S0,T0;E0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Jd=function(){};S0=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Fr(pn.current);var s=null;switch(n){case"input":i=vd(t,i),r=vd(t,r),s=[];break;case"select":i=we({},i,{value:void 0}),r=we({},r,{value:void 0}),s=[];break;case"textarea":i=bd(t,i),r=bd(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ll)}Ed(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ra.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(o=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ra.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&de("scroll",t),s||o===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};T0=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ss(t,e){if(!pe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Be(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function pS(t,e,n){var r=e.pendingProps;switch(hh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(e),null;case 1:return ct(e.type)&&ul(),Be(e),null;case 3:return r=e.stateNode,Xi(),fe(ut),fe(Ke),xh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(xo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ht!==null&&(sf(Ht),Ht=null))),Jd(t,e),Be(e),null;case 5:bh(e);var i=Fr(ma.current);if(n=e.type,t!==null&&e.stateNode!=null)S0(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(A(166));return Be(e),null}if(t=Fr(pn.current),xo(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[un]=e,r[ha]=s,t=(e.mode&1)!==0,n){case"dialog":de("cancel",r),de("close",r);break;case"iframe":case"object":case"embed":de("load",r);break;case"video":case"audio":for(i=0;i<Is.length;i++)de(Is[i],r);break;case"source":de("error",r);break;case"img":case"image":case"link":de("error",r),de("load",r);break;case"details":de("toggle",r);break;case"input":Hp(r,s),de("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},de("invalid",r);break;case"textarea":Gp(r,s),de("invalid",r)}Ed(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&bo(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&bo(r.textContent,o,t),i=["children",""+o]):ra.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&de("scroll",r)}switch(n){case"input":ho(r),Wp(r,s,!0);break;case"textarea":ho(r),Zp(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ll)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Yv(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[un]=e,t[ha]=r,E0(t,e,!1,!1),e.stateNode=t;e:{switch(a=Sd(n,r),n){case"dialog":de("cancel",t),de("close",t),i=r;break;case"iframe":case"object":case"embed":de("load",t),i=r;break;case"video":case"audio":for(i=0;i<Is.length;i++)de(Is[i],t);i=r;break;case"source":de("error",t),i=r;break;case"img":case"image":case"link":de("error",t),de("load",t),i=r;break;case"details":de("toggle",t),i=r;break;case"input":Hp(t,r),i=vd(t,r),de("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=we({},r,{value:void 0}),de("invalid",t);break;case"textarea":Gp(t,r),i=bd(t,r),de("invalid",t);break;default:i=r}Ed(n,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?nw(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ew(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ia(t,l):typeof l=="number"&&ia(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ra.hasOwnProperty(s)?l!=null&&s==="onScroll"&&de("scroll",t):l!=null&&Qf(t,s,l,a))}switch(n){case"input":ho(t),Wp(t,r,!1);break;case"textarea":ho(t),Zp(t);break;case"option":r.value!=null&&t.setAttribute("value",""+pr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Mi(t,!!r.multiple,s,!1):r.defaultValue!=null&&Mi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ll)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Be(e),null;case 6:if(t&&e.stateNode!=null)T0(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(A(166));if(n=Fr(ma.current),Fr(pn.current),xo(e)){if(r=e.stateNode,n=e.memoizedProps,r[un]=e,(s=r.nodeValue!==n)&&(t=yt,t!==null))switch(t.tag){case 3:bo(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&bo(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[un]=e,e.stateNode=r}return Be(e),null;case 13:if(fe(ge),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(pe&&gt!==null&&e.mode&1&&!(e.flags&128))zw(),qi(),e.flags|=98560,s=!1;else if(s=xo(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(A(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(A(317));s[un]=e}else qi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Be(e),s=!1}else Ht!==null&&(sf(Ht),Ht=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ge.current&1?Re===0&&(Re=3):jh())),e.updateQueue!==null&&(e.flags|=4),Be(e),null);case 4:return Xi(),Jd(t,e),t===null&&da(e.stateNode.containerInfo),Be(e),null;case 10:return yh(e.type._context),Be(e),null;case 17:return ct(e.type)&&ul(),Be(e),null;case 19:if(fe(ge),s=e.memoizedState,s===null)return Be(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)Ss(s,!1);else{if(Re!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=gl(t),a!==null){for(e.flags|=128,Ss(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ce(ge,ge.current&1|2),e.child}t=t.sibling}s.tail!==null&&xe()>Yi&&(e.flags|=128,r=!0,Ss(s,!1),e.lanes=4194304)}else{if(!r)if(t=gl(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ss(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!pe)return Be(e),null}else 2*xe()-s.renderingStartTime>Yi&&n!==1073741824&&(e.flags|=128,r=!0,Ss(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=xe(),e.sibling=null,n=ge.current,ce(ge,r?n&1|2:n&1),e):(Be(e),null);case 22:case 23:return Ih(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?mt&1073741824&&(Be(e),e.subtreeFlags&6&&(e.flags|=8192)):Be(e),null;case 24:return null;case 25:return null}throw Error(A(156,e.tag))}function mS(t,e){switch(hh(e),e.tag){case 1:return ct(e.type)&&ul(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Xi(),fe(ut),fe(Ke),xh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return bh(e),null;case 13:if(fe(ge),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(A(340));qi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return fe(ge),null;case 4:return Xi(),null;case 10:return yh(e.type._context),null;case 22:case 23:return Ih(),null;case 24:return null;default:return null}}var To=!1,He=!1,gS=typeof WeakSet=="function"?WeakSet:Set,F=null;function Ci(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){_e(t,e,r)}else n.current=null}function Xd(t,e,n){try{n()}catch(r){_e(t,e,r)}}var $m=!1;function yS(t,e){if(jd=sl,t=Ow(),dh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var h;d!==n||i!==0&&d.nodeType!==3||(o=a+i),d!==s||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===t)break t;if(f===n&&++u===i&&(o=a),f===s&&++c===r&&(l=a),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ld={focusedElem:t,selectionRange:n},sl=!1,F=e;F!==null;)if(e=F,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,F=t;else for(;F!==null;){e=F;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var v=p.memoizedProps,w=p.memoizedState,m=e.stateNode,g=m.getSnapshotBeforeUpdate(e.elementType===e.type?v:Bt(e.type,v),w);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}catch(b){_e(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,F=t;break}F=e.return}return p=$m,$m=!1,p}function Gs(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Xd(e,n,s)}i=i.next}while(i!==r)}}function yu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Qd(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function P0(t){var e=t.alternate;e!==null&&(t.alternate=null,P0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[un],delete e[ha],delete e[Md],delete e[YE],delete e[eS])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function k0(t){return t.tag===5||t.tag===3||t.tag===4}function Dm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||k0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Yd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ll));else if(r!==4&&(t=t.child,t!==null))for(Yd(t,e,n),t=t.sibling;t!==null;)Yd(t,e,n),t=t.sibling}function ef(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ef(t,e,n),t=t.sibling;t!==null;)ef(t,e,n),t=t.sibling}var De=null,zt=!1;function Un(t,e,n){for(n=n.child;n!==null;)C0(t,e,n),n=n.sibling}function C0(t,e,n){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(uu,n)}catch{}switch(n.tag){case 5:He||Ci(n,e);case 6:var r=De,i=zt;De=null,Un(t,e,n),De=r,zt=i,De!==null&&(zt?(t=De,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):De.removeChild(n.stateNode));break;case 18:De!==null&&(zt?(t=De,n=n.stateNode,t.nodeType===8?hc(t.parentNode,n):t.nodeType===1&&hc(t,n),la(t)):hc(De,n.stateNode));break;case 4:r=De,i=zt,De=n.stateNode.containerInfo,zt=!0,Un(t,e,n),De=r,zt=i;break;case 0:case 11:case 14:case 15:if(!He&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&Xd(n,e,a),i=i.next}while(i!==r)}Un(t,e,n);break;case 1:if(!He&&(Ci(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){_e(n,e,o)}Un(t,e,n);break;case 21:Un(t,e,n);break;case 22:n.mode&1?(He=(r=He)||n.memoizedState!==null,Un(t,e,n),He=r):Un(t,e,n);break;default:Un(t,e,n)}}function Mm(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new gS),e.forEach(function(r){var i=PS.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Mt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:De=o.stateNode,zt=!1;break e;case 3:De=o.stateNode.containerInfo,zt=!0;break e;case 4:De=o.stateNode.containerInfo,zt=!0;break e}o=o.return}if(De===null)throw Error(A(160));C0(s,a,i),De=null,zt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){_e(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)R0(e,t),e=e.sibling}function R0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Mt(e,t),an(t),r&4){try{Gs(3,t,t.return),yu(3,t)}catch(v){_e(t,t.return,v)}try{Gs(5,t,t.return)}catch(v){_e(t,t.return,v)}}break;case 1:Mt(e,t),an(t),r&512&&n!==null&&Ci(n,n.return);break;case 5:if(Mt(e,t),an(t),r&512&&n!==null&&Ci(n,n.return),t.flags&32){var i=t.stateNode;try{ia(i,"")}catch(v){_e(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&Xv(i,s),Sd(o,a);var u=Sd(o,s);for(a=0;a<l.length;a+=2){var c=l[a],d=l[a+1];c==="style"?nw(i,d):c==="dangerouslySetInnerHTML"?ew(i,d):c==="children"?ia(i,d):Qf(i,c,d,u)}switch(o){case"input":wd(i,s);break;case"textarea":Qv(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?Mi(i,!!s.multiple,h,!1):f!==!!s.multiple&&(s.defaultValue!=null?Mi(i,!!s.multiple,s.defaultValue,!0):Mi(i,!!s.multiple,s.multiple?[]:"",!1))}i[ha]=s}catch(v){_e(t,t.return,v)}}break;case 6:if(Mt(e,t),an(t),r&4){if(t.stateNode===null)throw Error(A(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){_e(t,t.return,v)}}break;case 3:if(Mt(e,t),an(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{la(e.containerInfo)}catch(v){_e(t,t.return,v)}break;case 4:Mt(e,t),an(t);break;case 13:Mt(e,t),an(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Ah=xe())),r&4&&Mm(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(He=(u=He)||c,Mt(e,t),He=u):Mt(e,t),an(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(F=t,c=t.child;c!==null;){for(d=F=c;F!==null;){switch(f=F,h=f.child,f.tag){case 0:case 11:case 14:case 15:Gs(4,f,f.return);break;case 1:Ci(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(v){_e(r,n,v)}}break;case 5:Ci(f,f.return);break;case 22:if(f.memoizedState!==null){Um(d);continue}}h!==null?(h.return=f,F=h):Um(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=tw("display",a))}catch(v){_e(t,t.return,v)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){_e(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Mt(e,t),an(t),r&4&&Mm(t);break;case 21:break;default:Mt(e,t),an(t)}}function an(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(k0(n)){var r=n;break e}n=n.return}throw Error(A(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ia(i,""),r.flags&=-33);var s=Dm(t);ef(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=Dm(t);Yd(t,o,a);break;default:throw Error(A(161))}}catch(l){_e(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function vS(t,e,n){F=t,O0(t)}function O0(t,e,n){for(var r=(t.mode&1)!==0;F!==null;){var i=F,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||To;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||He;o=To;var u=He;if(To=a,(He=l)&&!u)for(F=i;F!==null;)a=F,l=a.child,a.tag===22&&a.memoizedState!==null?Vm(i):l!==null?(l.return=a,F=l):Vm(i);for(;s!==null;)F=s,O0(s),s=s.sibling;F=i,To=o,He=u}Fm(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,F=s):Fm(t)}}function Fm(t){for(;F!==null;){var e=F;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:He||yu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!He)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Bt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Em(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Em(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&la(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(A(163))}He||e.flags&512&&Qd(e)}catch(f){_e(e,e.return,f)}}if(e===t){F=null;break}if(n=e.sibling,n!==null){n.return=e.return,F=n;break}F=e.return}}function Um(t){for(;F!==null;){var e=F;if(e===t){F=null;break}var n=e.sibling;if(n!==null){n.return=e.return,F=n;break}F=e.return}}function Vm(t){for(;F!==null;){var e=F;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{yu(4,e)}catch(l){_e(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){_e(e,i,l)}}var s=e.return;try{Qd(e)}catch(l){_e(e,s,l)}break;case 5:var a=e.return;try{Qd(e)}catch(l){_e(e,a,l)}}}catch(l){_e(e,e.return,l)}if(e===t){F=null;break}var o=e.sibling;if(o!==null){o.return=e.return,F=o;break}F=e.return}}var wS=Math.ceil,wl=Mn.ReactCurrentDispatcher,Rh=Mn.ReactCurrentOwner,It=Mn.ReactCurrentBatchConfig,te=0,Le=null,Se=null,Fe=0,mt=0,Ri=Tr(0),Re=0,wa=null,ei=0,vu=0,Oh=0,Zs=null,ot=null,Ah=0,Yi=1/0,bn=null,_l=!1,tf=null,or=null,Po=!1,Yn=null,bl=0,Ks=0,nf=null,Ko=-1,qo=0;function et(){return te&6?xe():Ko!==-1?Ko:Ko=xe()}function lr(t){return t.mode&1?te&2&&Fe!==0?Fe&-Fe:nS.transition!==null?(qo===0&&(qo=pw()),qo):(t=le,t!==0||(t=window.event,t=t===void 0?16:bw(t.type)),t):1}function qt(t,e,n,r){if(50<Ks)throw Ks=0,nf=null,Error(A(185));Wa(t,n,r),(!(te&2)||t!==Le)&&(t===Le&&(!(te&2)&&(vu|=n),Re===4&&Jn(t,Fe)),dt(t,r),n===1&&te===0&&!(e.mode&1)&&(Yi=xe()+500,pu&&Pr()))}function dt(t,e){var n=t.callbackNode;nE(t,e);var r=il(t,t===Le?Fe:0);if(r===0)n!==null&&Jp(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Jp(n),e===1)t.tag===0?tS(Bm.bind(null,t)):Uw(Bm.bind(null,t)),XE(function(){!(te&6)&&Pr()}),n=null;else{switch(mw(r)){case 1:n=rh;break;case 4:n=fw;break;case 16:n=rl;break;case 536870912:n=hw;break;default:n=rl}n=M0(n,A0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function A0(t,e){if(Ko=-1,qo=0,te&6)throw Error(A(327));var n=t.callbackNode;if(zi()&&t.callbackNode!==n)return null;var r=il(t,t===Le?Fe:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=xl(t,r);else{e=r;var i=te;te|=2;var s=I0();(Le!==t||Fe!==e)&&(bn=null,Yi=xe()+500,Hr(t,e));do try{xS();break}catch(o){N0(t,o)}while(!0);gh(),wl.current=s,te=i,Se!==null?e=0:(Le=null,Fe=0,e=Re)}if(e!==0){if(e===2&&(i=Rd(t),i!==0&&(r=i,e=rf(t,i))),e===1)throw n=wa,Hr(t,0),Jn(t,r),dt(t,xe()),n;if(e===6)Jn(t,r);else{if(i=t.current.alternate,!(r&30)&&!_S(i)&&(e=xl(t,r),e===2&&(s=Rd(t),s!==0&&(r=s,e=rf(t,s))),e===1))throw n=wa,Hr(t,0),Jn(t,r),dt(t,xe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(A(345));case 2:Ir(t,ot,bn);break;case 3:if(Jn(t,r),(r&130023424)===r&&(e=Ah+500-xe(),10<e)){if(il(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){et(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Dd(Ir.bind(null,t,ot,bn),e);break}Ir(t,ot,bn);break;case 4:if(Jn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Kt(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=xe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*wS(r/1960))-r,10<r){t.timeoutHandle=Dd(Ir.bind(null,t,ot,bn),r);break}Ir(t,ot,bn);break;case 5:Ir(t,ot,bn);break;default:throw Error(A(329))}}}return dt(t,xe()),t.callbackNode===n?A0.bind(null,t):null}function rf(t,e){var n=Zs;return t.current.memoizedState.isDehydrated&&(Hr(t,e).flags|=256),t=xl(t,e),t!==2&&(e=ot,ot=n,e!==null&&sf(e)),t}function sf(t){ot===null?ot=t:ot.push.apply(ot,t)}function _S(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!en(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Jn(t,e){for(e&=~Oh,e&=~vu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Kt(e),r=1<<n;t[n]=-1,e&=~r}}function Bm(t){if(te&6)throw Error(A(327));zi();var e=il(t,0);if(!(e&1))return dt(t,xe()),null;var n=xl(t,e);if(t.tag!==0&&n===2){var r=Rd(t);r!==0&&(e=r,n=rf(t,r))}if(n===1)throw n=wa,Hr(t,0),Jn(t,e),dt(t,xe()),n;if(n===6)throw Error(A(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ir(t,ot,bn),dt(t,xe()),null}function Nh(t,e){var n=te;te|=1;try{return t(e)}finally{te=n,te===0&&(Yi=xe()+500,pu&&Pr())}}function ti(t){Yn!==null&&Yn.tag===0&&!(te&6)&&zi();var e=te;te|=1;var n=It.transition,r=le;try{if(It.transition=null,le=1,t)return t()}finally{le=r,It.transition=n,te=e,!(te&6)&&Pr()}}function Ih(){mt=Ri.current,fe(Ri)}function Hr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,JE(n)),Se!==null)for(n=Se.return;n!==null;){var r=n;switch(hh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ul();break;case 3:Xi(),fe(ut),fe(Ke),xh();break;case 5:bh(r);break;case 4:Xi();break;case 13:fe(ge);break;case 19:fe(ge);break;case 10:yh(r.type._context);break;case 22:case 23:Ih()}n=n.return}if(Le=t,Se=t=ur(t.current,null),Fe=mt=e,Re=0,wa=null,Oh=vu=ei=0,ot=Zs=null,Mr!==null){for(e=0;e<Mr.length;e++)if(n=Mr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}Mr=null}return t}function N0(t,e){do{var n=Se;try{if(gh(),Wo.current=vl,yl){for(var r=ve.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}yl=!1}if(Yr=0,Ie=ke=ve=null,Ws=!1,ga=0,Rh.current=null,n===null||n.return===null){Re=1,wa=e,Se=null;break}e:{var s=t,a=n.return,o=n,l=e;if(e=Fe,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=Rm(a);if(h!==null){h.flags&=-257,Om(h,a,o,s,e),h.mode&1&&Cm(s,u,e),e=h,l=u;var p=e.updateQueue;if(p===null){var v=new Set;v.add(l),e.updateQueue=v}else p.add(l);break e}else{if(!(e&1)){Cm(s,u,e),jh();break e}l=Error(A(426))}}else if(pe&&o.mode&1){var w=Rm(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Om(w,a,o,s,e),ph(Qi(l,o));break e}}s=l=Qi(l,o),Re!==4&&(Re=2),Zs===null?Zs=[s]:Zs.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=m0(s,l,e);xm(s,m);break e;case 1:o=l;var g=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(or===null||!or.has(y)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=g0(s,o,e);xm(s,b);break e}}s=s.return}while(s!==null)}L0(n)}catch(x){e=x,Se===n&&n!==null&&(Se=n=n.return);continue}break}while(!0)}function I0(){var t=wl.current;return wl.current=vl,t===null?vl:t}function jh(){(Re===0||Re===3||Re===2)&&(Re=4),Le===null||!(ei&268435455)&&!(vu&268435455)||Jn(Le,Fe)}function xl(t,e){var n=te;te|=2;var r=I0();(Le!==t||Fe!==e)&&(bn=null,Hr(t,e));do try{bS();break}catch(i){N0(t,i)}while(!0);if(gh(),te=n,wl.current=r,Se!==null)throw Error(A(261));return Le=null,Fe=0,Re}function bS(){for(;Se!==null;)j0(Se)}function xS(){for(;Se!==null&&!Z1();)j0(Se)}function j0(t){var e=D0(t.alternate,t,mt);t.memoizedProps=t.pendingProps,e===null?L0(t):Se=e,Rh.current=null}function L0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=mS(n,e),n!==null){n.flags&=32767,Se=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Re=6,Se=null;return}}else if(n=pS(n,e,mt),n!==null){Se=n;return}if(e=e.sibling,e!==null){Se=e;return}Se=e=t}while(e!==null);Re===0&&(Re=5)}function Ir(t,e,n){var r=le,i=It.transition;try{It.transition=null,le=1,ES(t,e,n,r)}finally{It.transition=i,le=r}return null}function ES(t,e,n,r){do zi();while(Yn!==null);if(te&6)throw Error(A(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(A(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(rE(t,s),t===Le&&(Se=Le=null,Fe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Po||(Po=!0,M0(rl,function(){return zi(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=It.transition,It.transition=null;var a=le;le=1;var o=te;te|=4,Rh.current=null,yS(t,n),R0(n,t),zE(Ld),sl=!!jd,Ld=jd=null,t.current=n,vS(n),K1(),te=o,le=a,It.transition=s}else t.current=n;if(Po&&(Po=!1,Yn=t,bl=i),s=t.pendingLanes,s===0&&(or=null),X1(n.stateNode),dt(t,xe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(_l)throw _l=!1,t=tf,tf=null,t;return bl&1&&t.tag!==0&&zi(),s=t.pendingLanes,s&1?t===nf?Ks++:(Ks=0,nf=t):Ks=0,Pr(),null}function zi(){if(Yn!==null){var t=mw(bl),e=It.transition,n=le;try{if(It.transition=null,le=16>t?16:t,Yn===null)var r=!1;else{if(t=Yn,Yn=null,bl=0,te&6)throw Error(A(331));var i=te;for(te|=4,F=t.current;F!==null;){var s=F,a=s.child;if(F.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(F=u;F!==null;){var c=F;switch(c.tag){case 0:case 11:case 15:Gs(8,c,s)}var d=c.child;if(d!==null)d.return=c,F=d;else for(;F!==null;){c=F;var f=c.sibling,h=c.return;if(P0(c),c===u){F=null;break}if(f!==null){f.return=h,F=f;break}F=h}}}var p=s.alternate;if(p!==null){var v=p.child;if(v!==null){p.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}F=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,F=a;else e:for(;F!==null;){if(s=F,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Gs(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,F=m;break e}F=s.return}}var g=t.current;for(F=g;F!==null;){a=F;var y=a.child;if(a.subtreeFlags&2064&&y!==null)y.return=a,F=y;else e:for(a=g;F!==null;){if(o=F,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:yu(9,o)}}catch(x){_e(o,o.return,x)}if(o===a){F=null;break e}var b=o.sibling;if(b!==null){b.return=o.return,F=b;break e}F=o.return}}if(te=i,Pr(),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(uu,t)}catch{}r=!0}return r}finally{le=n,It.transition=e}}return!1}function zm(t,e,n){e=Qi(n,e),e=m0(t,e,1),t=ar(t,e,1),e=et(),t!==null&&(Wa(t,1,e),dt(t,e))}function _e(t,e,n){if(t.tag===3)zm(t,t,n);else for(;e!==null;){if(e.tag===3){zm(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(or===null||!or.has(r))){t=Qi(n,t),t=g0(e,t,1),e=ar(e,t,1),t=et(),e!==null&&(Wa(e,1,t),dt(e,t));break}}e=e.return}}function SS(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=et(),t.pingedLanes|=t.suspendedLanes&n,Le===t&&(Fe&n)===n&&(Re===4||Re===3&&(Fe&130023424)===Fe&&500>xe()-Ah?Hr(t,0):Oh|=n),dt(t,e)}function $0(t,e){e===0&&(t.mode&1?(e=go,go<<=1,!(go&130023424)&&(go=4194304)):e=1);var n=et();t=jn(t,e),t!==null&&(Wa(t,e,n),dt(t,n))}function TS(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),$0(t,n)}function PS(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(A(314))}r!==null&&r.delete(e),$0(t,n)}var D0;D0=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ut.current)lt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return lt=!1,hS(t,e,n);lt=!!(t.flags&131072)}else lt=!1,pe&&e.flags&1048576&&Vw(e,fl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Zo(t,e),t=e.pendingProps;var i=Ki(e,Ke.current);Bi(e,n),i=Sh(null,e,r,t,i,n);var s=Th();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ct(r)?(s=!0,cl(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,wh(e),i.updater=gu,e.stateNode=i,i._reactInternals=e,Hd(e,r,t,n),e=Zd(null,e,r,!0,s,n)):(e.tag=0,pe&&s&&fh(e),Ye(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Zo(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=CS(r),t=Bt(r,t),i){case 0:e=Gd(null,e,r,t,n);break e;case 1:e=Im(null,e,r,t,n);break e;case 11:e=Am(null,e,r,t,n);break e;case 14:e=Nm(null,e,r,Bt(r.type,t),n);break e}throw Error(A(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bt(r,i),Gd(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bt(r,i),Im(t,e,r,i,n);case 3:e:{if(_0(e),t===null)throw Error(A(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Zw(t,e),ml(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Qi(Error(A(423)),e),e=jm(t,e,r,n,i);break e}else if(r!==i){i=Qi(Error(A(424)),e),e=jm(t,e,r,n,i);break e}else for(gt=sr(e.stateNode.containerInfo.firstChild),yt=e,pe=!0,Ht=null,n=Ww(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(qi(),r===i){e=Ln(t,e,n);break e}Ye(t,e,r,n)}e=e.child}return e;case 5:return Kw(e),t===null&&Vd(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,$d(r,i)?a=null:s!==null&&$d(r,s)&&(e.flags|=32),w0(t,e),Ye(t,e,a,n),e.child;case 6:return t===null&&Vd(e),null;case 13:return b0(t,e,n);case 4:return _h(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ji(e,null,r,n):Ye(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bt(r,i),Am(t,e,r,i,n);case 7:return Ye(t,e,e.pendingProps,n),e.child;case 8:return Ye(t,e,e.pendingProps.children,n),e.child;case 12:return Ye(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,ce(hl,r._currentValue),r._currentValue=a,s!==null)if(en(s.value,a)){if(s.children===i.children&&!ut.current){e=Ln(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=kn(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Bd(s.return,n,e),o.lanes|=n;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(A(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),Bd(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Ye(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Bi(e,n),i=jt(i),r=r(i),e.flags|=1,Ye(t,e,r,n),e.child;case 14:return r=e.type,i=Bt(r,e.pendingProps),i=Bt(r.type,i),Nm(t,e,r,i,n);case 15:return y0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bt(r,i),Zo(t,e),e.tag=1,ct(r)?(t=!0,cl(e)):t=!1,Bi(e,n),p0(e,r,i),Hd(e,r,i,n),Zd(null,e,r,!0,t,n);case 19:return x0(t,e,n);case 22:return v0(t,e,n)}throw Error(A(156,e.tag))};function M0(t,e){return dw(t,e)}function kS(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(t,e,n,r){return new kS(t,e,n,r)}function Lh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function CS(t){if(typeof t=="function")return Lh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===eh)return 11;if(t===th)return 14}return 2}function ur(t,e){var n=t.alternate;return n===null?(n=Nt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Jo(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")Lh(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case wi:return Wr(n.children,i,s,e);case Yf:a=8,i|=8;break;case pd:return t=Nt(12,n,e,i|2),t.elementType=pd,t.lanes=s,t;case md:return t=Nt(13,n,e,i),t.elementType=md,t.lanes=s,t;case gd:return t=Nt(19,n,e,i),t.elementType=gd,t.lanes=s,t;case Kv:return wu(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Gv:a=10;break e;case Zv:a=9;break e;case eh:a=11;break e;case th:a=14;break e;case Hn:a=16,r=null;break e}throw Error(A(130,t==null?t:typeof t,""))}return e=Nt(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Wr(t,e,n,r){return t=Nt(7,t,r,e),t.lanes=n,t}function wu(t,e,n,r){return t=Nt(22,t,r,e),t.elementType=Kv,t.lanes=n,t.stateNode={isHidden:!1},t}function bc(t,e,n){return t=Nt(6,t,null,e),t.lanes=n,t}function xc(t,e,n){return e=Nt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function RS(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nc(0),this.expirationTimes=nc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nc(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function $h(t,e,n,r,i,s,a,o,l){return t=new RS(t,e,n,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Nt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},wh(s),t}function OS(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function F0(t){if(!t)return mr;t=t._reactInternals;e:{if(ui(t)!==t||t.tag!==1)throw Error(A(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ct(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(A(171))}if(t.tag===1){var n=t.type;if(ct(n))return Fw(t,n,e)}return e}function U0(t,e,n,r,i,s,a,o,l){return t=$h(n,r,!0,t,i,s,a,o,l),t.context=F0(null),n=t.current,r=et(),i=lr(n),s=kn(r,i),s.callback=e??null,ar(n,s,i),t.current.lanes=i,Wa(t,i,r),dt(t,r),t}function _u(t,e,n,r){var i=e.current,s=et(),a=lr(i);return n=F0(n),e.context===null?e.context=n:e.pendingContext=n,e=kn(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ar(i,e,a),t!==null&&(qt(t,i,a,s),Ho(t,i,a)),a}function El(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Hm(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Dh(t,e){Hm(t,e),(t=t.alternate)&&Hm(t,e)}function AS(){return null}var V0=typeof reportError=="function"?reportError:function(t){console.error(t)};function Mh(t){this._internalRoot=t}bu.prototype.render=Mh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(A(409));_u(t,e,null,null)};bu.prototype.unmount=Mh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ti(function(){_u(null,t,null,null)}),e[In]=null}};function bu(t){this._internalRoot=t}bu.prototype.unstable_scheduleHydration=function(t){if(t){var e=vw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<qn.length&&e!==0&&e<qn[n].priority;n++);qn.splice(n,0,t),n===0&&_w(t)}};function Fh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function xu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Wm(){}function NS(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=El(a);s.call(u)}}var a=U0(e,r,t,0,null,!1,!1,"",Wm);return t._reactRootContainer=a,t[In]=a.current,da(t.nodeType===8?t.parentNode:t),ti(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var u=El(l);o.call(u)}}var l=$h(t,0,!1,null,null,!1,!1,"",Wm);return t._reactRootContainer=l,t[In]=l.current,da(t.nodeType===8?t.parentNode:t),ti(function(){_u(e,l,n,r)}),l}function Eu(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=El(a);o.call(l)}}_u(e,a,t,i)}else a=NS(n,e,t,i,r);return El(a)}gw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ns(e.pendingLanes);n!==0&&(ih(e,n|1),dt(e,xe()),!(te&6)&&(Yi=xe()+500,Pr()))}break;case 13:ti(function(){var r=jn(t,1);if(r!==null){var i=et();qt(r,t,1,i)}}),Dh(t,1)}};sh=function(t){if(t.tag===13){var e=jn(t,134217728);if(e!==null){var n=et();qt(e,t,134217728,n)}Dh(t,134217728)}};yw=function(t){if(t.tag===13){var e=lr(t),n=jn(t,e);if(n!==null){var r=et();qt(n,t,e,r)}Dh(t,e)}};vw=function(){return le};ww=function(t,e){var n=le;try{return le=t,e()}finally{le=n}};Pd=function(t,e,n){switch(e){case"input":if(wd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=hu(r);if(!i)throw Error(A(90));Jv(r),wd(r,i)}}}break;case"textarea":Qv(t,n);break;case"select":e=n.value,e!=null&&Mi(t,!!n.multiple,e,!1)}};sw=Nh;aw=ti;var IS={usingClientEntryPoint:!1,Events:[Za,Ei,hu,rw,iw,Nh]},Ts={findFiberByHostInstance:Dr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jS={bundleType:Ts.bundleType,version:Ts.version,rendererPackageName:Ts.rendererPackageName,rendererConfig:Ts.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=uw(t),t===null?null:t.stateNode},findFiberByHostInstance:Ts.findFiberByHostInstance||AS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ko=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ko.isDisabled&&ko.supportsFiber)try{uu=ko.inject(jS),hn=ko}catch{}}Et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IS;Et.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fh(e))throw Error(A(200));return OS(t,e,null,n)};Et.createRoot=function(t,e){if(!Fh(t))throw Error(A(299));var n=!1,r="",i=V0;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=$h(t,1,!1,null,null,n,!1,r,i),t[In]=e.current,da(t.nodeType===8?t.parentNode:t),new Mh(e)};Et.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(A(188)):(t=Object.keys(t).join(","),Error(A(268,t)));return t=uw(e),t=t===null?null:t.stateNode,t};Et.flushSync=function(t){return ti(t)};Et.hydrate=function(t,e,n){if(!xu(e))throw Error(A(200));return Eu(null,t,e,!0,n)};Et.hydrateRoot=function(t,e,n){if(!Fh(t))throw Error(A(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=V0;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=U0(e,null,t,1,n??null,i,!1,s,a),t[In]=e.current,da(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new bu(e)};Et.render=function(t,e,n){if(!xu(e))throw Error(A(200));return Eu(null,t,e,!1,n)};Et.unmountComponentAtNode=function(t){if(!xu(t))throw Error(A(40));return t._reactRootContainer?(ti(function(){Eu(null,null,t,!1,function(){t._reactRootContainer=null,t[In]=null})}),!0):!1};Et.unstable_batchedUpdates=Nh;Et.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!xu(n))throw Error(A(200));if(t==null||t._reactInternals===void 0)throw Error(A(38));return Eu(t,e,n,!1,r)};Et.version="18.3.1-next-f1338f8080-20240426";function B0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(B0)}catch(t){console.error(t)}}B0(),Bv.exports=Et;var LS=Bv.exports,Gm=LS;fd.createRoot=Gm.createRoot,fd.hydrateRoot=Gm.hydrateRoot;/**
 * @remix-run/router v1.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _a(){return _a=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_a.apply(this,arguments)}var er;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(er||(er={}));const Zm="popstate";function $S(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:a,hash:o}=r.location;return af("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Sl(i)}return MS(e,n,null,t)}function Te(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function z0(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function DS(){return Math.random().toString(36).substr(2,8)}function Km(t,e){return{usr:t.state,key:t.key,idx:e}}function af(t,e,n,r){return n===void 0&&(n=null),_a({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?cs(e):e,{state:n,key:e&&e.key||r||DS()})}function Sl(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function cs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function MS(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o=er.Pop,l=null,u=c();u==null&&(u=0,a.replaceState(_a({},a.state,{idx:u}),""));function c(){return(a.state||{idx:null}).idx}function d(){o=er.Pop;let w=c(),m=w==null?null:w-u;u=w,l&&l({action:o,location:v.location,delta:m})}function f(w,m){o=er.Push;let g=af(v.location,w,m);u=c()+1;let y=Km(g,u),b=v.createHref(g);try{a.pushState(y,"",b)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;i.location.assign(b)}s&&l&&l({action:o,location:v.location,delta:1})}function h(w,m){o=er.Replace;let g=af(v.location,w,m);u=c();let y=Km(g,u),b=v.createHref(g);a.replaceState(y,"",b),s&&l&&l({action:o,location:v.location,delta:0})}function p(w){let m=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof w=="string"?w:Sl(w);return g=g.replace(/ $/,"%20"),Te(m,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,m)}let v={get action(){return o},get location(){return t(i,a)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Zm,d),l=w,()=>{i.removeEventListener(Zm,d),l=null}},createHref(w){return e(i,w)},createURL:p,encodeLocation(w){let m=p(w);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:h,go(w){return a.go(w)}};return v}var qm;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(qm||(qm={}));function FS(t,e,n){return n===void 0&&(n="/"),US(t,e,n,!1)}function US(t,e,n,r){let i=typeof e=="string"?cs(e):e,s=Uh(i.pathname||"/",n);if(s==null)return null;let a=H0(t);VS(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=QS(s);o=JS(a[l],u,r)}return o}function H0(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(Te(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=cr([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(Te(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),H0(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:KS(u,s.index),routesMeta:c})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of W0(s.path))i(s,a,l)}),e}function W0(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=W0(r.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function VS(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:qS(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const BS=/^:[\w-]+$/,zS=3,HS=2,WS=1,GS=10,ZS=-2,Jm=t=>t==="*";function KS(t,e){let n=t.split("/"),r=n.length;return n.some(Jm)&&(r+=ZS),e&&(r+=HS),n.filter(i=>!Jm(i)).reduce((i,s)=>i+(BS.test(s)?zS:s===""?WS:GS),r)}function qS(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function JS(t,e,n){let{routesMeta:r}=t,i={},s="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],u=o===r.length-1,c=s==="/"?e:e.slice(s.length)||"/",d=Xm({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),f=l.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=Xm({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!d)return null;Object.assign(i,d.params),a.push({params:i,pathname:cr([s,d.pathname]),pathnameBase:nT(cr([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=cr([s,d.pathnameBase]))}return a}function Xm(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=XS(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:f,isOptional:h}=c;if(f==="*"){let v=o[d]||"";a=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const p=o[d];return h&&!p?u[f]=void 0:u[f]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:t}}function XS(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),z0(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function QS(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return z0(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Uh(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function YS(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?cs(t):t;return{pathname:n?n.startsWith("/")?n:eT(n,e):e,search:rT(r),hash:iT(i)}}function eT(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ec(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function tT(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function G0(t,e){let n=tT(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Z0(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=cs(t):(i=_a({},t),Te(!i.pathname||!i.pathname.includes("?"),Ec("?","pathname","search",i)),Te(!i.pathname||!i.pathname.includes("#"),Ec("#","pathname","hash",i)),Te(!i.search||!i.search.includes("#"),Ec("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=n;else{let d=e.length-1;if(!r&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}o=d>=0?e[d]:"/"}let l=YS(i,o),u=a&&a!=="/"&&a.endsWith("/"),c=(s||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const cr=t=>t.join("/").replace(/\/\/+/g,"/"),nT=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),rT=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,iT=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function sT(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const K0=["post","put","patch","delete"];new Set(K0);const aT=["get",...K0];new Set(aT);/**
 * React Router v6.25.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ba(){return ba=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ba.apply(this,arguments)}const Vh=E.createContext(null),oT=E.createContext(null),ci=E.createContext(null),Su=E.createContext(null),di=E.createContext({outlet:null,matches:[],isDataRoute:!1}),q0=E.createContext(null);function lT(t,e){let{relative:n}=e===void 0?{}:e;qa()||Te(!1);let{basename:r,navigator:i}=E.useContext(ci),{hash:s,pathname:a,search:o}=X0(t,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:cr([r,a])),i.createHref({pathname:l,search:o,hash:s})}function qa(){return E.useContext(Su)!=null}function ds(){return qa()||Te(!1),E.useContext(Su).location}function J0(t){E.useContext(ci).static||E.useLayoutEffect(t)}function uT(){let{isDataRoute:t}=E.useContext(di);return t?xT():cT()}function cT(){qa()||Te(!1);let t=E.useContext(Vh),{basename:e,future:n,navigator:r}=E.useContext(ci),{matches:i}=E.useContext(di),{pathname:s}=ds(),a=JSON.stringify(G0(i,n.v7_relativeSplatPath)),o=E.useRef(!1);return J0(()=>{o.current=!0}),E.useCallback(function(u,c){if(c===void 0&&(c={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let d=Z0(u,JSON.parse(a),s,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:cr([e,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[e,r,a,s,t])}function X0(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=E.useContext(ci),{matches:i}=E.useContext(di),{pathname:s}=ds(),a=JSON.stringify(G0(i,r.v7_relativeSplatPath));return E.useMemo(()=>Z0(t,JSON.parse(a),s,n==="path"),[t,a,s,n])}function dT(t,e){return fT(t,e)}function fT(t,e,n,r){qa()||Te(!1);let{navigator:i}=E.useContext(ci),{matches:s}=E.useContext(di),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=ds(),c;if(e){var d;let w=typeof e=="string"?cs(e):e;l==="/"||(d=w.pathname)!=null&&d.startsWith(l)||Te(!1),c=w}else c=u;let f=c.pathname||"/",h=f;if(l!=="/"){let w=l.replace(/^\//,"").split("/");h="/"+f.replace(/^\//,"").split("/").slice(w.length).join("/")}let p=FS(t,{pathname:h}),v=yT(p&&p.map(w=>Object.assign({},w,{params:Object.assign({},o,w.params),pathname:cr([l,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:cr([l,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,n,r);return e&&v?E.createElement(Su.Provider,{value:{location:ba({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:er.Pop}},v):v}function hT(){let t=bT(),e=sT(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:i},n):null,null)}const pT=E.createElement(hT,null);class mT extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?E.createElement(di.Provider,{value:this.props.routeContext},E.createElement(q0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function gT(t){let{routeContext:e,match:n,children:r}=t,i=E.useContext(Vh);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(di.Provider,{value:e},r)}function yT(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let a=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let c=a.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);c>=0||Te(!1),a=a.slice(0,Math.min(a.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<a.length;c++){let d=a[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:f,errors:h}=n,p=d.route.loader&&f[d.route.id]===void 0&&(!h||h[d.route.id]===void 0);if(d.route.lazy||p){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((c,d,f)=>{let h,p=!1,v=null,w=null;n&&(h=o&&d.route.id?o[d.route.id]:void 0,v=d.route.errorElement||pT,l&&(u<0&&f===0?(p=!0,w=null):u===f&&(p=!0,w=d.route.hydrateFallbackElement||null)));let m=e.concat(a.slice(0,f+1)),g=()=>{let y;return h?y=v:p?y=w:d.route.Component?y=E.createElement(d.route.Component,null):d.route.element?y=d.route.element:y=c,E.createElement(gT,{match:d,routeContext:{outlet:c,matches:m,isDataRoute:n!=null},children:y})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?E.createElement(mT,{location:n.location,revalidation:n.revalidation,component:v,error:h,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}var Q0=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Q0||{}),Tl=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Tl||{});function vT(t){let e=E.useContext(Vh);return e||Te(!1),e}function wT(t){let e=E.useContext(oT);return e||Te(!1),e}function _T(t){let e=E.useContext(di);return e||Te(!1),e}function Y0(t){let e=_T(),n=e.matches[e.matches.length-1];return n.route.id||Te(!1),n.route.id}function bT(){var t;let e=E.useContext(q0),n=wT(Tl.UseRouteError),r=Y0(Tl.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function xT(){let{router:t}=vT(Q0.UseNavigateStable),e=Y0(Tl.UseNavigateStable),n=E.useRef(!1);return J0(()=>{n.current=!0}),E.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ba({fromRouteId:e},s)))},[t,e])}function js(t){Te(!1)}function ET(t){let{basename:e="/",children:n=null,location:r,navigationType:i=er.Pop,navigator:s,static:a=!1,future:o}=t;qa()&&Te(!1);let l=e.replace(/^\/*/,"/"),u=E.useMemo(()=>({basename:l,navigator:s,static:a,future:ba({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof r=="string"&&(r=cs(r));let{pathname:c="/",search:d="",hash:f="",state:h=null,key:p="default"}=r,v=E.useMemo(()=>{let w=Uh(c,l);return w==null?null:{location:{pathname:w,search:d,hash:f,state:h,key:p},navigationType:i}},[l,c,d,f,h,p,i]);return v==null?null:E.createElement(ci.Provider,{value:u},E.createElement(Su.Provider,{children:n,value:v}))}function ST(t){let{children:e,location:n}=t;return dT(of(e),n)}new Promise(()=>{});function of(t,e){e===void 0&&(e=[]);let n=[];return E.Children.forEach(t,(r,i)=>{if(!E.isValidElement(r))return;let s=[...e,i];if(r.type===E.Fragment){n.push.apply(n,of(r.props.children,s));return}r.type!==js&&Te(!1),!r.props.index||!r.props.children||Te(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=of(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.25.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lf(){return lf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lf.apply(this,arguments)}function TT(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function PT(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function kT(t,e){return t.button===0&&(!e||e==="_self")&&!PT(t)}const CT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],RT="6";try{window.__reactRouterVersion=RT}catch{}const OT="startTransition",Qm=S1[OT];function AT(t){let{basename:e,children:n,future:r,window:i}=t,s=E.useRef();s.current==null&&(s.current=$S({window:i,v5Compat:!0}));let a=s.current,[o,l]=E.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},c=E.useCallback(d=>{u&&Qm?Qm(()=>l(d)):l(d)},[l,u]);return E.useLayoutEffect(()=>a.listen(c),[a,c]),E.createElement(ET,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}const NT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",IT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pl=E.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:u,preventScrollReset:c,unstable_viewTransition:d}=e,f=TT(e,CT),{basename:h}=E.useContext(ci),p,v=!1;if(typeof u=="string"&&IT.test(u)&&(p=u,NT))try{let y=new URL(window.location.href),b=u.startsWith("//")?new URL(y.protocol+u):new URL(u),x=Uh(b.pathname,h);b.origin===y.origin&&x!=null?u=x+b.search+b.hash:v=!0}catch{}let w=lT(u,{relative:i}),m=jT(u,{replace:a,state:o,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:d});function g(y){r&&r(y),y.defaultPrevented||m(y)}return E.createElement("a",lf({},f,{href:p||w,onClick:v||s?r:g,ref:n,target:l}))});var Ym;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Ym||(Ym={}));var eg;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(eg||(eg={}));function jT(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,unstable_viewTransition:o}=e===void 0?{}:e,l=uT(),u=ds(),c=X0(t,{relative:a});return E.useCallback(d=>{if(kT(d,n)){d.preventDefault();let f=r!==void 0?r:Sl(u)===Sl(c);l(t,{replace:f,state:i,preventScrollReset:s,relative:a,unstable_viewTransition:o})}},[u,l,c,r,i,n,t,s,a,o])}const tr=[["home.jsx","reactlogo.svg","/portfolio/","M"],["about.md","markdownlogo.svg","/portfolio/about","T"],["projects.py","pythonlogo.svg","/portfolio/projects","E"],["contact.cpp","cpplogo.svg","/portfolio/contact","U"]],LT=()=>{const[t,e]=E.useState(-1),n={0:"./files.svg",1:"./tags.svg"},r=["./user.svg","./settings.svg"];return _.jsx(_.Fragment,{children:_.jsxs("div",{className:"hidden sm:flex flex-row",children:[_.jsxs("div",{className:"w-12 bg-default-background border-r border-border-color flex flex-col justify-between",children:[_.jsx($T,{selectedIcon:t,setSelectedIcon:e,icons:n}),_.jsx("div",{className:"flex flex-col",children:r.map((i,s)=>_.jsx(_.Fragment,{children:_.jsx("button",{className:"hover:bg-hover-color flex justify-center py-3",children:_.jsx("img",{className:"w-6 h-6",src:i})},s)}))})]}),_.jsx("div",{className:`bg-secondary-background ${t!==-1?"":"hidden"}`,children:_.jsx(MT,{})})]})})},$T=({setSelectedIcon:t,selectedIcon:e,icons:n})=>_.jsx(_.Fragment,{children:_.jsx("div",{className:"flex flex-col gap-y-1",children:Object.keys(n).map(r=>_.jsx(DT,{icon_path:n[r],setSelectedIcon:t,iconIndex:r,selected:e===r},r))})}),DT=({icon_path:t,iconIndex:e,setSelectedIcon:n,selected:r})=>_.jsx(_.Fragment,{children:_.jsx("button",{className:`px-2 py-3 border-l-2 hover:bg-hover-color ${r?"border-orange-color":"border-default-background"}`,onClick:()=>{n(r?-1:e)},children:_.jsx("img",{src:t,className:"w-6 h-6"})})}),MT=()=>{const[t,e]=E.useState(!0),[n,r]=E.useState(0),i=E.useCallback(a=>{for(let o=0;o<tr.length;o++)if(a===tr[o][2])return o},[tr]),s=ds();return E.useEffect(()=>{const a=s.pathname;r(i(a))},[s.pathname,i]),_.jsx(_.Fragment,{children:_.jsxs("div",{className:"w-[200px] ml:w-[250px] text-xs ml:text-sm xl:text-base font-extrathin text-text-white h-full  border-r border-border-color hidden md:flex flex-col gap-y-3 py-2",children:[_.jsx("div",{className:"ml-6 uppercase",children:"EXPLORER"}),_.jsxs("div",{children:[_.jsxs("button",{className:"flex flex-row items-center gap-x-2",onClick:()=>{e(!t)},children:[_.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",className:"duration-300",style:{transform:`${t?"rotate(90deg)":"rotate(0deg)"}`},children:_.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.072 8.024L5.715 3.667l.618-.62L11 7.716v.618L6.333 13l-.618-.619 4.357-4.357z"})}),_.jsx("div",{className:"uppercase ",children:"Portfolio"})]}),_.jsx("div",{className:"overflow-hidden",children:_.jsx("div",{className:`mt-1 text-[0.7em] ml:text-xs xl:text-sm flex flex-col items-start ${t?"translate-y-0":"-translate-y-40"} duration-300`,children:tr.map((a,o)=>{const[l,u,c,d]=a,f=d==="E"?"text-text-red":d==="U"?"text-text-green":d==="M"?"text-text-yellow":"";return _.jsx(_.Fragment,{children:_.jsxs(Pl,{to:c,onClick:()=>{r(o)},className:`${f} pl-6 py-1 border flex flex-row hover:bg-default-background items-center gap-2 w-full ${n===o?"bg-hover-color border-color-blue":"border-secondary-background"}`,children:[_.jsx("img",{className:"h-4 pointer-events-none",src:u}),_.jsxs("div",{className:"flex justify-between flex-grow pr-10 items-center",children:[_.jsx("div",{children:l}),(d==="M"||d==="U")&&_.jsx("div",{children:d==="M"?"M":"U"})]})]},o)})})})})]})]})})};var e_={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},tg=Zt.createContext&&Zt.createContext(e_),FT=["attr","size","title"];function UT(t,e){if(t==null)return{};var n=VT(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function VT(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function kl(){return kl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kl.apply(this,arguments)}function ng(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ng(Object(n),!0).forEach(function(r){BT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ng(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BT(t,e,n){return e=zT(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zT(t){var e=HT(t,"string");return typeof e=="symbol"?e:e+""}function HT(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function t_(t){return t&&t.map((e,n)=>Zt.createElement(e.tag,Cl({key:n},e.attr),t_(e.child)))}function Bh(t){return e=>Zt.createElement(WT,kl({attr:Cl({},t.attr)},e),t_(t.child))}function WT(t){var e=n=>{var{attr:r,size:i,title:s}=t,a=UT(t,FT),o=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),Zt.createElement("svg",kl({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:l,style:Cl(Cl({color:t.color||n.color},n.style),t.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),s&&Zt.createElement("title",null,s),t.children)};return tg!==void 0?Zt.createElement(tg.Consumer,null,n=>e(n)):e(e_)}function GT(t){return Bh({tag:"svg",attr:{viewBox:"0 0 1024 1024",fill:"currentColor",fillRule:"evenodd"},child:[{tag:"path",attr:{d:"M799.855 166.312c.023.007.043.018.084.059l57.69 57.69c.041.041.052.06.059.084a.118.118 0 0 1 0 .069c-.007.023-.018.042-.059.083L569.926 512l287.703 287.703c.041.04.052.06.059.083a.118.118 0 0 1 0 .07c-.007.022-.018.042-.059.083l-57.69 57.69c-.041.041-.06.052-.084.059a.118.118 0 0 1-.069 0c-.023-.007-.042-.018-.083-.059L512 569.926 224.297 857.629c-.04.041-.06.052-.083.059a.118.118 0 0 1-.07 0c-.022-.007-.042-.018-.083-.059l-57.69-57.69c-.041-.041-.052-.06-.059-.084a.118.118 0 0 1 0-.069c.007-.023.018-.042.059-.083L454.073 512 166.371 224.297c-.041-.04-.052-.06-.059-.083a.118.118 0 0 1 0-.07c.007-.022.018-.042.059-.083l57.69-57.69c.041-.041.06-.052.084-.059a.118.118 0 0 1 .069 0c.023.007.042.018.083.059L512 454.073l287.703-287.702c.04-.041.06-.052.083-.059a.118.118 0 0 1 .07 0Z"},child:[]}]})(t)}function ZT(t){return Bh({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 3v10h10V3H3zm9 9H4V4h8v8z"},child:[]}]})(t)}function KT(t){return Bh({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M14 8v1H3V8h11z"},child:[]}]})(t)}const qT=()=>{const t=["File","Edit","Selection","View","Go","Run","Terminal","Help"];return _.jsx(_.Fragment,{children:_.jsxs("div",{className:"pl-1 text-xs md:text-[0.5em] ml:text-[0.6em] xl:text-xs text-text-gray grid grid-cols-7 md:grid-cols-5 items-center border-b border-border-color",children:[_.jsxs("div",{className:"col-span-1 md:col-span-2 flex flex-row xl:gap-x-1 py-1 items-center flex-wrap",children:[_.jsx("img",{src:"./vscode.svg",className:"h-3 w-3 md:h-2 md:w-2 ml:h-3 ml:w-3 mr-1 ml:mx-2"}),_.jsx("div",{className:"hidden md:flex flex-row lg:gap-x-1",children:t.map((e,n)=>_.jsx(JT,{text:e},n))})]}),_.jsx("div",{className:"text-center font-bold col-span-5 md:col-span-1",children:"Aayush Regmi - Visual Studio Code"}),_.jsxs("div",{className:"flex justify-end h-full col-span-1 md:col-span-2",children:[_.jsx(Sc,{button_icon:_.jsx(KT,{className:"h-3 w-3"})}),_.jsx(Sc,{button_icon:_.jsx(ZT,{className:"h-3 w-3"})}),_.jsx(Sc,{button_icon:_.jsx(GT,{className:"h-3 w-3"})})]})]})})},JT=({text:t})=>_.jsx("div",{className:"cursor-pointer px-1 ml:px-2 hover:bg-hover-color rounded-md duration-300",children:t}),Sc=({button_icon:t})=>{const e=E.useRef(null);return E.useEffect(()=>{if(e.current){const n=e.current.clientHeight;e.current.style.width=`${n}px`}},[]),_.jsx("div",{ref:e,className:"cursor-pointer hover:bg-hover-color h-full flex items-center justify-center",children:t})},n_=E.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Tu=E.createContext({}),zh=E.createContext(null),Hh=typeof document<"u",XT=Hh?E.useLayoutEffect:E.useEffect,r_=E.createContext({strict:!1}),Pu=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),QT="framerAppearId",i_="data-"+Pu(QT),YT={skipAnimations:!1,useManualTiming:!1};function eP(t){let e=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function o(u){s.has(u)&&(l.schedule(u),t()),u(a)}const l={schedule:(u,c=!1,d=!1)=>{const h=d&&r?e:n;return c&&s.add(u),h.has(u)||h.add(u),u},cancel:u=>{n.delete(u),s.delete(u)},process:u=>{if(a=u,r){i=!0;return}r=!0,[e,n]=[n,e],n.clear(),e.forEach(o),r=!1,i&&(i=!1,l.process(u))}};return l}const Co=["read","resolveKeyframes","update","preRender","render","postRender"],tP=40;function s_(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,a=Co.reduce((m,g)=>(m[g]=eP(s),m),{}),{read:o,resolveKeyframes:l,update:u,preRender:c,render:d,postRender:f}=a,h=()=>{const m=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(m-i.timestamp,tP),1),i.timestamp=m,i.isProcessing=!0,o.process(i),l.process(i),u.process(i),c.process(i),d.process(i),f.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(h))},p=()=>{n=!0,r=!0,i.isProcessing||t(h)};return{schedule:Co.reduce((m,g)=>{const y=a[g];return m[g]=(b,x=!1,T=!1)=>(n||p(),y.schedule(b,x,T)),m},{}),cancel:m=>{for(let g=0;g<Co.length;g++)a[Co[g]].cancel(m)},state:i,steps:a}}const{schedule:Wh,cancel:gM}=s_(queueMicrotask,!1);function Oi(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const a_=E.createContext({});let rg=!1;function nP(t,e,n,r,i){const{visualElement:s}=E.useContext(Tu),a=E.useContext(r_),o=E.useContext(zh),l=E.useContext(n_).reducedMotion,u=E.useRef();r=r||a.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:s,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const c=u.current,d=E.useContext(a_);c&&!c.projection&&i&&(c.type==="html"||c.type==="svg")&&iP(u.current,n,i,d),E.useInsertionEffect(()=>{c&&c.update(n,o)});const f=E.useRef(!!(n[i_]&&!window.HandoffComplete));return XT(()=>{c&&(c.updateFeatures(),Wh.render(c.render),f.current&&c.animationState&&c.animationState.animateChanges())}),E.useEffect(()=>{c&&(!f.current&&c.animationState&&c.animationState.animateChanges(),f.current&&(f.current=!1,rg||(rg=!0,queueMicrotask(rP))))}),c}function rP(){window.HandoffComplete=!0}function iP(t,e,n,r){const{layoutId:i,layout:s,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:o_(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||o&&Oi(o),visualElement:t,scheduleRender:()=>t.scheduleRender(),animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function o_(t){if(t)return t.options.allowProjection!==!1?t.projection:o_(t.parent)}function sP(t,e,n){return E.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Oi(n)&&(n.current=r))},[e])}function xa(t){return typeof t=="string"||Array.isArray(t)}function Ea(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Gh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Zh=["initial",...Gh];function ku(t){return Ea(t.animate)||Zh.some(e=>xa(t[e]))}function l_(t){return!!(ku(t)||t.variants)}function aP(t,e){if(ku(t)){const{initial:n,animate:r}=t;return{initial:n===!1||xa(n)?n:void 0,animate:xa(r)?r:void 0}}return t.inherit!==!1?e:{}}function oP(t){const{initial:e,animate:n}=aP(t,E.useContext(Tu));return E.useMemo(()=>({initial:e,animate:n}),[ig(e),ig(n)])}function ig(t){return Array.isArray(t)?t.join(" "):t}const sg={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},es={};for(const t in sg)es[t]={isEnabled:e=>sg[t].some(n=>!!e[n])};function lP(t){for(const e in t)es[e]={...es[e],...t[e]}}const u_=E.createContext({}),uP=Symbol.for("motionComponentSymbol"),Ze=t=>t;let uf=Ze;function cP({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&lP(t);function s(o,l){let u;const c={...E.useContext(n_),...o,layoutId:dP(o)},{isStatic:d}=c,f=oP(o),h=r(o,d);if(!d&&Hh){fP();const p=hP(c);u=p.MeasureLayout,f.visualElement=nP(i,h,c,e,p.ProjectionNode)}return _.jsxs(Tu.Provider,{value:f,children:[u&&f.visualElement?_.jsx(u,{visualElement:f.visualElement,...c}):null,n(i,o,sP(h,f.visualElement,l),h,d,f.visualElement)]})}const a=E.forwardRef(s);return a[uP]=i,a}function dP({layoutId:t}){const e=E.useContext(u_).id;return e&&t!==void 0?e+"-"+t:t}function fP(t,e){E.useContext(r_).strict}function hP(t){const{drag:e,layout:n}=es;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function pP(t){function e(r,i={}){return cP(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const mP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Kh(t){return typeof t!="string"||t.includes("-")?!1:!!(mP.indexOf(t)>-1||/[A-Z]/u.test(t))}const Rl={};function gP(t){Object.assign(Rl,t)}const Ja=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],kr=new Set(Ja);function c_(t,{layout:e,layoutId:n}){return kr.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Rl[t]||t==="opacity")}const Ge=t=>!!(t&&t.getVelocity),yP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},vP=Ja.length;function wP(t,e,n){let r="";for(let i=0;i<vP;i++){const s=Ja[i];if(t[s]!==void 0){const a=yP[s]||s;r+=`${a}(${t[s]}) `}}return r=r.trim(),n?r=n(t,e?"":r):e&&(r="none"),r}const d_=t=>e=>typeof e=="string"&&e.startsWith(t),f_=d_("--"),_P=d_("var(--"),qh=t=>_P(t)?bP.test(t.split("/*")[0].trim()):!1,bP=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,xP=(t,e)=>e&&typeof t=="number"?e.transform(t):t,gr=(t,e,n)=>n>e?e:n<t?t:n,fs={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},qs={...fs,transform:t=>gr(0,1,t)},Ro={...fs,default:1},Js=t=>Math.round(t*1e5)/1e5,Jh=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,EP=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,SP=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function Xa(t){return typeof t=="string"}function TP(t){return t==null}const Qa=t=>({test:e=>Xa(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),zn=Qa("deg"),mn=Qa("%"),H=Qa("px"),PP=Qa("vh"),kP=Qa("vw"),ag={...mn,parse:t=>mn.parse(t)/100,transform:t=>mn.transform(t*100)},og={...fs,transform:Math.round},h_={borderWidth:H,borderTopWidth:H,borderRightWidth:H,borderBottomWidth:H,borderLeftWidth:H,borderRadius:H,radius:H,borderTopLeftRadius:H,borderTopRightRadius:H,borderBottomRightRadius:H,borderBottomLeftRadius:H,width:H,maxWidth:H,height:H,maxHeight:H,size:H,top:H,right:H,bottom:H,left:H,padding:H,paddingTop:H,paddingRight:H,paddingBottom:H,paddingLeft:H,margin:H,marginTop:H,marginRight:H,marginBottom:H,marginLeft:H,rotate:zn,rotateX:zn,rotateY:zn,rotateZ:zn,scale:Ro,scaleX:Ro,scaleY:Ro,scaleZ:Ro,skew:zn,skewX:zn,skewY:zn,distance:H,translateX:H,translateY:H,translateZ:H,x:H,y:H,z:H,perspective:H,transformPerspective:H,opacity:qs,originX:ag,originY:ag,originZ:H,zIndex:og,backgroundPositionX:H,backgroundPositionY:H,fillOpacity:qs,strokeOpacity:qs,numOctaves:og};function Xh(t,e,n){const{style:r,vars:i,transform:s,transformOrigin:a}=t;let o=!1,l=!1,u=!0;for(const c in e){const d=e[c];if(f_(c)){i[c]=d;continue}const f=h_[c],h=xP(d,f);if(kr.has(c)){if(o=!0,s[c]=h,!u)continue;d!==(f.default||0)&&(u=!1)}else c.startsWith("origin")?(l=!0,a[c]=h):r[c]=h}if(e.transform||(o||n?r.transform=wP(t.transform,u,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:f=0}=a;r.transformOrigin=`${c} ${d} ${f}`}}const Qh=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function p_(t,e,n){for(const r in e)!Ge(e[r])&&!c_(r,n)&&(t[r]=e[r])}function CP({transformTemplate:t},e){return E.useMemo(()=>{const n=Qh();return Xh(n,e,t),Object.assign({},n.vars,n.style)},[e])}function RP(t,e){const n=t.style||{},r={};return p_(r,n,t),Object.assign(r,CP(t,e)),r}function OP(t,e){const n={},r=RP(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const AP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ol(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||AP.has(t)}let m_=t=>!Ol(t);function NP(t){t&&(m_=e=>e.startsWith("on")?!Ol(e):t(e))}try{NP(require("@emotion/is-prop-valid").default)}catch{}function IP(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(m_(i)||n===!0&&Ol(i)||!e&&!Ol(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function lg(t,e,n){return typeof t=="string"?t:H.transform(e+n*t)}function jP(t,e,n){const r=lg(e,t.x,t.width),i=lg(n,t.y,t.height);return`${r} ${i}`}const LP={offset:"stroke-dashoffset",array:"stroke-dasharray"},$P={offset:"strokeDashoffset",array:"strokeDasharray"};function DP(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?LP:$P;t[s.offset]=H.transform(-r);const a=H.transform(e),o=H.transform(n);t[s.array]=`${a} ${o}`}function Yh(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:a,pathSpacing:o=1,pathOffset:l=0,...u},c,d){if(Xh(t,u,d),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:h,dimensions:p}=t;f.transform&&(p&&(h.transform=f.transform),delete f.transform),p&&(i!==void 0||s!==void 0||h.transform)&&(h.transformOrigin=jP(p,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),a!==void 0&&DP(f,a,o,l,!1)}const g_=()=>({...Qh(),attrs:{}}),ep=t=>typeof t=="string"&&t.toLowerCase()==="svg";function MP(t,e,n,r){const i=E.useMemo(()=>{const s=g_();return Yh(s,e,ep(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};p_(s,t.style,t),i.style={...s,...i.style}}return i}function FP(t=!1){return(n,r,i,{latestValues:s},a)=>{const l=(Kh(n)?MP:OP)(r,s,a,n),u=IP(r,typeof n=="string",t),c=n!==E.Fragment?{...u,...l,ref:i}:{},{children:d}=r,f=E.useMemo(()=>Ge(d)?d.get():d,[d]);return E.createElement(n,{...c,children:f})}}function y_(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const v_=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function w_(t,e,n,r){y_(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(v_.has(i)?i:Pu(i),e.attrs[i])}function tp(t,e,n){var r;const{style:i}=t,s={};for(const a in i)(Ge(i[a])||e.style&&Ge(e.style[a])||c_(a,t)||((r=n==null?void 0:n.getValue(a))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[a]=i[a]);return n&&i&&typeof i.willChange=="string"&&(n.applyWillChange=!1),s}function __(t,e,n){const r=tp(t,e,n);for(const i in t)if(Ge(t[i])||Ge(e[i])){const s=Ja.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}function ug(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function np(t,e,n,r){if(typeof e=="function"){const[i,s]=ug(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=ug(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function UP(t){const e=E.useRef(null);return e.current===null&&(e.current=t()),e.current}const cf=t=>Array.isArray(t),VP=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),BP=t=>cf(t)?t[t.length-1]||0:t;function Xo(t){const e=Ge(t)?t.get():t;return VP(e)?e.toValue():e}const b_=new Set(["opacity","clipPath","filter","transform"]);function x_(t){if(kr.has(t))return"transform";if(b_.has(t))return Pu(t)}function Cu(t,e){t.indexOf(e)===-1&&t.push(e)}function Ru(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function zP({applyWillChange:t=!1,scrapeMotionValuesFromProps:e,createRenderState:n,onMount:r},i,s,a,o){const l={latestValues:WP(i,s,a,o?!1:t,e),renderState:n()};return r&&(l.mount=u=>r(i,u,l)),l}const E_=t=>(e,n)=>{const r=E.useContext(Tu),i=E.useContext(zh),s=()=>zP(t,e,r,i,n);return n?s():UP(s)};function HP(t,e){const n=x_(e);n&&Cu(t,n)}function cg(t,e,n){const r=Array.isArray(e)?e:[e];for(let i=0;i<r.length;i++){const s=np(t,r[i]);if(s){const{transitionEnd:a,transition:o,...l}=s;n(l,a)}}}function WP(t,e,n,r,i){var s;const a={},o=[],l=r&&((s=t.style)===null||s===void 0?void 0:s.willChange)===void 0,u=i(t,{});for(const w in u)a[w]=Xo(u[w]);let{initial:c,animate:d}=t;const f=ku(t),h=l_(t);e&&h&&!f&&t.inherit!==!1&&(c===void 0&&(c=e.initial),d===void 0&&(d=e.animate));let p=n?n.initial===!1:!1;p=p||c===!1;const v=p?d:c;return v&&typeof v!="boolean"&&!Ea(v)&&cg(t,v,(w,m)=>{for(const g in w){let y=w[g];if(Array.isArray(y)){const b=p?y.length-1:0;y=y[b]}y!==null&&(a[g]=y)}for(const g in m)a[g]=m[g]}),l&&(d&&c!==!1&&!Ea(d)&&cg(t,d,w=>{for(const m in w)HP(o,m)}),o.length&&(a.willChange=o.join(","))),a}const{schedule:oe,cancel:$n,state:Me,steps:Tc}=s_(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ze,!0),GP={useVisualState:E_({scrapeMotionValuesFromProps:__,createRenderState:g_,onMount:(t,e,{renderState:n,latestValues:r})=>{oe.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),oe.render(()=>{Yh(n,r,ep(e.tagName),t.transformTemplate),w_(e,n)})}})},ZP={useVisualState:E_({applyWillChange:!0,scrapeMotionValuesFromProps:tp,createRenderState:Qh})};function KP(t,{forwardMotionProps:e=!1},n,r){return{...Kh(t)?GP:ZP,preloadedFeatures:n,useRender:FP(e),createVisualElement:r,Component:t}}function Tn(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const S_=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Ou(t,e="page"){return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}const qP=t=>e=>S_(e)&&t(e,Ou(e));function Cn(t,e,n,r){return Tn(t,e,qP(n),r)}const JP=(t,e)=>n=>e(t(n)),Rn=(...t)=>t.reduce(JP);function T_(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const dg=T_("dragHorizontal"),fg=T_("dragVertical");function P_(t){let e=!1;if(t==="y")e=fg();else if(t==="x")e=dg();else{const n=dg(),r=fg();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function k_(){const t=P_(!0);return t?(t(),!1):!0}class Cr{constructor(e){this.isMounted=!1,this.node=e}update(){}}function hg(t,e){const n=e?"pointerenter":"pointerleave",r=e?"onHoverStart":"onHoverEnd",i=(s,a)=>{if(s.pointerType==="touch"||k_())return;const o=t.getProps();t.animationState&&o.whileHover&&t.animationState.setActive("whileHover",e);const l=o[r];l&&oe.postRender(()=>l(s,a))};return Cn(t.current,n,i,{passive:!t.getProps()[r]})}class XP extends Cr{mount(){this.unmount=Rn(hg(this.node,!0),hg(this.node,!1))}unmount(){}}class QP extends Cr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Rn(Tn(this.node.current,"focus",()=>this.onFocus()),Tn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const C_=(t,e)=>e?t===e?!0:C_(t,e.parentElement):!1;function Pc(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Ou(n))}class YP extends Cr{constructor(){super(...arguments),this.removeStartListeners=Ze,this.removeEndListeners=Ze,this.removeAccessibleListeners=Ze,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=Cn(window,"pointerup",(o,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:c,globalTapTarget:d}=this.node.getProps(),f=!d&&!C_(this.node.current,o.target)?c:u;f&&oe.update(()=>f(o,l))},{passive:!(r.onTap||r.onPointerUp)}),a=Cn(window,"pointercancel",(o,l)=>this.cancelPress(o,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Rn(s,a),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const a=o=>{o.key!=="Enter"||!this.checkPressEnd()||Pc("up",(l,u)=>{const{onTap:c}=this.node.getProps();c&&oe.postRender(()=>c(l,u))})};this.removeEndListeners(),this.removeEndListeners=Tn(this.node.current,"keyup",a),Pc("down",(o,l)=>{this.startPress(o,l)})},n=Tn(this.node.current,"keydown",e),r=()=>{this.isPressing&&Pc("cancel",(s,a)=>this.cancelPress(s,a))},i=Tn(this.node.current,"blur",r);this.removeAccessibleListeners=Rn(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&oe.postRender(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!k_()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&oe.postRender(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Cn(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Tn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Rn(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const df=new WeakMap,kc=new WeakMap,ek=t=>{const e=df.get(t.target);e&&e(t)},tk=t=>{t.forEach(ek)};function nk({root:t,...e}){const n=t||document;kc.has(n)||kc.set(n,{});const r=kc.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(tk,{root:t,...e})),r[i]}function rk(t,e,n){const r=nk(e);return df.set(t,n),r.observe(t),()=>{df.delete(t),r.unobserve(t)}}const ik={some:0,all:1};class sk extends Cr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:ik[i]},o=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:d}=this.node.getProps(),f=u?c:d;f&&f(l)};return rk(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(ak(e,n))&&this.startObserver()}unmount(){}}function ak({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const ok={inView:{Feature:sk},tap:{Feature:YP},focus:{Feature:QP},hover:{Feature:XP}};function R_(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Au(t,e,n){const r=t.getProps();return np(r,e,n!==void 0?n:r.custom,t)}const dr=t=>t*1e3,On=t=>t/1e3,lk={type:"spring",stiffness:500,damping:25,restSpeed:10},uk=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),ck={type:"keyframes",duration:.8},dk={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},fk=(t,{keyframes:e})=>e.length>2?ck:kr.has(t)?t.startsWith("scale")?uk(e[1]):lk:dk;function hk({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:o,from:l,elapsed:u,...c}){return!!Object.keys(c).length}function rp(t,e){return t[e]||t.default||t}const pk=t=>t!==null;function Nu(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(pk),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}let Qo;function mk(){Qo=void 0}const fr={now:()=>(Qo===void 0&&fr.set(Me.isProcessing||YT.useManualTiming?Me.timestamp:performance.now()),Qo),set:t=>{Qo=t,queueMicrotask(mk)}},O_=t=>/^0[^.\s]+$/u.test(t);function gk(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||O_(t):!0}const A_=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),yk=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function vk(t){const e=yk.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function N_(t,e,n=1){const[r,i]=vk(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const a=s.trim();return A_(a)?parseFloat(a):a}return qh(i)?N_(i,e,n+1):i}const wk=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),pg=t=>t===fs||t===H,mg=(t,e)=>parseFloat(t.split(", ")[e]),gg=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return mg(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?mg(s[1],t):0}},_k=new Set(["x","y","z"]),bk=Ja.filter(t=>!_k.has(t));function xk(t){const e=[];return bk.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const ts={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:gg(4,13),y:gg(5,14)};ts.translateX=ts.x;ts.translateY=ts.y;const I_=t=>e=>e.test(t),Ek={test:t=>t==="auto",parse:t=>t},j_=[fs,H,mn,zn,kP,PP,Ek],yg=t=>j_.find(I_(t)),Gr=new Set;let ff=!1,hf=!1;function L_(){if(hf){const t=Array.from(Gr).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=xk(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,a])=>{var o;(o=r.getValue(s))===null||o===void 0||o.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}hf=!1,ff=!1,Gr.forEach(t=>t.complete()),Gr.clear()}function $_(){Gr.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(hf=!0)})}function Sk(){$_(),L_()}class ip{constructor(e,n,r,i,s,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Gr.add(this),ff||(ff=!0,oe.read($_),oe.resolveKeyframes(L_))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const a=i==null?void 0:i.get(),o=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const l=r.readValue(n,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),i&&a===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Gr.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Gr.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const sp=(t,e)=>n=>!!(Xa(n)&&SP.test(n)&&n.startsWith(t)||e&&!TP(n)&&Object.prototype.hasOwnProperty.call(n,e)),D_=(t,e,n)=>r=>{if(!Xa(r))return r;const[i,s,a,o]=r.match(Jh);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},Tk=t=>gr(0,255,t),Cc={...fs,transform:t=>Math.round(Tk(t))},Ur={test:sp("rgb","red"),parse:D_("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Cc.transform(t)+", "+Cc.transform(e)+", "+Cc.transform(n)+", "+Js(qs.transform(r))+")"};function Pk(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const pf={test:sp("#"),parse:Pk,transform:Ur.transform},Ai={test:sp("hsl","hue"),parse:D_("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+mn.transform(Js(e))+", "+mn.transform(Js(n))+", "+Js(qs.transform(r))+")"},ze={test:t=>Ur.test(t)||pf.test(t)||Ai.test(t),parse:t=>Ur.test(t)?Ur.parse(t):Ai.test(t)?Ai.parse(t):pf.parse(t),transform:t=>Xa(t)?t:t.hasOwnProperty("red")?Ur.transform(t):Ai.transform(t)};function kk(t){var e,n;return isNaN(t)&&Xa(t)&&(((e=t.match(Jh))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(EP))===null||n===void 0?void 0:n.length)||0)>0}const M_="number",F_="color",Ck="var",Rk="var(",vg="${}",Ok=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Sa(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const o=e.replace(Ok,l=>(ze.test(l)?(r.color.push(s),i.push(F_),n.push(ze.parse(l))):l.startsWith(Rk)?(r.var.push(s),i.push(Ck),n.push(l)):(r.number.push(s),i.push(M_),n.push(parseFloat(l))),++s,vg)).split(vg);return{values:n,split:o,indexes:r,types:i}}function U_(t){return Sa(t).values}function V_(t){const{split:e,types:n}=Sa(t),r=e.length;return i=>{let s="";for(let a=0;a<r;a++)if(s+=e[a],i[a]!==void 0){const o=n[a];o===M_?s+=Js(i[a]):o===F_?s+=ze.transform(i[a]):s+=i[a]}return s}}const Ak=t=>typeof t=="number"?0:t;function Nk(t){const e=U_(t);return V_(t)(e.map(Ak))}const yr={test:kk,parse:U_,createTransformer:V_,getAnimatableNone:Nk},Ik=new Set(["brightness","contrast","saturate","opacity"]);function jk(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Jh)||[];if(!r)return t;const i=n.replace(r,"");let s=Ik.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const Lk=/\b([a-z-]*)\(.*?\)/gu,mf={...yr,getAnimatableNone:t=>{const e=t.match(Lk);return e?e.map(jk).join(" "):t}},$k={...h_,color:ze,backgroundColor:ze,outlineColor:ze,fill:ze,stroke:ze,borderColor:ze,borderTopColor:ze,borderRightColor:ze,borderBottomColor:ze,borderLeftColor:ze,filter:mf,WebkitFilter:mf},ap=t=>$k[t];function B_(t,e){let n=ap(t);return n!==mf&&(n=yr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Dk=new Set(["auto","none","0"]);function Mk(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!Dk.has(s)&&Sa(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=B_(n,i)}class z_ extends ip{constructor(e,n,r,i){super(e,n,r,i,i==null?void 0:i.owner,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),qh(u))){const c=N_(u,n.current);c!==void 0&&(e[l]=c),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!wk.has(r)||e.length!==2)return;const[i,s]=e,a=yg(i),o=yg(s);if(a!==o)if(pg(a)&&pg(o))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)gk(e[i])&&r.push(i);r.length&&Mk(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ts[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const a=i.length-1,o=i[a];i[a]=ts[r](n.measureViewportBox(),window.getComputedStyle(n.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function H_(t){let e;return()=>(e===void 0&&(e=t()),e)}const wg=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(yr.test(t)||t==="0")&&!t.startsWith("url("));function Fk(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Uk(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],a=wg(i,e),o=wg(s,e);return!a||!o?!1:Fk(t)||n==="spring"&&r}class W_{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:a,...o},this.updateFinishedPromise()}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Sk(),this._resolved}onKeyframesResolved(e,n){this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:a,onComplete:o,onUpdate:l,isGenerator:u}=this.options;if(!u&&!Uk(e,r,i,s))if(a)this.options.duration=0;else{l==null||l(Nu(e,this.options,n)),o==null||o(),this.resolveFinishedPromise();return}const c=this.initPlayback(e,n);c!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...c},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function G_(t,e){return e?t*(1e3/e):0}const Vk=5;function Z_(t,e,n){const r=Math.max(e-Vk,0);return G_(n-t(r),e-r)}const Rc=.001,Bk=.01,zk=10,Hk=.05,Wk=1;function Gk({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s,a=1-e;a=gr(Hk,Wk,a),t=gr(Bk,zk,On(t)),a<1?(i=u=>{const c=u*a,d=c*t,f=c-n,h=gf(u,a),p=Math.exp(-d);return Rc-f/h*p},s=u=>{const d=u*a*t,f=d*n+n,h=Math.pow(a,2)*Math.pow(u,2)*t,p=Math.exp(-d),v=gf(Math.pow(u,2),a);return(-i(u)+Rc>0?-1:1)*((f-h)*p)/v}):(i=u=>{const c=Math.exp(-u*t),d=(u-n)*t+1;return-Rc+c*d},s=u=>{const c=Math.exp(-u*t),d=(n-u)*(t*t);return c*d});const o=5/t,l=Kk(i,s,o);if(t=dr(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:a*2*Math.sqrt(r*u),duration:t}}}const Zk=12;function Kk(t,e,n){let r=n;for(let i=1;i<Zk;i++)r=r-t(r)/e(r);return r}function gf(t,e){return t*Math.sqrt(1-e*e)}const qk=["duration","bounce"],Jk=["stiffness","damping","mass"];function _g(t,e){return e.some(n=>t[n]!==void 0)}function Xk(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!_g(t,Jk)&&_g(t,qk)){const n=Gk(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function K_({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],a={done:!1,value:i},{stiffness:o,damping:l,mass:u,duration:c,velocity:d,isResolvedFromDuration:f}=Xk({...r,velocity:-On(r.velocity||0)}),h=d||0,p=l/(2*Math.sqrt(o*u)),v=s-i,w=On(Math.sqrt(o/u)),m=Math.abs(v)<5;n||(n=m?.01:2),e||(e=m?.005:.5);let g;if(p<1){const y=gf(w,p);g=b=>{const x=Math.exp(-p*w*b);return s-x*((h+p*w*v)/y*Math.sin(y*b)+v*Math.cos(y*b))}}else if(p===1)g=y=>s-Math.exp(-w*y)*(v+(h+w*v)*y);else{const y=w*Math.sqrt(p*p-1);g=b=>{const x=Math.exp(-p*w*b),T=Math.min(y*b,300);return s-x*((h+p*w*v)*Math.sinh(T)+y*v*Math.cosh(T))/y}}return{calculatedDuration:f&&c||null,next:y=>{const b=g(y);if(f)a.done=y>=c;else{let x=h;y!==0&&(p<1?x=Z_(g,y,b):x=0);const T=Math.abs(x)<=n,O=Math.abs(s-b)<=e;a.done=T&&O}return a.value=a.done?s:b,a}}}function bg({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:l,restDelta:u=.5,restSpeed:c}){const d=t[0],f={done:!1,value:d},h=k=>o!==void 0&&k<o||l!==void 0&&k>l,p=k=>o===void 0?l:l===void 0||Math.abs(o-k)<Math.abs(l-k)?o:l;let v=n*e;const w=d+v,m=a===void 0?w:a(w);m!==w&&(v=m-d);const g=k=>-v*Math.exp(-k/r),y=k=>m+g(k),b=k=>{const Z=g(k),B=y(k);f.done=Math.abs(Z)<=u,f.value=f.done?m:B};let x,T;const O=k=>{h(f.value)&&(x=k,T=K_({keyframes:[f.value,p(f.value)],velocity:Z_(y,k,f.value),damping:i,stiffness:s,restDelta:u,restSpeed:c}))};return O(0),{calculatedDuration:null,next:k=>{let Z=!1;return!T&&x===void 0&&(Z=!0,b(k),O(k)),x!==void 0&&k>=x?T.next(k-x):(!Z&&b(k),f)}}}const q_=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Qk=1e-7,Yk=12;function eC(t,e,n,r,i){let s,a,o=0;do a=e+(n-e)/2,s=q_(a,r,i)-t,s>0?n=a:e=a;while(Math.abs(s)>Qk&&++o<Yk);return a}function Ya(t,e,n,r){if(t===e&&n===r)return Ze;const i=s=>eC(s,0,1,t,n);return s=>s===0||s===1?s:q_(i(s),e,r)}const tC=Ya(.42,0,1,1),nC=Ya(0,0,.58,1),J_=Ya(.42,0,.58,1),rC=t=>Array.isArray(t)&&typeof t[0]!="number",X_=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Q_=t=>e=>1-t(1-e),op=t=>1-Math.sin(Math.acos(t)),Y_=Q_(op),iC=X_(op),eb=Ya(.33,1.53,.69,.99),lp=Q_(eb),sC=X_(lp),aC=t=>(t*=2)<1?.5*lp(t):.5*(2-Math.pow(2,-10*(t-1))),xg={linear:Ze,easeIn:tC,easeInOut:J_,easeOut:nC,circIn:op,circInOut:iC,circOut:Y_,backIn:lp,backInOut:sC,backOut:eb,anticipate:aC},Eg=t=>{if(Array.isArray(t)){uf(t.length===4);const[e,n,r,i]=t;return Ya(e,n,r,i)}else if(typeof t=="string")return uf(xg[t]!==void 0),xg[t];return t},Ta=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},ye=(t,e,n)=>t+(e-t)*n;function Oc(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function oC({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,a=0;if(!e)i=s=a=n;else{const o=n<.5?n*(1+e):n+e-n*e,l=2*n-o;i=Oc(l,o,t+1/3),s=Oc(l,o,t),a=Oc(l,o,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:r}}function Al(t,e){return n=>n>0?e:t}const Ac=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},lC=[pf,Ur,Ai],uC=t=>lC.find(e=>e.test(t));function Sg(t){const e=uC(t);if(!e)return!1;let n=e.parse(t);return e===Ai&&(n=oC(n)),n}const Tg=(t,e)=>{const n=Sg(t),r=Sg(e);if(!n||!r)return Al(t,e);const i={...n};return s=>(i.red=Ac(n.red,r.red,s),i.green=Ac(n.green,r.green,s),i.blue=Ac(n.blue,r.blue,s),i.alpha=ye(n.alpha,r.alpha,s),Ur.transform(i))},yf=new Set(["none","hidden"]);function cC(t,e){return yf.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function dC(t,e){return n=>ye(t,e,n)}function up(t){return typeof t=="number"?dC:typeof t=="string"?qh(t)?Al:ze.test(t)?Tg:pC:Array.isArray(t)?tb:typeof t=="object"?ze.test(t)?Tg:fC:Al}function tb(t,e){const n=[...t],r=n.length,i=t.map((s,a)=>up(s)(s,e[a]));return s=>{for(let a=0;a<r;a++)n[a]=i[a](s);return n}}function fC(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=up(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function hC(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],o=t.indexes[a][i[a]],l=(n=t.values[o])!==null&&n!==void 0?n:0;r[s]=l,i[a]++}return r}const pC=(t,e)=>{const n=yr.createTransformer(e),r=Sa(t),i=Sa(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?yf.has(t)&&!i.values.length||yf.has(e)&&!r.values.length?cC(t,e):Rn(tb(hC(r,i),i.values),n):Al(t,e)};function nb(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ye(t,e,n):up(t)(t,e)}function mC(t,e,n){const r=[],i=n||nb,s=t.length-1;for(let a=0;a<s;a++){let o=i(t[a],t[a+1]);if(e){const l=Array.isArray(e)?e[a]||Ze:e;o=Rn(l,o)}r.push(o)}return r}function gC(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(uf(s===e.length),s===1)return()=>e[0];if(s===2&&t[0]===t[1])return()=>e[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=mC(e,r,i),o=a.length,l=u=>{let c=0;if(o>1)for(;c<t.length-2&&!(u<t[c+1]);c++);const d=Ta(t[c],t[c+1],u);return a[c](d)};return n?u=>l(gr(t[0],t[s-1],u)):l}function yC(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Ta(0,e,r);t.push(ye(n,1,i))}}function vC(t){const e=[0];return yC(e,t.length-1),e}function wC(t,e){return t.map(n=>n*e)}function _C(t,e){return t.map(()=>e||J_).splice(0,t.length-1)}function Nl({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=rC(r)?r.map(Eg):Eg(r),s={done:!1,value:e[0]},a=wC(n&&n.length===e.length?n:vC(e),t),o=gC(a,e,{ease:Array.isArray(i)?i:_C(e,i)});return{calculatedDuration:t,next:l=>(s.value=o(l),s.done=l>=t,s)}}const Pg=2e4;function bC(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Pg;)e+=n,r=t.next(e);return e>=Pg?1/0:e}const xC=t=>{const e=({timestamp:n})=>t(n);return{start:()=>oe.update(e,!0),stop:()=>$n(e),now:()=>Me.isProcessing?Me.timestamp:fr.now()}},EC={decay:bg,inertia:bg,tween:Nl,keyframes:Nl,spring:K_},SC=t=>t/100;class cp extends W_{constructor({KeyframeResolver:e=ip,...n}){super(n),this.holdTime=null,this.startTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:o}=this.options;o&&o()};const{name:r,motionValue:i,keyframes:s}=this.options,a=(o,l)=>this.onKeyframesResolved(o,l);r&&i&&i.owner?this.resolver=i.owner.resolveKeyframes(s,a,r,i):this.resolver=new e(s,a,r,i),this.resolver.scheduleResolve()}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=this.options,o=EC[n]||Nl;let l,u;o!==Nl&&typeof e[0]!="number"&&(l=Rn(SC,nb(e[0],e[1])),e=[0,100]);const c=o({...this.options,keyframes:e});s==="mirror"&&(u=o({...this.options,keyframes:[...e].reverse(),velocity:-a})),c.calculatedDuration===null&&(c.calculatedDuration=bC(c));const{calculatedDuration:d}=c,f=d+i,h=f*(r+1)-i;return{generator:c,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:f,totalDuration:h}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:k}=this.options;return{done:!0,value:k[k.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:a,mapPercentToKeyframes:o,keyframes:l,calculatedDuration:u,totalDuration:c,resolvedDuration:d}=r;if(this.startTime===null)return s.next(0);const{delay:f,repeat:h,repeatType:p,repeatDelay:v,onUpdate:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-c/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const m=this.currentTime-f*(this.speed>=0?1:-1),g=this.speed>=0?m<0:m>c;this.currentTime=Math.max(m,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=c);let y=this.currentTime,b=s;if(h){const k=Math.min(this.currentTime,c)/d;let Z=Math.floor(k),B=k%1;!B&&k>=1&&(B=1),B===1&&Z--,Z=Math.min(Z,h+1),!!(Z%2)&&(p==="reverse"?(B=1-B,v&&(B-=v/d)):p==="mirror"&&(b=a)),y=gr(0,1,B)*d}const x=g?{done:!1,value:l[0]}:b.next(y);o&&(x.value=o(x.value));let{done:T}=x;!g&&u!==null&&(T=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return O&&i!==void 0&&(x.value=Nu(l,this.options,i)),w&&w(x.value),O&&this.finish(),x}get duration(){const{resolved:e}=this;return e?On(e.calculatedDuration):0}get time(){return On(this.currentTime)}set time(e){e=dr(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=On(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=xC,onPlay:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:(!this.startTime||this.state==="finished")&&(this.startTime=r),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const rb=t=>Array.isArray(t)&&typeof t[0]=="number";function ib(t){return!!(!t||typeof t=="string"&&t in dp||rb(t)||Array.isArray(t)&&t.every(ib))}const Ls=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,dp={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ls([0,.65,.55,1]),circOut:Ls([.55,0,1,.45]),backIn:Ls([.31,.01,.66,-.59]),backOut:Ls([.33,1.53,.69,.99])};function TC(t){return sb(t)||dp.easeOut}function sb(t){if(t)return rb(t)?Ls(t):Array.isArray(t)?t.map(TC):dp[t]}function PC(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:o,times:l}={}){const u={[e]:n};l&&(u.offset=l);const c=sb(o);return Array.isArray(c)&&(u.easing=c),t.animate(u,{delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"})}const kC=H_(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Il=10,CC=2e4;function RC(t){return t.type==="spring"||!ib(t.ease)}function OC(t,e){const n=new cp({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<CC;)r=n.sample(s),i.push(r.value),s+=Il;return{times:void 0,keyframes:i,duration:s-Il,ease:"linear"}}class kg extends W_{constructor(e){super(e);const{name:n,motionValue:r,keyframes:i}=this.options;this.resolver=new z_(i,(s,a)=>this.onKeyframesResolved(s,a),n,r),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:i=300,times:s,ease:a,type:o,motionValue:l,name:u}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(RC(this.options)){const{onComplete:d,onUpdate:f,motionValue:h,...p}=this.options,v=OC(e,p);e=v.keyframes,e.length===1&&(e[1]=e[0]),i=v.duration,s=v.times,a=v.ease,o="keyframes"}const c=PC(l.owner.current,u,e,{...this.options,duration:i,times:s,ease:a});return c.startTime=fr.now(),this.pendingTimeline?(c.timeline=this.pendingTimeline,this.pendingTimeline=void 0):c.onfinish=()=>{const{onComplete:d}=this.options;l.set(Nu(e,this.options,n)),d&&d(),this.cancel(),this.resolveFinishedPromise()},{animation:c,duration:i,times:s,type:o,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return On(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return On(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=dr(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Ze;const{animation:r}=n;r.timeline=e,r.onfinish=null}return Ze}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:a,times:o}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:c,onComplete:d,...f}=this.options,h=new cp({...f,keyframes:r,duration:i,type:s,ease:a,times:o,isGenerator:!0}),p=dr(this.time);u.setWithVelocity(h.sample(p-Il).value,h.sample(p).value,Il)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:a,type:o}=e;return kC()&&r&&b_.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!i&&s!=="mirror"&&a!==0&&o!=="inertia"}}function AC(t,e){let n;const r=()=>{const{currentTime:i}=e,a=(i===null?0:i.value)/100;n!==a&&t(a),n=a};return oe.update(r,!0),()=>$n(r)}const NC=H_(()=>window.ScrollTimeline!==void 0);class IC{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e){const n=this.animations.map(r=>{if(NC()&&r.attachTimeline)r.attachTimeline(e);else return r.pause(),AC(i=>{r.time=r.duration*i},e)});return()=>{n.forEach((r,i)=>{r&&r(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const fp=(t,e,n,r={},i,s,a)=>o=>{const l=rp(r,t)||{},u=l.delay||r.delay||0;let{elapsed:c=0}=r;c=c-dr(u);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-c,onUpdate:h=>{e.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{o(),l.onComplete&&l.onComplete(),a&&a()},onStop:a,name:t,motionValue:e,element:s?void 0:i};hk(l)||(d={...d,...fk(t,d)}),d.duration&&(d.duration=dr(d.duration)),d.repeatDelay&&(d.repeatDelay=dr(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),f&&!s&&e.get()!==void 0){const h=Nu(d.keyframes,l);if(h!==void 0)return oe.update(()=>{d.onUpdate(h),d.onComplete()}),new IC([])}return!s&&kg.supports(d)?new kg(d):new cp(d)};class hp{constructor(){this.subscriptions=[]}add(e){return Cu(this.subscriptions,e),()=>Ru(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Cg=30,jC=t=>!isNaN(parseFloat(t));class ab{constructor(e,n={}){this.version="11.3.8",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=fr.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=fr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=jC(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new hp);const r=this.events[e].add(n);return e==="change"?()=>{r(),oe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=fr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Cg)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Cg);return G_(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Pa(t,e){return new ab(t,e)}function LC(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Pa(n))}function $C(t,e){const n=Au(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const a in s){const o=BP(s[a]);LC(t,a,o)}}function ob(t){return t.getProps()[i_]}class DC extends ab{constructor(){super(...arguments),this.output=[],this.counts=new Map}add(e){const n=x_(e);if(!n)return;const r=this.counts.get(n)||0;this.counts.set(n,r+1),r===0&&(this.output.push(n),this.update());let i=!1;return()=>{if(i)return;i=!0;const s=this.counts.get(n)-1;this.counts.set(n,s),s===0&&(Ru(this.output,n),this.update())}}update(){this.set(this.output.length?this.output.join(", "):"auto")}}function MC(t){return!!(Ge(t)&&t.add)}function vf(t,e){var n;if(!t.applyWillChange)return;let r=t.getValue("willChange");if(!r&&!(!((n=t.props.style)===null||n===void 0)&&n.willChange)&&(r=new DC("auto"),t.addValue("willChange",r)),MC(r))return r.add(e)}function FC({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function lb(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:a=t.getDefaultTransition(),transitionEnd:o,...l}=e;r&&(a=r);const u=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const d in l){const f=t.getValue(d,(s=t.latestValues[d])!==null&&s!==void 0?s:null),h=l[d];if(h===void 0||c&&FC(c,d))continue;const p={delay:n,elapsed:0,...rp(a||{},d)};let v=!1;if(window.HandoffAppearAnimations){const m=ob(t);if(m){const g=window.HandoffAppearAnimations(m,d,f,oe);g!==null&&(p.elapsed=g,v=!0)}}f.start(fp(d,f,h,t.shouldReduceMotion&&kr.has(d)?{type:!1}:p,t,v,vf(t,d)));const w=f.animation;w&&u.push(w)}return o&&Promise.all(u).then(()=>{oe.update(()=>{o&&$C(t,o)})}),u}function wf(t,e,n={}){var r;const i=Au(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const a=i?()=>Promise.all(lb(t,i,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:f}=s;return UC(t,e,c+u,d,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,c]=l==="beforeChildren"?[a,o]:[o,a];return u().then(()=>c())}else return Promise.all([a(),o(n.delay)])}function UC(t,e,n=0,r=0,i=1,s){const a=[],o=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>o-u*r;return Array.from(t.variantChildren).sort(VC).forEach((u,c)=>{u.notify("AnimationStart",e),a.push(wf(u,e,{...s,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(a)}function VC(t,e){return t.sortNodePosition(e)}function BC(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>wf(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=wf(t,e,n);else{const i=typeof e=="function"?Au(t,e,n.custom):e;r=Promise.all(lb(t,i,n))}return r.then(()=>{oe.postRender(()=>{t.notify("AnimationComplete",e)})})}const zC=[...Gh].reverse(),HC=Gh.length;function WC(t){return e=>Promise.all(e.map(({animation:n,options:r})=>BC(t,n,r)))}function GC(t){let e=WC(t),n=Rg(),r=!0;const i=l=>(u,c)=>{var d;const f=Au(t,c,l==="exit"?(d=t.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(f){const{transition:h,transitionEnd:p,...v}=f;u={...u,...v,...p}}return u};function s(l){e=l(t)}function a(l){const u=t.getProps(),c=t.getVariantContext(!0)||{},d=[],f=new Set;let h={},p=1/0;for(let w=0;w<HC;w++){const m=zC[w],g=n[m],y=u[m]!==void 0?u[m]:c[m],b=xa(y),x=m===l?g.isActive:null;x===!1&&(p=w);let T=y===c[m]&&y!==u[m]&&b;if(T&&r&&t.manuallyAnimateOnMount&&(T=!1),g.protectedKeys={...h},!g.isActive&&x===null||!y&&!g.prevProp||Ea(y)||typeof y=="boolean")continue;let k=ZC(g.prevProp,y)||m===l&&g.isActive&&!T&&b||w>p&&b,Z=!1;const B=Array.isArray(y)?y:[y];let ee=B.reduce(i(m),{});x===!1&&(ee={});const{prevResolvedValues:Ae={}}=g,Xe={...Ae,...ee},j=R=>{k=!0,f.has(R)&&(Z=!0,f.delete(R)),g.needsAnimating[R]=!0;const D=t.getValue(R);D&&(D.liveStyle=!1)};for(const R in Xe){const D=ee[R],U=Ae[R];if(h.hasOwnProperty(R))continue;let S=!1;cf(D)&&cf(U)?S=!R_(D,U):S=D!==U,S?D!=null?j(R):f.add(R):D!==void 0&&f.has(R)?j(R):g.protectedKeys[R]=!0}g.prevProp=y,g.prevResolvedValues=ee,g.isActive&&(h={...h,...ee}),r&&t.blockInitialAnimation&&(k=!1),k&&(!T||Z)&&d.push(...B.map(R=>({animation:R,options:{type:m}})))}if(f.size){const w={};f.forEach(m=>{const g=t.getBaseTarget(m),y=t.getValue(m);y&&(y.liveStyle=!0),w[m]=g??null}),d.push({animation:w})}let v=!!d.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(v=!1),r=!1,v?e(d):Promise.resolve()}function o(l,u){var c;if(n[l].isActive===u)return Promise.resolve();(c=t.variantChildren)===null||c===void 0||c.forEach(f=>{var h;return(h=f.animationState)===null||h===void 0?void 0:h.setActive(l,u)}),n[l].isActive=u;const d=a(l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:a,setActive:o,setAnimateFunction:s,getState:()=>n,reset:()=>{n=Rg(),r=!0}}}function ZC(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!R_(e,t):!1}function Or(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Rg(){return{animate:Or(!0),whileInView:Or(),whileHover:Or(),whileTap:Or(),whileDrag:Or(),whileFocus:Or(),exit:Or()}}class KC extends Cr{constructor(e){super(e),e.animationState||(e.animationState=GC(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ea(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let qC=0;class JC extends Cr{constructor(){super(...arguments),this.id=qC++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const XC={animation:{Feature:KC},exit:{Feature:JC}},Og=(t,e)=>Math.abs(t-e);function QC(t,e){const n=Og(t.x,e.x),r=Og(t.y,e.y);return Math.sqrt(n**2+r**2)}class ub{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=Ic(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,h=QC(d.offset,{x:0,y:0})>=3;if(!f&&!h)return;const{point:p}=d,{timestamp:v}=Me;this.history.push({...p,timestamp:v});const{onStart:w,onMove:m}=this.handlers;f||(w&&w(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),m&&m(this.lastMoveEvent,d)},this.handlePointerMove=(d,f)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=Nc(f,this.transformPagePoint),oe.update(this.updatePoint,!0)},this.handlePointerUp=(d,f)=>{this.end();const{onEnd:h,onSessionEnd:p,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Ic(d.type==="pointercancel"?this.lastMoveEventInfo:Nc(f,this.transformPagePoint),this.history);this.startEvent&&h&&h(d,w),p&&p(d,w)},!S_(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const a=Ou(e),o=Nc(a,this.transformPagePoint),{point:l}=o,{timestamp:u}=Me;this.history=[{...l,timestamp:u}];const{onSessionStart:c}=n;c&&c(e,Ic(o,this.history)),this.removeListeners=Rn(Cn(this.contextWindow,"pointermove",this.handlePointerMove),Cn(this.contextWindow,"pointerup",this.handlePointerUp),Cn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),$n(this.updatePoint)}}function Nc(t,e){return e?{point:e(t.point)}:t}function Ag(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ic({point:t},e){return{point:t,delta:Ag(t,cb(e)),offset:Ag(t,YC(e)),velocity:eR(e,.1)}}function YC(t){return t[0]}function cb(t){return t[t.length-1]}function eR(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=cb(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>dr(e)));)n--;if(!r)return{x:0,y:0};const s=On(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}const db=1e-4,tR=1-db,nR=1+db,fb=.01,rR=0-fb,iR=0+fb;function bt(t){return t.max-t.min}function sR(t,e,n){return Math.abs(t-e)<=n}function Ng(t,e,n,r=.5){t.origin=r,t.originPoint=ye(e.min,e.max,t.origin),t.scale=bt(n)/bt(e),t.translate=ye(n.min,n.max,t.origin)-t.originPoint,(t.scale>=tR&&t.scale<=nR||isNaN(t.scale))&&(t.scale=1),(t.translate>=rR&&t.translate<=iR||isNaN(t.translate))&&(t.translate=0)}function Xs(t,e,n,r){Ng(t.x,e.x,n.x,r?r.originX:void 0),Ng(t.y,e.y,n.y,r?r.originY:void 0)}function Ig(t,e,n){t.min=n.min+e.min,t.max=t.min+bt(e)}function aR(t,e,n){Ig(t.x,e.x,n.x),Ig(t.y,e.y,n.y)}function jg(t,e,n){t.min=e.min-n.min,t.max=t.min+bt(e)}function Qs(t,e,n){jg(t.x,e.x,n.x),jg(t.y,e.y,n.y)}function oR(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ye(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ye(n,t,r.max):Math.min(t,n)),t}function Lg(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function lR(t,{top:e,left:n,bottom:r,right:i}){return{x:Lg(t.x,n,i),y:Lg(t.y,e,r)}}function $g(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function uR(t,e){return{x:$g(t.x,e.x),y:$g(t.y,e.y)}}function cR(t,e){let n=.5;const r=bt(t),i=bt(e);return i>r?n=Ta(e.min,e.max-r,t.min):r>i&&(n=Ta(t.min,t.max-i,e.min)),gr(0,1,n)}function dR(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const _f=.35;function fR(t=_f){return t===!1?t=0:t===!0&&(t=_f),{x:Dg(t,"left","right"),y:Dg(t,"top","bottom")}}function Dg(t,e,n){return{min:Mg(t,e),max:Mg(t,n)}}function Mg(t,e){return typeof t=="number"?t:t[e]||0}const Fg=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ni=()=>({x:Fg(),y:Fg()}),Ug=()=>({min:0,max:0}),be=()=>({x:Ug(),y:Ug()});function kt(t){return[t("x"),t("y")]}function hb({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function hR({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function pR(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function jc(t){return t===void 0||t===1}function bf({scale:t,scaleX:e,scaleY:n}){return!jc(t)||!jc(e)||!jc(n)}function jr(t){return bf(t)||pb(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function pb(t){return Vg(t.x)||Vg(t.y)}function Vg(t){return t&&t!=="0%"}function jl(t,e,n){const r=t-n,i=e*r;return n+i}function Bg(t,e,n,r,i){return i!==void 0&&(t=jl(t,i,r)),jl(t,n,r)+e}function xf(t,e=0,n=1,r,i){t.min=Bg(t.min,e,n,r,i),t.max=Bg(t.max,e,n,r,i)}function mb(t,{x:e,y:n}){xf(t.x,e.translate,e.scale,e.originPoint),xf(t.y,n.translate,n.scale,n.originPoint)}const zg=.999999999999,Hg=1.0000000000001;function mR(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,a;for(let o=0;o<i;o++){s=n[o],a=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Ii(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,mb(t,a)),r&&jr(s.latestValues)&&Ii(t,s.latestValues))}e.x<Hg&&e.x>zg&&(e.x=1),e.y<Hg&&e.y>zg&&(e.y=1)}function Gn(t,e){t.min=t.min+e,t.max=t.max+e}function Wg(t,e,n,r,i=.5){const s=ye(t.min,t.max,i);xf(t,e,n,s,r)}function Ii(t,e){Wg(t.x,e.x,e.scaleX,e.scale,e.originX),Wg(t.y,e.y,e.scaleY,e.scale,e.originY)}function gb(t,e){return hb(pR(t.getBoundingClientRect(),e))}function gR(t,e,n){const r=gb(t,n),{scroll:i}=e;return i&&(Gn(r.x,i.offset.x),Gn(r.y,i.offset.y)),r}const yb=({current:t})=>t?t.ownerDocument.defaultView:null,yR=new WeakMap;class vR{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=be(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=c=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ou(c,"page").point)},s=(c,d)=>{var f;const{drag:h,dragPropagation:p,onDragStart:v}=this.getProps();if(h&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=P_(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),kt(m=>{let g=this.getAxisMotionValue(m).get()||0;if(mn.test(g)){const{projection:y}=this.visualElement;if(y&&y.layout){const b=y.layout.layoutBox[m];b&&(g=bt(b)*(parseFloat(g)/100))}}this.originPoint[m]=g}),v&&oe.postRender(()=>v(c,d)),(f=this.removeWillChange)===null||f===void 0||f.call(this),this.removeWillChange=vf(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},a=(c,d)=>{const{dragPropagation:f,dragDirectionLock:h,onDirectionLock:p,onDrag:v}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:w}=d;if(h&&this.currentDirection===null){this.currentDirection=wR(w),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",d.point,w),this.updateAxis("y",d.point,w),this.visualElement.render(),v&&v(c,d)},o=(c,d)=>this.stop(c,d),l=()=>kt(c=>{var d;return this.getAnimationState(c)==="paused"&&((d=this.getAxisMotionValue(c).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new ub(e,{onSessionStart:i,onStart:s,onMove:a,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:yb(this.visualElement)})}stop(e,n){var r;(r=this.removeWillChange)===null||r===void 0||r.call(this);const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&oe.postRender(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Oo(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=oR(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&Oi(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=lR(i.layoutBox,n):this.constraints=!1,this.elastic=fR(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&kt(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=dR(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Oi(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=gR(r,i.root,this.visualElement.getTransformPagePoint());let a=uR(i.layout.layoutBox,s);if(n){const o=n(hR(a));this.hasMutatedConstraints=!!o,o&&(a=hb(o))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},u=kt(c=>{if(!Oo(c,n,this.currentDirection))return;let d=l&&l[c]||{};a&&(d={min:0,max:0});const f=i?200:1e6,h=i?40:1e7,p={type:"inertia",velocity:r?e[c]:0,bounceStiffness:f,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(c,p)});return Promise.all(u).then(o)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(fp(e,r,0,n,this.visualElement,!1,vf(this.visualElement,e)))}stopAnimation(){kt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){kt(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){kt(n=>{const{drag:r}=this.getProps();if(!Oo(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:o}=i.layout.layoutBox[n];s.set(e[n]-ye(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Oi(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};kt(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();i[a]=cR({min:l,max:l},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),kt(a=>{if(!Oo(a,e,null))return;const o=this.getAxisMotionValue(a),{min:l,max:u}=this.constraints[a];o.set(ye(l,u,i[a]))})}addListeners(){if(!this.visualElement.current)return;yR.set(this.visualElement,this);const e=this.visualElement.current,n=Cn(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Oi(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),oe.read(r);const a=Tn(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(kt(c=>{const d=this.getAxisMotionValue(c);d&&(this.originPoint[c]+=l[c].translate,d.set(d.get()+l[c].translate))}),this.visualElement.render())});return()=>{a(),n(),s(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=_f,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:o}}}function Oo(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function wR(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class _R extends Cr{constructor(e){super(e),this.removeGroupControls=Ze,this.removeListeners=Ze,this.controls=new vR(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ze}unmount(){this.removeGroupControls(),this.removeListeners()}}const Gg=t=>(e,n)=>{t&&oe.postRender(()=>t(e,n))};class bR extends Cr{constructor(){super(...arguments),this.removePointerDownListener=Ze}onPointerDown(e){this.session=new ub(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:yb(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Gg(e),onStart:Gg(n),onMove:r,onEnd:(s,a)=>{delete this.session,i&&oe.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=Cn(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function xR(){const t=E.useContext(zh);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=E.useId();return E.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const Yo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Zg(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ps={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(H.test(t))t=parseFloat(t);else return t;const n=Zg(t,e.target.x),r=Zg(t,e.target.y);return`${n}% ${r}%`}},ER={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=yr.parse(t);if(i.length>5)return r;const s=yr.createTransformer(t),a=typeof i[0]!="number"?1:0,o=n.x.scale*e.x,l=n.y.scale*e.y;i[0+a]/=o,i[1+a]/=l;const u=ye(o,l,.5);return typeof i[2+a]=="number"&&(i[2+a]/=u),typeof i[3+a]=="number"&&(i[3+a]/=u),s(i)}};class SR extends E.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;gP(TR),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Yo.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,a=r.projection;return a&&(a.isPresent=s,i||e.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||oe.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Wh.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function vb(t){const[e,n]=xR(),r=E.useContext(u_);return _.jsx(SR,{...t,layoutGroup:r,switchLayoutGroup:E.useContext(a_),isPresent:e,safeToRemove:n})}const TR={borderRadius:{...Ps,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ps,borderTopRightRadius:Ps,borderBottomLeftRadius:Ps,borderBottomRightRadius:Ps,boxShadow:ER},wb=["TopLeft","TopRight","BottomLeft","BottomRight"],PR=wb.length,Kg=t=>typeof t=="string"?parseFloat(t):t,qg=t=>typeof t=="number"||H.test(t);function kR(t,e,n,r,i,s){i?(t.opacity=ye(0,n.opacity!==void 0?n.opacity:1,CR(r)),t.opacityExit=ye(e.opacity!==void 0?e.opacity:1,0,RR(r))):s&&(t.opacity=ye(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let a=0;a<PR;a++){const o=`border${wb[a]}Radius`;let l=Jg(e,o),u=Jg(n,o);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||qg(l)===qg(u)?(t[o]=Math.max(ye(Kg(l),Kg(u),r),0),(mn.test(u)||mn.test(l))&&(t[o]+="%")):t[o]=u}(e.rotate||n.rotate)&&(t.rotate=ye(e.rotate||0,n.rotate||0,r))}function Jg(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const CR=_b(0,.5,Y_),RR=_b(.5,.95,Ze);function _b(t,e,n){return r=>r<t?0:r>e?1:n(Ta(t,e,r))}function Xg(t,e){t.min=e.min,t.max=e.max}function Tt(t,e){Xg(t.x,e.x),Xg(t.y,e.y)}function Qg(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Yg(t,e,n,r,i){return t-=e,t=jl(t,1/n,r),i!==void 0&&(t=jl(t,1/i,r)),t}function OR(t,e=0,n=1,r=.5,i,s=t,a=t){if(mn.test(e)&&(e=parseFloat(e),e=ye(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=ye(s.min,s.max,r);t===s&&(o-=e),t.min=Yg(t.min,e,n,o,i),t.max=Yg(t.max,e,n,o,i)}function ey(t,e,[n,r,i],s,a){OR(t,e[n],e[r],e[i],e.scale,s,a)}const AR=["x","scaleX","originX"],NR=["y","scaleY","originY"];function ty(t,e,n,r){ey(t.x,e,AR,n?n.x:void 0,r?r.x:void 0),ey(t.y,e,NR,n?n.y:void 0,r?r.y:void 0)}function ny(t){return t.translate===0&&t.scale===1}function bb(t){return ny(t.x)&&ny(t.y)}function IR(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function xb(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function ry(t){return bt(t.x)/bt(t.y)}function iy(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class jR{constructor(){this.members=[]}add(e){Cu(this.members,e),e.scheduleRender()}remove(e){if(Ru(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function LR(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((i||s||a)&&(r=`translate3d(${i}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:c,rotateX:d,rotateY:f,skewX:h,skewY:p}=n;u&&(r=`perspective(${u}px) ${r}`),c&&(r+=`rotate(${c}deg) `),d&&(r+=`rotateX(${d}deg) `),f&&(r+=`rotateY(${f}deg) `),h&&(r+=`skewX(${h}deg) `),p&&(r+=`skewY(${p}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const $R=(t,e)=>t.depth-e.depth;class DR{constructor(){this.children=[],this.isDirty=!1}add(e){Cu(this.children,e),this.isDirty=!0}remove(e){Ru(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort($R),this.isDirty=!1,this.children.forEach(e)}}function MR(t,e){const n=fr.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&($n(r),t(s-e))};return oe.read(r,!0),()=>$n(r)}function FR(t){return t instanceof SVGElement&&t.tagName!=="svg"}function UR(t,e,n){const r=Ge(t)?t:Pa(t);return r.start(fp("",r,e,n)),r.animation}const Lr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Lc=["","X","Y","Z"],VR={visibility:"hidden"},sy=1e3;let BR=0;function $c(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function Eb(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return!1;const{visualElement:e}=t.options;return e?ob(e)?!0:t.parent&&!t.parent.hasCheckedOptimisedAppear?Eb(t.parent):!1:!1}function Sb({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},o=e==null?void 0:e()){this.id=BR++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,window.MotionDebug&&(Lr.totalNodes=Lr.resolvedTargetDeltas=Lr.recalculatedProjection=0),this.nodes.forEach(WR),this.nodes.forEach(JR),this.nodes.forEach(XR),this.nodes.forEach(GR),window.MotionDebug&&window.MotionDebug.record(Lr)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new DR)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new hp),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=FR(a),this.instance=a;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(u||l)&&(this.isLayoutDirty=!0),t){let d;const f=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=MR(f,250),Yo.hasAnimatedSinceResize&&(Yo.hasAnimatedSinceResize=!1,this.nodes.forEach(oy))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeTargetChanged:h,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||c.getDefaultTransition()||nO,{onLayoutAnimationStart:w,onLayoutAnimationComplete:m}=c.getProps(),g=!this.targetLayout||!xb(this.targetLayout,p)||h,y=!f&&h;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||y||f&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,y);const b={...rp(v,"layout"),onPlay:w,onComplete:m};(c.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else f||oy(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,$n(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(QR),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.HandoffCancelAllAnimations&&Eb(this)&&window.HandoffCancelAllAnimations(),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const d=this.path[c];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ay);return}this.isUpdating||this.nodes.forEach(KR),this.isUpdating=!1,this.nodes.forEach(qR),this.nodes.forEach(zR),this.nodes.forEach(HR),this.clearAllSnapshots();const o=fr.now();Me.delta=gr(0,1e3/60,o-Me.timestamp),Me.timestamp=o,Me.isProcessing=!0,Tc.update.process(Me),Tc.preRender.process(Me),Tc.render.process(Me),Me.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Wh.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(ZR),this.sharedNodes.forEach(YR)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,oe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){oe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=be(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&(this.scroll={animationId:this.root.animationId,phase:a,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!bb(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;a&&(o||jr(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),rO(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return be();const o=a.measureViewportBox(),{scroll:l}=this.root;return l&&(Gn(o.x,l.offset.x),Gn(o.y,l.offset.y)),o}removeElementScroll(a){const o=be();Tt(o,a);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:c,options:d}=u;if(u!==this.root&&c&&d.layoutScroll){if(c.isRoot){Tt(o,a);const{scroll:f}=this.root;f&&(Gn(o.x,-f.offset.x),Gn(o.y,-f.offset.y))}Gn(o.x,c.offset.x),Gn(o.y,c.offset.y)}}return o}applyTransform(a,o=!1){const l=be();Tt(l,a);for(let u=0;u<this.path.length;u++){const c=this.path[u];!o&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Ii(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),jr(c.latestValues)&&Ii(l,c.latestValues)}return jr(this.latestValues)&&Ii(l,this.latestValues),l}removeTransform(a){const o=be();Tt(o,a);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!jr(u.latestValues))continue;bf(u.latestValues)&&u.updateSnapshot();const c=be(),d=u.measurePageBox();Tt(c,d),ty(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return jr(this.latestValues)&&ty(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Me.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var o;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=Me.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=be(),this.relativeTargetOrigin=be(),Qs(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),Tt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=be(),this.targetWithTransforms=be()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),aR(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Tt(this.target,this.layout.layoutBox),mb(this.target,this.targetDelta)):Tt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=be(),this.relativeTargetOrigin=be(),Qs(this.relativeTargetOrigin,this.target,h.target),Tt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}window.MotionDebug&&Lr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||bf(this.parent.latestValues)||pb(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Me.timestamp&&(u=!1),u)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;Tt(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;mR(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=be());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Qg(this.prevProjectionDelta.x,this.projectionDelta.x),Qg(this.prevProjectionDelta.y,this.projectionDelta.y)),Xs(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!iy(this.projectionDelta.x,this.prevProjectionDelta.x)||!iy(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),window.MotionDebug&&Lr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),a){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ni(),this.projectionDelta=Ni(),this.projectionDeltaWithTransform=Ni()}setAnimationOrigin(a,o=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},d=Ni();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=be(),h=l?l.source:void 0,p=this.layout?this.layout.source:void 0,v=h!==p,w=this.getStack(),m=!w||w.members.length<=1,g=!!(v&&!m&&this.options.crossfade===!0&&!this.path.some(tO));this.animationProgress=0;let y;this.mixTargetDelta=b=>{const x=b/1e3;ly(d.x,a.x,x),ly(d.y,a.y,x),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Qs(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),eO(this.relativeTarget,this.relativeTargetOrigin,f,x),y&&IR(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=be()),Tt(y,this.relativeTarget)),v&&(this.animationValues=c,kR(c,u,this.latestValues,x,g,m)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=x},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&($n(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=oe.update(()=>{Yo.hasAnimatedSinceResize=!0,this.currentAnimation=UR(0,sy,{...a,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(sy),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:u,latestValues:c}=a;if(!(!o||!l||!u)){if(this!==a&&this.layout&&u&&Tb(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||be();const d=bt(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+d;const f=bt(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+f}Tt(o,l),Ii(o,c),Xs(this.projectionDeltaWithTransform,this.layoutCorrected,o,c)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new jR),this.sharedNodes.get(a).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const u={};l.z&&$c("z",a,u,this.animationValues);for(let c=0;c<Lc.length;c++)$c(`rotate${Lc[c]}`,a,u,this.animationValues),$c(`skew${Lc[c]}`,a,u,this.animationValues);a.render();for(const c in u)a.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);a.scheduleRender()}getProjectionStyles(a){var o,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return VR;const u={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Xo(a==null?void 0:a.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=Xo(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!jr(this.latestValues)&&(v.transform=c?c({},""):"none",this.hasProjected=!1),v}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),u.transform=LR(this.projectionDeltaWithTransform,this.treeScale,f),c&&(u.transform=c(f,u.transform));const{x:h,y:p}=this.projectionDelta;u.transformOrigin=`${h.origin*100}% ${p.origin*100}% 0`,d.animationValues?u.opacity=d===this?(l=(o=f.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const v in Rl){if(f[v]===void 0)continue;const{correct:w,applyTo:m}=Rl[v],g=u.transform==="none"?f[v]:w(f[v],d);if(m){const y=m.length;for(let b=0;b<y;b++)u[m[b]]=g}else u[v]=g}return this.options.layoutId&&(u.pointerEvents=d===this?Xo(a==null?void 0:a.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(ay),this.root.sharedNodes.clear()}}}function zR(t){t.updateLayout()}function HR(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,a=n.source!==t.layout.source;s==="size"?kt(d=>{const f=a?n.measuredBox[d]:n.layoutBox[d],h=bt(f);f.min=r[d].min,f.max=f.min+h}):Tb(s,n.layoutBox,r)&&kt(d=>{const f=a?n.measuredBox[d]:n.layoutBox[d],h=bt(r[d]);f.max=f.min+h,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+h)});const o=Ni();Xs(o,r,n.layoutBox);const l=Ni();a?Xs(l,t.applyTransform(i,!0),n.measuredBox):Xs(l,r,n.layoutBox);const u=!bb(o);let c=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:h}=d;if(f&&h){const p=be();Qs(p,n.layoutBox,f.layoutBox);const v=be();Qs(v,r,h.layoutBox),xb(p,v)||(c=!0),d.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=p,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:o,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function WR(t){window.MotionDebug&&Lr.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function GR(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function ZR(t){t.clearSnapshot()}function ay(t){t.clearMeasurements()}function KR(t){t.isLayoutDirty=!1}function qR(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function oy(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function JR(t){t.resolveTargetDelta()}function XR(t){t.calcProjection()}function QR(t){t.resetSkewAndRotation()}function YR(t){t.removeLeadSnapshot()}function ly(t,e,n){t.translate=ye(e.translate,0,n),t.scale=ye(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function uy(t,e,n,r){t.min=ye(e.min,n.min,r),t.max=ye(e.max,n.max,r)}function eO(t,e,n,r){uy(t.x,e.x,n.x,r),uy(t.y,e.y,n.y,r)}function tO(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const nO={duration:.45,ease:[.4,0,.1,1]},cy=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),dy=cy("applewebkit/")&&!cy("chrome/")?Math.round:Ze;function fy(t){t.min=dy(t.min),t.max=dy(t.max)}function rO(t){fy(t.x),fy(t.y)}function Tb(t,e,n){return t==="position"||t==="preserve-aspect"&&!sR(ry(e),ry(n),.2)}const iO=Sb({attachResizeListener:(t,e)=>Tn(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Dc={current:void 0},Pb=Sb({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Dc.current){const t=new iO({});t.mount(window),t.setOptions({layoutScroll:!0}),Dc.current=t}return Dc.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),sO={pan:{Feature:bR},drag:{Feature:_R,ProjectionNode:Pb,MeasureLayout:vb}},Ef={current:null},kb={current:!1};function aO(){if(kb.current=!0,!!Hh)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ef.current=t.matches;t.addListener(e),e()}else Ef.current=!1}function oO(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Ge(i))t.addValue(r,i);else if(Ge(s))t.addValue(r,Pa(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(r);t.addValue(r,Pa(a!==void 0?a:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const hy=new WeakMap,lO=[...j_,ze,yr],uO=t=>lO.find(I_(t)),py=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],cO=Zh.length;class dO{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},o={}){this.applyWillChange=!1,this.resolveKeyframes=(f,h,p,v)=>new this.KeyframeResolver(f,h,p,v,this),this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ip,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.isRenderScheduled=!1,this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.isRenderScheduled=!1,this.scheduleRender=()=>{this.isRenderScheduled||(this.isRenderScheduled=!0,oe.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!s,this.isControllingVariants=ku(n),this.isVariantNode=l_(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in d){const h=d[f];l[f]!==void 0&&Ge(h)&&h.set(l[f],!1)}}mount(e){this.current=e,hy.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),kb.current||aO(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ef.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){hy.delete(this.current),this.projection&&this.projection.unmount(),$n(this.notifyUpdate),$n(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){const r=kr.has(e),i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&oe.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in es){const n=es[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):be()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<py.length;r++){const i=py[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=e[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=oO(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<cO;r++){const i=Zh[r],s=this.props[i];(xa(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Pa(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(A_(i)||O_(i))?i=parseFloat(i):!uO(i)&&yr.test(n)&&(i=B_(e,n)),this.setBaseTarget(e,Ge(i)?i.get():i)),Ge(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const a=np(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);a&&(i=a[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Ge(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new hp),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class Cb extends dO{constructor(){super(...arguments),this.KeyframeResolver=z_}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}}function fO(t){return window.getComputedStyle(t)}class hO extends Cb{constructor(){super(...arguments),this.type="html",this.applyWillChange=!0,this.renderInstance=y_}readValueFromInstance(e,n){if(kr.has(n)){const r=ap(n);return r&&r.default||0}else{const r=fO(e),i=(f_(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return gb(e,n)}build(e,n,r){Xh(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return tp(e,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ge(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class pO extends Cb{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=be}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(kr.has(n)){const r=ap(n);return r&&r.default||0}return n=v_.has(n)?n:Pu(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return __(e,n,r)}build(e,n,r){Yh(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){w_(e,n,r,i)}mount(e){this.isSVGTag=ep(e.tagName),super.mount(e)}}const mO=(t,e)=>Kh(t)?new pO(e):new hO(e,{allowProjection:t!==E.Fragment}),gO={layout:{ProjectionNode:Pb,MeasureLayout:vb}},yO={...XC,...ok,...sO,...gO},Rb=pP((t,e)=>KP(t,e,yO,mO));function Iu(t,e,n,r){return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(c){s(c)}}function o(u){try{l(r.throw(u))}catch(c){s(c)}}function l(u){var c;u.done?i(u.value):(c=u.value,c instanceof n?c:new n(function(d){d(c)})).then(a,o)}l((r=r.apply(t,[])).next())})}function hr(t,e){var n,r,i,s,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(l){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&c[0]?r.return:c[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,c[1])).done)return i;switch(r=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||c[0]!==6&&c[0]!==2)){a=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){a.label=c[1];break}if(c[0]===6&&a.label<i[1]){a.label=i[1],i=c;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(c);break}i[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(d){c=[6,d],r=0}finally{n=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([l,u])}}}function Sf(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Wt(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),a=[];try{for(;(e===void 0||e-- >0)&&!(r=s.next()).done;)a.push(r.value)}catch(o){i={error:o}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return a}function cn(t,e,n){if(arguments.length===2)for(var r,i=0,s=e.length;i<s;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}function my(t,e,n,r,i){for(var s=[],a=5;a<arguments.length;a++)s[a-5]=arguments[a];return Iu(this,void 0,void 0,function(){var o,l,u,c,d,f;return hr(this,function(h){switch(h.label){case 0:h.trys.push([0,12,13,14]),o=Sf(s),l=o.next(),h.label=1;case 1:if(l.done)return[3,11];switch(u=l.value,typeof u){case"string":return[3,2];case"number":return[3,4];case"function":return[3,6]}return[3,8];case 2:return[4,vO(t,e,u,n,r,i)];case 3:return h.sent(),[3,10];case 4:return[4,Ob(u)];case 5:return h.sent(),[3,10];case 6:return[4,u.apply(void 0,cn([t,e,n,r,i],Wt(s),!1))];case 7:return h.sent(),[3,10];case 8:return[4,u];case 9:h.sent(),h.label=10;case 10:return l=o.next(),[3,1];case 11:return[3,14];case 12:return c=h.sent(),d={error:c},[3,14];case 13:try{l&&!l.done&&(f=o.return)&&f.call(o)}finally{if(d)throw d.error}return[7];case 14:return[2]}})})}function vO(t,e,n,r,i,s){return Iu(this,void 0,void 0,function(){var a,o;return hr(this,function(l){switch(l.label){case 0:return a=t.textContent||"",o=function(u,c){var d=Wt(c).slice(0);return cn(cn([],Wt(u),!1),[NaN],!1).findIndex(function(f,h){return d[h]!==f})}(a,n),[4,wO(t,cn(cn([],Wt(bO(a,e,o)),!1),Wt(_O(n,e,o)),!1),r,i,s)];case 1:return l.sent(),[2]}})})}function Ob(t){return Iu(this,void 0,void 0,function(){return hr(this,function(e){switch(e.label){case 0:return[4,new Promise(function(n){return setTimeout(n,t)})];case 1:return e.sent(),[2]}})})}function wO(t,e,n,r,i){return Iu(this,void 0,void 0,function(){var s,a,o,l,u,c,d,f,h,p,v,w,m;return hr(this,function(g){switch(g.label){case 0:if(s=e,i){for(a=0,o=1;o<e.length;o++)if(l=Wt([e[o-1],e[o]],2),u=l[0],(c=l[1]).length>u.length||c===""){a=o;break}s=e.slice(a,e.length)}g.label=1;case 1:g.trys.push([1,6,7,8]),d=Sf(function(y){var b,x,T,O,k,Z,B;return hr(this,function(ee){switch(ee.label){case 0:b=function(Ae){return hr(this,function(Xe){switch(Xe.label){case 0:return[4,{op:function(j){return requestAnimationFrame(function(){return j.textContent=Ae})},opCode:function(j){var R=j.textContent||"";return Ae===""||R.length>Ae.length?"DELETE":"WRITING"}}];case 1:return Xe.sent(),[2]}})},ee.label=1;case 1:ee.trys.push([1,6,7,8]),x=Sf(y),T=x.next(),ee.label=2;case 2:return T.done?[3,5]:(O=T.value,[5,b(O)]);case 3:ee.sent(),ee.label=4;case 4:return T=x.next(),[3,2];case 5:return[3,8];case 6:return k=ee.sent(),Z={error:k},[3,8];case 7:try{T&&!T.done&&(B=x.return)&&B.call(x)}finally{if(Z)throw Z.error}return[7];case 8:return[2]}})}(s)),f=d.next(),g.label=2;case 2:return f.done?[3,5]:(h=f.value,p=h.opCode(t)==="WRITING"?n+n*(Math.random()-.5):r+r*(Math.random()-.5),h.op(t),[4,Ob(p)]);case 3:g.sent(),g.label=4;case 4:return f=d.next(),[3,2];case 5:return[3,8];case 6:return v=g.sent(),w={error:v},[3,8];case 7:try{f&&!f.done&&(m=d.return)&&m.call(d)}finally{if(w)throw w.error}return[7];case 8:return[2]}})})}function _O(t,e,n){var r,i;return n===void 0&&(n=0),hr(this,function(s){switch(s.label){case 0:r=e(t),i=r.length,s.label=1;case 1:return n<i?[4,r.slice(0,++n).join("")]:[3,3];case 2:return s.sent(),[3,1];case 3:return[2]}})}function bO(t,e,n){var r,i;return n===void 0&&(n=0),hr(this,function(s){switch(s.label){case 0:r=e(t),i=r.length,s.label=1;case 1:return i>n?[4,r.slice(0,--i).join("")]:[3,3];case 2:return s.sent(),[3,1];case 3:return[2]}})}var xO="index-module_type__E-SaG";(function(t,e){e===void 0&&(e={});var n=e.insertAt;if(typeof document<"u"){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}})(`.index-module_type__E-SaG::after {
  content: '|';
  animation: index-module_cursor__PQg0P 1.1s infinite step-start;
}

@keyframes index-module_cursor__PQg0P {
  50% {
    opacity: 0;
  }
}
`);var Ab=E.memo(E.forwardRef(function(t,e){var n=t.sequence,r=t.repeat,i=t.className,s=t.speed,a=s===void 0?40:s,o=t.deletionSpeed,l=t.omitDeletionAnimation,u=l!==void 0&&l,c=t.preRenderFirstString,d=c!==void 0&&c,f=t.wrapper,h=f===void 0?"span":f,p=t.splitter,v=p===void 0?function(P){return cn([],Wt(P),!1)}:p,w=t.cursor,m=w===void 0||w,g=t.style,y=function(P,V){var M={};for(var K in P)Object.prototype.hasOwnProperty.call(P,K)&&V.indexOf(K)<0&&(M[K]=P[K]);if(P!=null&&typeof Object.getOwnPropertySymbols=="function"){var ue=0;for(K=Object.getOwnPropertySymbols(P);ue<K.length;ue++)V.indexOf(K[ue])<0&&Object.prototype.propertyIsEnumerable.call(P,K[ue])&&(M[K[ue]]=P[K[ue]])}return M}(t,["sequence","repeat","className","speed","deletionSpeed","omitDeletionAnimation","preRenderFirstString","wrapper","splitter","cursor","style"]),b=y["aria-label"],x=y["aria-hidden"],T=y.role;o||(o=a);var O=new Array(2).fill(40);[a,o].forEach(function(P,V){switch(typeof P){case"number":O[V]=Math.abs(P-100);break;case"object":var M=P.type,K=P.value;if(typeof K!="number")break;M==="keyStrokeDelayInMs"&&(O[V]=K)}});var k,Z,B,ee,Ae,Xe,j=O[0],R=O[1],D=function(P,V){V===void 0&&(V=null);var M=E.useRef(V);return E.useEffect(function(){P&&(typeof P=="function"?P(M.current):P.current=M.current)},[P]),M}(e),U=xO;k=i?"".concat(m?U+" ":"").concat(i):m?U:"",Z=E.useRef(function(){var P,V=n;r===1/0?P=my:typeof r=="number"&&(V=Array(1+r).fill(n).flat());var M=P?cn(cn([],Wt(V),!1),[P],!1):cn([],Wt(V),!1);return my.apply(void 0,cn([D.current,v,j,R,u],Wt(M),!1)),function(){D.current}}),B=E.useRef(),ee=E.useRef(!1),Ae=E.useRef(!1),Xe=Wt(E.useState(0),2)[1],ee.current&&(Ae.current=!0),E.useEffect(function(){return ee.current||(B.current=Z.current(),ee.current=!0),Xe(function(P){return P+1}),function(){Ae.current&&B.current&&B.current()}},[]);var S=h,C=d?n.find(function(P){return typeof P=="string"})||"":null;return Zt.createElement(S,{"aria-hidden":x,"aria-label":b,role:T,style:g,className:k,children:b?Zt.createElement("span",{"aria-hidden":"true",ref:D,children:C}):C,ref:b?void 0:D})}),function(t,e){return!0});const EO=()=>{document.title="Aayush Regmi | Home";const t="Aayush Regmi",e=()=>({transform:["scale3d(1,1,1)","scale3d(2,.3,1)","scale3d(.75,1.25,1)","scale3d(1.25,.85,1)","scale3d(.9,1.05,1)","scale3d(1,1,1)"],transtion:[0,.4,.6,.7,.8,0]}),n=r=>r.split("").map((s,a)=>{const[o,l]=E.useState(!1);return s===" "?_.jsx("span",{children:" "}):_.jsx(Rb.span,{animate:()=>({...e()}),whileHover:()=>{if(!o)return l(!0),e()},onHoverEnd:()=>{l(!1)},className:`${s===" "?"pr-2":""} text-text-green hover:text-text-yellow`,children:s},a)});return _.jsx(_.Fragment,{children:_.jsx("div",{className:"text-gray-300 bg-default-background/95 relative h-full w-full flex flex-col items-between justify-center px-10 sm:px-16 text-2xl sm:text-3xl lg:text-4xl",children:_.jsxs("div",{children:[_.jsxs("div",{className:"cursor-default",children:["Hey There! ",_.jsx("br",{}),_.jsxs("div",{className:"flex flex-row items-center",children:[_.jsx("span",{children:"I am"})," ",n(t)," "]})]}),_.jsx("div",{className:"text-2xl sm:text-3xl mt-4 lg:mt-8",children:_.jsx(Ab,{className:"text-orange-color",sequence:["Programmer",1e3,"Student",1e3],repeat:1/0,speed:200,wrapper:"span"})}),_.jsxs("div",{className:"flex flex-row gap-5 text-sm mt-6",children:[_.jsx(Pl,{to:"/portfolio/about",className:"text-text-light-blue px-3 sm:px-5 py-1 sm:py-2 lg:py-3 border border-text-light-blue hover:bg-secondary-background/40 duration-300",children:"About Me"}),_.jsx(Pl,{to:"/portfolio/contact",className:"text-text-orange border px-3 sm:px-5 py-1 sm:py-2 lg:py-3 border-text-orange hover:bg-secondary-background/40 duration-300",children:"Contact Me"})]})]})})})},SO=()=>(document.title="Aayush Regmi | About",_.jsx(_.Fragment,{children:_.jsx("div",{className:"p-5 sm:p-10 relative w-full h-full bg-default-background/95 sm:text-2xl text-gray-300",children:_.jsx(Ab,{className:"text-gray-300 cursor-default",sequence:["I write bugs..."],preRenderFirstString:!0,wrapper:"span"})})})),TO=({showTerminal:t})=>{const e=(n,r)=>Array.from({length:r-n+1},(i,s)=>n+s);return _.jsx(_.Fragment,{children:_.jsxs("div",{className:`relative w-full ${t?"h-1/2":"h-full"} bg-default-background/95 text-xs md:text-sm lg:text-base flex flex-row overflow-auto scrollbar`,children:[_.jsx("div",{className:"h-full w-8 bg-default-background border-r border-r-border-color flex flex-col text-right px-2",children:e(1,20).map(n=>_.jsx("div",{children:n},n))}),_.jsxs("div",{className:"pl-2",children:[_.jsx("div",{children:" "}),_.jsxs("div",{children:[_.jsx("span",{className:"text-text-red",children:"void"})," ",_.jsx("span",{className:"text-text-purple",children:"contactInfo"}),_.jsxs("span",{className:"text-text-blue",children:["()","{"]})]}),_.jsxs("div",{className:"pl-10",children:[_.jsx("span",{className:"text-text-orange",children:"std"}),"::",_.jsx("span",{className:"text-text-orange",children:"string"}),_.jsx("span",{children:" github "}),_.jsx("span",{className:"text-text-red",children:" = "}),_.jsx("a",{href:"https://www.github.com/ayushregmi",className:"text-text-light-blue",children:'"ayushregmi"'}),";"]}),_.jsxs("div",{className:"pl-10",children:[_.jsx("span",{className:"text-text-orange",children:"std"}),"::",_.jsx("span",{className:"text-text-orange",children:"string"}),_.jsx("span",{children:" linkedin "}),_.jsx("span",{className:"text-text-red",children:" = "}),_.jsx("a",{href:"https://www.linkedin.com/in/aayush-regmi-9b82651b6/",className:"text-text-light-blue",children:'"Aayush Regmi"'}),";"]}),_.jsxs("div",{className:"pl-10",children:[_.jsx("span",{className:"text-text-orange",children:"std"}),"::",_.jsx("span",{className:"text-text-orange",children:"string"}),_.jsx("span",{children:" email "}),_.jsx("span",{className:"text-text-red",children:" = "}),_.jsx("a",{href:"mailto:aregmi29@gmail.com",className:"text-text-light-blue",children:'"aregmi29@gmail.com"'}),";"]}),_.jsx("div",{children:" "}),_.jsxs("div",{className:"pl-10",children:[_.jsx("span",{className:"text-text-orange",children:"std"}),"::cout",_.jsx("span",{className:"text-text-purple",children:" << "}),"github",_.jsx("span",{className:"text-text-purple",children:" << "}),_.jsx("span",{className:"text-text-orange",children:"std"}),"::",_.jsx("span",{className:"text-text-purple",children:"endl"}),";"]}),_.jsxs("div",{className:"pl-10",children:[_.jsx("span",{className:"text-text-orange",children:"std"}),"::cout",_.jsx("span",{className:"text-text-purple",children:" << "}),"linkedin",_.jsx("span",{className:"text-text-purple",children:" << "}),_.jsx("span",{className:"text-text-orange",children:"std"}),"::",_.jsx("span",{className:"text-text-purple",children:"endl"}),";"]}),_.jsxs("div",{className:"pl-10",children:[_.jsx("span",{className:"text-text-orange",children:"std"}),"::cout",_.jsx("span",{className:"text-text-purple",children:" << "}),"email",_.jsx("span",{className:"text-text-purple",children:" << "}),_.jsx("span",{className:"text-text-orange",children:"std"}),"::",_.jsx("span",{className:"text-text-purple",children:"endl"}),";"]}),_.jsx("div",{className:"text-text-blue",children:"}"}),_.jsx("div",{children:" "}),_.jsxs("div",{children:[_.jsx("span",{className:"text-text-red",children:"int"})," ",_.jsx("span",{className:"text-text-purple",children:"main"}),_.jsxs("span",{className:"text-text-blue",children:["()","{"]})]}),_.jsxs("div",{className:"pl-10",children:[_.jsx("span",{className:"text-text-purple",children:"contactInfo"}),_.jsx("span",{className:"text-text-blue",children:"()"}),";"]}),_.jsx("div",{children:" "}),_.jsxs("div",{className:"pl-10",children:[_.jsx("span",{className:"text-text-red",children:"return "}),_.jsx("span",{className:"text-text-light-blue",children:"0"}),";"]}),_.jsx("div",{className:"text-text-blue",children:"}"})]})]})})},PO=Symbol("Let zodToJsonSchema decide on which parser to use"),kO={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},CO=t=>({...kO,...t}),RO=t=>{const e=CO(t),n=e.name!==void 0?[...e.basePath,e.definitionPath,e.name]:e.basePath;return{...e,currentPath:n,propertyPath:void 0,seen:new Map(Object.entries(e.definitions).map(([r,i])=>[i._def,{def:i._def,path:[...e.basePath,e.definitionPath,r],jsonSchema:void 0}]))}};function Nb(t,e,n,r){r!=null&&r.errorMessages&&n&&(t.errorMessage={...t.errorMessage,[e]:n})}function ae(t,e,n,r,i){t[e]=n,Nb(t,e,r,i)}var Y;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const a of i)s[a]=a;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),a={};for(const o of s)a[o]=i[o];return t.objectValues(a)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&s.push(a);return s},t.find=(i,s)=>{for(const a of i)if(s(a))return a},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(a=>typeof a=="string"?`'${a}'`:a).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Y||(Y={}));var Tf;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Tf||(Tf={}));const $=Y.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Xn=t=>{switch(typeof t){case"undefined":return $.undefined;case"string":return $.string;case"number":return isNaN(t)?$.nan:$.number;case"boolean":return $.boolean;case"function":return $.function;case"bigint":return $.bigint;case"symbol":return $.symbol;case"object":return Array.isArray(t)?$.array:t===null?$.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?$.promise:typeof Map<"u"&&t instanceof Map?$.map:typeof Set<"u"&&t instanceof Set?$.set:typeof Date<"u"&&t instanceof Date?$.date:$.object;default:return $.unknown}},N=Y.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),OO=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class vt extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const a of s.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)r._errors.push(n(a));else{let o=r,l=0;for(;l<a.path.length;){const u=a.path[l];l===a.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(n(a))):o[u]=o[u]||{_errors:[]},o=o[u],l++}}};return i(this),r}static assert(e){if(!(e instanceof vt))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Y.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}vt.create=t=>new vt(t);const ns=(t,e)=>{let n;switch(t.code){case N.invalid_type:t.received===$.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case N.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Y.jsonStringifyReplacer)}`;break;case N.unrecognized_keys:n=`Unrecognized key(s) in object: ${Y.joinValues(t.keys,", ")}`;break;case N.invalid_union:n="Invalid input";break;case N.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Y.joinValues(t.options)}`;break;case N.invalid_enum_value:n=`Invalid enum value. Expected ${Y.joinValues(t.options)}, received '${t.received}'`;break;case N.invalid_arguments:n="Invalid function arguments";break;case N.invalid_return_type:n="Invalid function return type";break;case N.invalid_date:n="Invalid date";break;case N.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Y.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case N.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case N.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case N.custom:n="Invalid input";break;case N.invalid_intersection_types:n="Intersection results could not be merged";break;case N.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case N.not_finite:n="Number must be finite";break;default:n=e.defaultError,Y.assertNever(t)}return{message:n}};let Ib=ns;function AO(t){Ib=t}function Ll(){return Ib}const $l=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],a={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let o="";const l=r.filter(u=>!!u).slice().reverse();for(const u of l)o=u(a,{data:e,defaultError:o}).message;return{...i,path:s,message:o}},NO=[];function L(t,e){const n=Ll(),r=$l({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===ns?void 0:ns].filter(i=>!!i)});t.common.issues.push(r)}class qe{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return W;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const s=await i.key,a=await i.value;r.push({key:s,value:a})}return qe.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:a}=i;if(s.status==="aborted"||a.status==="aborted")return W;s.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof a.value<"u"||i.alwaysSet)&&(r[s.value]=a.value)}return{status:e.value,value:r}}}const W=Object.freeze({status:"aborted"}),ji=t=>({status:"dirty",value:t}),tt=t=>({status:"valid",value:t}),Pf=t=>t.status==="aborted",kf=t=>t.status==="dirty",ka=t=>t.status==="valid",Ca=t=>typeof Promise<"u"&&t instanceof Promise;function Dl(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function jb(t,e,n,r,i){if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var z;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(z||(z={}));var $s,Ds;class yn{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const gy=(t,e)=>{if(ka(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new vt(t.common.issues);return this._error=n,this._error}}};function q(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(a,o)=>{var l,u;const{message:c}=t;return a.code==="invalid_enum_value"?{message:c??o.defaultError}:typeof o.data>"u"?{message:(l=c??r)!==null&&l!==void 0?l:o.defaultError}:a.code!=="invalid_type"?{message:o.defaultError}:{message:(u=c??n)!==null&&u!==void 0?u:o.defaultError}},description:i}}class X{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Xn(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Xn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new qe,ctx:{common:e.parent.common,data:e.data,parsedType:Xn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Ca(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Xn(e)},s=this._parseSync({data:e,path:i.path,parent:i});return gy(i,s)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Xn(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(Ca(i)?i:Promise.resolve(i));return gy(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const a=e(i),o=()=>s.addIssue({code:N.custom,...r(i)});return typeof Promise<"u"&&a instanceof Promise?a.then(l=>l?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new tn({schema:this,typeName:I.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return gn.create(this,this._def)}nullable(){return br.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Jt.create(this,this._def)}promise(){return is.create(this,this._def)}or(e){return Na.create([this,e],this._def)}and(e){return Ia.create(this,e,this._def)}transform(e){return new tn({...q(this._def),schema:this,typeName:I.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Ma({...q(this._def),innerType:this,defaultValue:n,typeName:I.ZodDefault})}brand(){return new pp({typeName:I.ZodBranded,type:this,...q(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Fa({...q(this._def),innerType:this,catchValue:n,typeName:I.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return eo.create(this,e)}readonly(){return Ua.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const IO=/^c[^\s-]{8,}$/i,jO=/^[0-9a-z]+$/,LO=/^[0-9A-HJKMNP-TV-Z]{26}$/,$O=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,DO=/^[a-z0-9_-]{21}$/i,MO=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,FO=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,UO="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Mc;const VO=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,BO=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,zO=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Lb="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",HO=new RegExp(`^${Lb}$`);function $b(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function WO(t){return new RegExp(`^${$b(t)}$`)}function Db(t){let e=`${Lb}T${$b(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function GO(t,e){return!!((e==="v4"||!e)&&VO.test(t)||(e==="v6"||!e)&&BO.test(t))}class Gt extends X{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==$.string){const s=this._getOrReturnCtx(e);return L(s,{code:N.invalid_type,expected:$.string,received:s.parsedType}),W}const r=new qe;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),L(i,{code:N.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),L(i,{code:N.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const a=e.data.length>s.value,o=e.data.length<s.value;(a||o)&&(i=this._getOrReturnCtx(e,i),a?L(i,{code:N.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):o&&L(i,{code:N.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")FO.test(e.data)||(i=this._getOrReturnCtx(e,i),L(i,{validation:"email",code:N.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")Mc||(Mc=new RegExp(UO,"u")),Mc.test(e.data)||(i=this._getOrReturnCtx(e,i),L(i,{validation:"emoji",code:N.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")$O.test(e.data)||(i=this._getOrReturnCtx(e,i),L(i,{validation:"uuid",code:N.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")DO.test(e.data)||(i=this._getOrReturnCtx(e,i),L(i,{validation:"nanoid",code:N.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")IO.test(e.data)||(i=this._getOrReturnCtx(e,i),L(i,{validation:"cuid",code:N.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")jO.test(e.data)||(i=this._getOrReturnCtx(e,i),L(i,{validation:"cuid2",code:N.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")LO.test(e.data)||(i=this._getOrReturnCtx(e,i),L(i,{validation:"ulid",code:N.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),L(i,{validation:"url",code:N.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),L(i,{validation:"regex",code:N.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),L(i,{code:N.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),L(i,{code:N.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),L(i,{code:N.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?Db(s).test(e.data)||(i=this._getOrReturnCtx(e,i),L(i,{code:N.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?HO.test(e.data)||(i=this._getOrReturnCtx(e,i),L(i,{code:N.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?WO(s).test(e.data)||(i=this._getOrReturnCtx(e,i),L(i,{code:N.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?MO.test(e.data)||(i=this._getOrReturnCtx(e,i),L(i,{validation:"duration",code:N.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?GO(e.data,s.version)||(i=this._getOrReturnCtx(e,i),L(i,{validation:"ip",code:N.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?zO.test(e.data)||(i=this._getOrReturnCtx(e,i),L(i,{validation:"base64",code:N.invalid_string,message:s.message}),r.dirty()):Y.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:N.invalid_string,...z.errToObj(r)})}_addCheck(e){return new Gt({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...z.errToObj(e)})}url(e){return this._addCheck({kind:"url",...z.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...z.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...z.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...z.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...z.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...z.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...z.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...z.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...z.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...z.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...z.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...z.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...z.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...z.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...z.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...z.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...z.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...z.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...z.errToObj(n)})}nonempty(e){return this.min(1,z.errToObj(e))}trim(){return new Gt({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Gt({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Gt({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Gt.create=t=>{var e;return new Gt({checks:[],typeName:I.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...q(t)})};function ZO(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=parseInt(t.toFixed(i).replace(".","")),a=parseInt(e.toFixed(i).replace(".",""));return s%a/Math.pow(10,i)}class vr extends X{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==$.number){const s=this._getOrReturnCtx(e);return L(s,{code:N.invalid_type,expected:$.number,received:s.parsedType}),W}let r;const i=new qe;for(const s of this._def.checks)s.kind==="int"?Y.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),L(r,{code:N.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),L(r,{code:N.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),L(r,{code:N.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?ZO(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),L(r,{code:N.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),L(r,{code:N.not_finite,message:s.message}),i.dirty()):Y.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,z.toString(n))}gt(e,n){return this.setLimit("min",e,!1,z.toString(n))}lte(e,n){return this.setLimit("max",e,!0,z.toString(n))}lt(e,n){return this.setLimit("max",e,!1,z.toString(n))}setLimit(e,n,r,i){return new vr({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:z.toString(i)}]})}_addCheck(e){return new vr({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:z.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:z.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:z.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:z.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:z.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:z.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:z.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:z.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:z.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Y.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}vr.create=t=>new vr({checks:[],typeName:I.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...q(t)});class wr extends X{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==$.bigint){const s=this._getOrReturnCtx(e);return L(s,{code:N.invalid_type,expected:$.bigint,received:s.parsedType}),W}let r;const i=new qe;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),L(r,{code:N.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),L(r,{code:N.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),L(r,{code:N.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Y.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,z.toString(n))}gt(e,n){return this.setLimit("min",e,!1,z.toString(n))}lte(e,n){return this.setLimit("max",e,!0,z.toString(n))}lt(e,n){return this.setLimit("max",e,!1,z.toString(n))}setLimit(e,n,r,i){return new wr({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:z.toString(i)}]})}_addCheck(e){return new wr({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:z.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:z.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:z.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:z.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:z.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}wr.create=t=>{var e;return new wr({checks:[],typeName:I.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...q(t)})};class Ra extends X{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==$.boolean){const r=this._getOrReturnCtx(e);return L(r,{code:N.invalid_type,expected:$.boolean,received:r.parsedType}),W}return tt(e.data)}}Ra.create=t=>new Ra({typeName:I.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...q(t)});class ni extends X{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==$.date){const s=this._getOrReturnCtx(e);return L(s,{code:N.invalid_type,expected:$.date,received:s.parsedType}),W}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return L(s,{code:N.invalid_date}),W}const r=new qe;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),L(i,{code:N.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),L(i,{code:N.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):Y.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ni({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:z.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:z.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}ni.create=t=>new ni({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:I.ZodDate,...q(t)});class Ml extends X{_parse(e){if(this._getType(e)!==$.symbol){const r=this._getOrReturnCtx(e);return L(r,{code:N.invalid_type,expected:$.symbol,received:r.parsedType}),W}return tt(e.data)}}Ml.create=t=>new Ml({typeName:I.ZodSymbol,...q(t)});class Oa extends X{_parse(e){if(this._getType(e)!==$.undefined){const r=this._getOrReturnCtx(e);return L(r,{code:N.invalid_type,expected:$.undefined,received:r.parsedType}),W}return tt(e.data)}}Oa.create=t=>new Oa({typeName:I.ZodUndefined,...q(t)});class Aa extends X{_parse(e){if(this._getType(e)!==$.null){const r=this._getOrReturnCtx(e);return L(r,{code:N.invalid_type,expected:$.null,received:r.parsedType}),W}return tt(e.data)}}Aa.create=t=>new Aa({typeName:I.ZodNull,...q(t)});class rs extends X{constructor(){super(...arguments),this._any=!0}_parse(e){return tt(e.data)}}rs.create=t=>new rs({typeName:I.ZodAny,...q(t)});class Zr extends X{constructor(){super(...arguments),this._unknown=!0}_parse(e){return tt(e.data)}}Zr.create=t=>new Zr({typeName:I.ZodUnknown,...q(t)});class Dn extends X{_parse(e){const n=this._getOrReturnCtx(e);return L(n,{code:N.invalid_type,expected:$.never,received:n.parsedType}),W}}Dn.create=t=>new Dn({typeName:I.ZodNever,...q(t)});class Fl extends X{_parse(e){if(this._getType(e)!==$.undefined){const r=this._getOrReturnCtx(e);return L(r,{code:N.invalid_type,expected:$.void,received:r.parsedType}),W}return tt(e.data)}}Fl.create=t=>new Fl({typeName:I.ZodVoid,...q(t)});class Jt extends X{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==$.array)return L(n,{code:N.invalid_type,expected:$.array,received:n.parsedType}),W;if(i.exactLength!==null){const a=n.data.length>i.exactLength.value,o=n.data.length<i.exactLength.value;(a||o)&&(L(n,{code:a?N.too_big:N.too_small,minimum:o?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(L(n,{code:N.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(L(n,{code:N.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((a,o)=>i.type._parseAsync(new yn(n,a,n.path,o)))).then(a=>qe.mergeArray(r,a));const s=[...n.data].map((a,o)=>i.type._parseSync(new yn(n,a,n.path,o)));return qe.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new Jt({...this._def,minLength:{value:e,message:z.toString(n)}})}max(e,n){return new Jt({...this._def,maxLength:{value:e,message:z.toString(n)}})}length(e,n){return new Jt({...this._def,exactLength:{value:e,message:z.toString(n)}})}nonempty(e){return this.min(1,e)}}Jt.create=(t,e)=>new Jt({type:t,minLength:null,maxLength:null,exactLength:null,typeName:I.ZodArray,...q(e)});function gi(t){if(t instanceof me){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=gn.create(gi(r))}return new me({...t._def,shape:()=>e})}else return t instanceof Jt?new Jt({...t._def,type:gi(t.element)}):t instanceof gn?gn.create(gi(t.unwrap())):t instanceof br?br.create(gi(t.unwrap())):t instanceof vn?vn.create(t.items.map(e=>gi(e))):t}class me extends X{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Y.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==$.object){const u=this._getOrReturnCtx(e);return L(u,{code:N.invalid_type,expected:$.object,received:u.parsedType}),W}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof Dn&&this._def.unknownKeys==="strip"))for(const u in i.data)a.includes(u)||o.push(u);const l=[];for(const u of a){const c=s[u],d=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new yn(i,d,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof Dn){const u=this._def.unknownKeys;if(u==="passthrough")for(const c of o)l.push({key:{status:"valid",value:c},value:{status:"valid",value:i.data[c]}});else if(u==="strict")o.length>0&&(L(i,{code:N.unrecognized_keys,keys:o}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const c of o){const d=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new yn(i,d,i.path,c)),alwaysSet:c in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const c of l){const d=await c.key,f=await c.value;u.push({key:d,value:f,alwaysSet:c.alwaysSet})}return u}).then(u=>qe.mergeObjectSync(r,u)):qe.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return z.errToObj,new me({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,s,a,o;const l=(a=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,n,r).message)!==null&&a!==void 0?a:r.defaultError;return n.code==="unrecognized_keys"?{message:(o=z.errToObj(e).message)!==null&&o!==void 0?o:l}:{message:l}}}:{}})}strip(){return new me({...this._def,unknownKeys:"strip"})}passthrough(){return new me({...this._def,unknownKeys:"passthrough"})}extend(e){return new me({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new me({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:I.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new me({...this._def,catchall:e})}pick(e){const n={};return Y.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new me({...this._def,shape:()=>n})}omit(e){const n={};return Y.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new me({...this._def,shape:()=>n})}deepPartial(){return gi(this)}partial(e){const n={};return Y.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new me({...this._def,shape:()=>n})}required(e){const n={};return Y.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof gn;)s=s._def.innerType;n[r]=s}}),new me({...this._def,shape:()=>n})}keyof(){return Mb(Y.objectKeys(this.shape))}}me.create=(t,e)=>new me({shape:()=>t,unknownKeys:"strip",catchall:Dn.create(),typeName:I.ZodObject,...q(e)});me.strictCreate=(t,e)=>new me({shape:()=>t,unknownKeys:"strict",catchall:Dn.create(),typeName:I.ZodObject,...q(e)});me.lazycreate=(t,e)=>new me({shape:t,unknownKeys:"strip",catchall:Dn.create(),typeName:I.ZodObject,...q(e)});class Na extends X{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const o of s)if(o.result.status==="valid")return o.result;for(const o of s)if(o.result.status==="dirty")return n.common.issues.push(...o.ctx.common.issues),o.result;const a=s.map(o=>new vt(o.ctx.common.issues));return L(n,{code:N.invalid_union,unionErrors:a}),W}if(n.common.async)return Promise.all(r.map(async s=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(i);{let s;const a=[];for(const l of r){const u={...n,common:{...n.common,issues:[]},parent:null},c=l._parseSync({data:n.data,path:n.path,parent:u});if(c.status==="valid")return c;c.status==="dirty"&&!s&&(s={result:c,ctx:u}),u.common.issues.length&&a.push(u.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const o=a.map(l=>new vt(l));return L(n,{code:N.invalid_union,unionErrors:o}),W}}get options(){return this._def.options}}Na.create=(t,e)=>new Na({options:t,typeName:I.ZodUnion,...q(e)});const _n=t=>t instanceof La?_n(t.schema):t instanceof tn?_n(t.innerType()):t instanceof $a?[t.value]:t instanceof _r?t.options:t instanceof Da?Y.objectValues(t.enum):t instanceof Ma?_n(t._def.innerType):t instanceof Oa?[void 0]:t instanceof Aa?[null]:t instanceof gn?[void 0,..._n(t.unwrap())]:t instanceof br?[null,..._n(t.unwrap())]:t instanceof pp||t instanceof Ua?_n(t.unwrap()):t instanceof Fa?_n(t._def.innerType):[];class ju extends X{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==$.object)return L(n,{code:N.invalid_type,expected:$.object,received:n.parsedType}),W;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(L(n,{code:N.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),W)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const s of n){const a=_n(s.shape[e]);if(!a.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of a){if(i.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);i.set(o,s)}}return new ju({typeName:I.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...q(r)})}}function Cf(t,e){const n=Xn(t),r=Xn(e);if(t===e)return{valid:!0,data:t};if(n===$.object&&r===$.object){const i=Y.objectKeys(e),s=Y.objectKeys(t).filter(o=>i.indexOf(o)!==-1),a={...t,...e};for(const o of s){const l=Cf(t[o],e[o]);if(!l.valid)return{valid:!1};a[o]=l.data}return{valid:!0,data:a}}else if(n===$.array&&r===$.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const a=t[s],o=e[s],l=Cf(a,o);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===$.date&&r===$.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Ia extends X{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,a)=>{if(Pf(s)||Pf(a))return W;const o=Cf(s.value,a.value);return o.valid?((kf(s)||kf(a))&&n.dirty(),{status:n.value,value:o.data}):(L(r,{code:N.invalid_intersection_types}),W)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,a])=>i(s,a)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Ia.create=(t,e,n)=>new Ia({left:t,right:e,typeName:I.ZodIntersection,...q(n)});class vn extends X{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==$.array)return L(r,{code:N.invalid_type,expected:$.array,received:r.parsedType}),W;if(r.data.length<this._def.items.length)return L(r,{code:N.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),W;!this._def.rest&&r.data.length>this._def.items.length&&(L(r,{code:N.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((a,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new yn(r,a,r.path,o)):null}).filter(a=>!!a);return r.common.async?Promise.all(s).then(a=>qe.mergeArray(n,a)):qe.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new vn({...this._def,rest:e})}}vn.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new vn({items:t,typeName:I.ZodTuple,rest:null,...q(e)})};class ja extends X{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==$.object)return L(r,{code:N.invalid_type,expected:$.object,received:r.parsedType}),W;const i=[],s=this._def.keyType,a=this._def.valueType;for(const o in r.data)i.push({key:s._parse(new yn(r,o,r.path,o)),value:a._parse(new yn(r,r.data[o],r.path,o)),alwaysSet:o in r.data});return r.common.async?qe.mergeObjectAsync(n,i):qe.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof X?new ja({keyType:e,valueType:n,typeName:I.ZodRecord,...q(r)}):new ja({keyType:Gt.create(),valueType:e,typeName:I.ZodRecord,...q(n)})}}class Ul extends X{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==$.map)return L(r,{code:N.invalid_type,expected:$.map,received:r.parsedType}),W;const i=this._def.keyType,s=this._def.valueType,a=[...r.data.entries()].map(([o,l],u)=>({key:i._parse(new yn(r,o,r.path,[u,"key"])),value:s._parse(new yn(r,l,r.path,[u,"value"]))}));if(r.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of a){const u=await l.key,c=await l.value;if(u.status==="aborted"||c.status==="aborted")return W;(u.status==="dirty"||c.status==="dirty")&&n.dirty(),o.set(u.value,c.value)}return{status:n.value,value:o}})}else{const o=new Map;for(const l of a){const u=l.key,c=l.value;if(u.status==="aborted"||c.status==="aborted")return W;(u.status==="dirty"||c.status==="dirty")&&n.dirty(),o.set(u.value,c.value)}return{status:n.value,value:o}}}}Ul.create=(t,e,n)=>new Ul({valueType:e,keyType:t,typeName:I.ZodMap,...q(n)});class ri extends X{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==$.set)return L(r,{code:N.invalid_type,expected:$.set,received:r.parsedType}),W;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(L(r,{code:N.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(L(r,{code:N.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function a(l){const u=new Set;for(const c of l){if(c.status==="aborted")return W;c.status==="dirty"&&n.dirty(),u.add(c.value)}return{status:n.value,value:u}}const o=[...r.data.values()].map((l,u)=>s._parse(new yn(r,l,r.path,u)));return r.common.async?Promise.all(o).then(l=>a(l)):a(o)}min(e,n){return new ri({...this._def,minSize:{value:e,message:z.toString(n)}})}max(e,n){return new ri({...this._def,maxSize:{value:e,message:z.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}ri.create=(t,e)=>new ri({valueType:t,minSize:null,maxSize:null,typeName:I.ZodSet,...q(e)});class Hi extends X{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==$.function)return L(n,{code:N.invalid_type,expected:$.function,received:n.parsedType}),W;function r(o,l){return $l({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Ll(),ns].filter(u=>!!u),issueData:{code:N.invalid_arguments,argumentsError:l}})}function i(o,l){return $l({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Ll(),ns].filter(u=>!!u),issueData:{code:N.invalid_return_type,returnTypeError:l}})}const s={errorMap:n.common.contextualErrorMap},a=n.data;if(this._def.returns instanceof is){const o=this;return tt(async function(...l){const u=new vt([]),c=await o._def.args.parseAsync(l,s).catch(h=>{throw u.addIssue(r(l,h)),u}),d=await Reflect.apply(a,this,c);return await o._def.returns._def.type.parseAsync(d,s).catch(h=>{throw u.addIssue(i(d,h)),u})})}else{const o=this;return tt(function(...l){const u=o._def.args.safeParse(l,s);if(!u.success)throw new vt([r(l,u.error)]);const c=Reflect.apply(a,this,u.data),d=o._def.returns.safeParse(c,s);if(!d.success)throw new vt([i(c,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Hi({...this._def,args:vn.create(e).rest(Zr.create())})}returns(e){return new Hi({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Hi({args:e||vn.create([]).rest(Zr.create()),returns:n||Zr.create(),typeName:I.ZodFunction,...q(r)})}}class La extends X{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}La.create=(t,e)=>new La({getter:t,typeName:I.ZodLazy,...q(e)});class $a extends X{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return L(n,{received:n.data,code:N.invalid_literal,expected:this._def.value}),W}return{status:"valid",value:e.data}}get value(){return this._def.value}}$a.create=(t,e)=>new $a({value:t,typeName:I.ZodLiteral,...q(e)});function Mb(t,e){return new _r({values:t,typeName:I.ZodEnum,...q(e)})}class _r extends X{constructor(){super(...arguments),$s.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return L(n,{expected:Y.joinValues(r),received:n.parsedType,code:N.invalid_type}),W}if(Dl(this,$s)||jb(this,$s,new Set(this._def.values)),!Dl(this,$s).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return L(n,{received:n.data,code:N.invalid_enum_value,options:r}),W}return tt(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return _r.create(e,{...this._def,...n})}exclude(e,n=this._def){return _r.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}$s=new WeakMap;_r.create=Mb;class Da extends X{constructor(){super(...arguments),Ds.set(this,void 0)}_parse(e){const n=Y.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==$.string&&r.parsedType!==$.number){const i=Y.objectValues(n);return L(r,{expected:Y.joinValues(i),received:r.parsedType,code:N.invalid_type}),W}if(Dl(this,Ds)||jb(this,Ds,new Set(Y.getValidEnumValues(this._def.values))),!Dl(this,Ds).has(e.data)){const i=Y.objectValues(n);return L(r,{received:r.data,code:N.invalid_enum_value,options:i}),W}return tt(e.data)}get enum(){return this._def.values}}Ds=new WeakMap;Da.create=(t,e)=>new Da({values:t,typeName:I.ZodNativeEnum,...q(e)});class is extends X{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==$.promise&&n.common.async===!1)return L(n,{code:N.invalid_type,expected:$.promise,received:n.parsedType}),W;const r=n.parsedType===$.promise?n.data:Promise.resolve(n.data);return tt(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}is.create=(t,e)=>new is({type:t,typeName:I.ZodPromise,...q(e)});class tn extends X{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===I.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:a=>{L(r,a),a.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const a=i.transform(r.data,s);if(r.common.async)return Promise.resolve(a).then(async o=>{if(n.value==="aborted")return W;const l=await this._def.schema._parseAsync({data:o,path:r.path,parent:r});return l.status==="aborted"?W:l.status==="dirty"||n.value==="dirty"?ji(l.value):l});{if(n.value==="aborted")return W;const o=this._def.schema._parseSync({data:a,path:r.path,parent:r});return o.status==="aborted"?W:o.status==="dirty"||n.value==="dirty"?ji(o.value):o}}if(i.type==="refinement"){const a=o=>{const l=i.refinement(o,s);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?W:(o.status==="dirty"&&n.dirty(),a(o.value),{status:n.value,value:o.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o.status==="aborted"?W:(o.status==="dirty"&&n.dirty(),a(o.value).then(()=>({status:n.value,value:o.value}))))}if(i.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!ka(a))return a;const o=i.transform(a.value,s);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:o}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>ka(a)?Promise.resolve(i.transform(a.value,s)).then(o=>({status:n.value,value:o})):a);Y.assertNever(i)}}tn.create=(t,e,n)=>new tn({schema:t,typeName:I.ZodEffects,effect:e,...q(n)});tn.createWithPreprocess=(t,e,n)=>new tn({schema:e,effect:{type:"preprocess",transform:t},typeName:I.ZodEffects,...q(n)});class gn extends X{_parse(e){return this._getType(e)===$.undefined?tt(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}gn.create=(t,e)=>new gn({innerType:t,typeName:I.ZodOptional,...q(e)});class br extends X{_parse(e){return this._getType(e)===$.null?tt(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}br.create=(t,e)=>new br({innerType:t,typeName:I.ZodNullable,...q(e)});class Ma extends X{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===$.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Ma.create=(t,e)=>new Ma({innerType:t,typeName:I.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...q(e)});class Fa extends X{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Ca(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new vt(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new vt(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Fa.create=(t,e)=>new Fa({innerType:t,typeName:I.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...q(e)});class Vl extends X{_parse(e){if(this._getType(e)!==$.nan){const r=this._getOrReturnCtx(e);return L(r,{code:N.invalid_type,expected:$.nan,received:r.parsedType}),W}return{status:"valid",value:e.data}}}Vl.create=t=>new Vl({typeName:I.ZodNaN,...q(t)});const KO=Symbol("zod_brand");class pp extends X{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class eo extends X{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?W:s.status==="dirty"?(n.dirty(),ji(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?W:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new eo({in:e,out:n,typeName:I.ZodPipeline})}}class Ua extends X{_parse(e){const n=this._def.innerType._parse(e),r=i=>(ka(i)&&(i.value=Object.freeze(i.value)),i);return Ca(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}Ua.create=(t,e)=>new Ua({innerType:t,typeName:I.ZodReadonly,...q(e)});function Fb(t,e={},n){return t?rs.create().superRefine((r,i)=>{var s,a;if(!t(r)){const o=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,l=(a=(s=o.fatal)!==null&&s!==void 0?s:n)!==null&&a!==void 0?a:!0,u=typeof o=="string"?{message:o}:o;i.addIssue({code:"custom",...u,fatal:l})}}):rs.create()}const qO={object:me.lazycreate};var I;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(I||(I={}));const JO=(t,e={message:`Input not instance of ${t.name}`})=>Fb(n=>n instanceof t,e),Ub=Gt.create,Vb=vr.create,XO=Vl.create,QO=wr.create,Bb=Ra.create,YO=ni.create,eA=Ml.create,tA=Oa.create,nA=Aa.create,rA=rs.create,iA=Zr.create,sA=Dn.create,aA=Fl.create,oA=Jt.create,lA=me.create,uA=me.strictCreate,cA=Na.create,dA=ju.create,fA=Ia.create,hA=vn.create,pA=ja.create,mA=Ul.create,gA=ri.create,yA=Hi.create,vA=La.create,wA=$a.create,_A=_r.create,bA=Da.create,xA=is.create,yy=tn.create,EA=gn.create,SA=br.create,TA=tn.createWithPreprocess,PA=eo.create,kA=()=>Ub().optional(),CA=()=>Vb().optional(),RA=()=>Bb().optional(),OA={string:t=>Gt.create({...t,coerce:!0}),number:t=>vr.create({...t,coerce:!0}),boolean:t=>Ra.create({...t,coerce:!0}),bigint:t=>wr.create({...t,coerce:!0}),date:t=>ni.create({...t,coerce:!0})},AA=W;var Kr=Object.freeze({__proto__:null,defaultErrorMap:ns,setErrorMap:AO,getErrorMap:Ll,makeIssue:$l,EMPTY_PATH:NO,addIssueToContext:L,ParseStatus:qe,INVALID:W,DIRTY:ji,OK:tt,isAborted:Pf,isDirty:kf,isValid:ka,isAsync:Ca,get util(){return Y},get objectUtil(){return Tf},ZodParsedType:$,getParsedType:Xn,ZodType:X,datetimeRegex:Db,ZodString:Gt,ZodNumber:vr,ZodBigInt:wr,ZodBoolean:Ra,ZodDate:ni,ZodSymbol:Ml,ZodUndefined:Oa,ZodNull:Aa,ZodAny:rs,ZodUnknown:Zr,ZodNever:Dn,ZodVoid:Fl,ZodArray:Jt,ZodObject:me,ZodUnion:Na,ZodDiscriminatedUnion:ju,ZodIntersection:Ia,ZodTuple:vn,ZodRecord:ja,ZodMap:Ul,ZodSet:ri,ZodFunction:Hi,ZodLazy:La,ZodLiteral:$a,ZodEnum:_r,ZodNativeEnum:Da,ZodPromise:is,ZodEffects:tn,ZodTransformer:tn,ZodOptional:gn,ZodNullable:br,ZodDefault:Ma,ZodCatch:Fa,ZodNaN:Vl,BRAND:KO,ZodBranded:pp,ZodPipeline:eo,ZodReadonly:Ua,custom:Fb,Schema:X,ZodSchema:X,late:qO,get ZodFirstPartyTypeKind(){return I},coerce:OA,any:rA,array:oA,bigint:QO,boolean:Bb,date:YO,discriminatedUnion:dA,effect:yy,enum:_A,function:yA,instanceof:JO,intersection:fA,lazy:vA,literal:wA,map:mA,nan:XO,nativeEnum:bA,never:sA,null:nA,nullable:SA,number:Vb,object:lA,oboolean:RA,onumber:CA,optional:EA,ostring:kA,pipeline:PA,preprocess:TA,promise:xA,record:pA,set:gA,strictObject:uA,string:Ub,symbol:eA,transformer:yy,tuple:hA,undefined:tA,union:cA,unknown:iA,void:aA,NEVER:AA,ZodIssueCode:N,quotelessJson:OO,ZodError:vt});function NA(){return{}}function IA(t,e){var r,i;const n={type:"array"};return((i=(r=t.type)==null?void 0:r._def)==null?void 0:i.typeName)!==I.ZodAny&&(n.items=re(t.type._def,{...e,currentPath:[...e.currentPath,"items"]})),t.minLength&&ae(n,"minItems",t.minLength.value,t.minLength.message,e),t.maxLength&&ae(n,"maxItems",t.maxLength.value,t.maxLength.message,e),t.exactLength&&(ae(n,"minItems",t.exactLength.value,t.exactLength.message,e),ae(n,"maxItems",t.exactLength.value,t.exactLength.message,e)),n}function jA(t,e){const n={type:"integer",format:"int64"};if(!t.checks)return n;for(const r of t.checks)switch(r.kind){case"min":e.target==="jsonSchema7"?r.inclusive?ae(n,"minimum",r.value,r.message,e):ae(n,"exclusiveMinimum",r.value,r.message,e):(r.inclusive||(n.exclusiveMinimum=!0),ae(n,"minimum",r.value,r.message,e));break;case"max":e.target==="jsonSchema7"?r.inclusive?ae(n,"maximum",r.value,r.message,e):ae(n,"exclusiveMaximum",r.value,r.message,e):(r.inclusive||(n.exclusiveMaximum=!0),ae(n,"maximum",r.value,r.message,e));break;case"multipleOf":ae(n,"multipleOf",r.value,r.message,e);break}return n}function LA(){return{type:"boolean"}}function $A(t,e){return re(t.type._def,e)}const DA=(t,e)=>re(t.innerType._def,e);function zb(t,e,n){const r=n??e.dateStrategy;if(Array.isArray(r))return{anyOf:r.map((i,s)=>zb(t,e,i))};switch(r){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return MA(t,e)}}const MA=(t,e)=>{const n={type:"integer",format:"unix-time"};if(e.target==="openApi3")return n;for(const r of t.checks)switch(r.kind){case"min":ae(n,"minimum",r.value,r.message,e);break;case"max":ae(n,"maximum",r.value,r.message,e);break}return n};function FA(t,e){return{...re(t.innerType._def,e),default:t.defaultValue()}}function UA(t,e){return e.effectStrategy==="input"?re(t.schema._def,e):{}}function VA(t){return{type:"string",enum:t.values}}const BA=t=>"type"in t&&t.type==="string"?!1:"allOf"in t;function zA(t,e){const n=[re(t.left._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),re(t.right._def,{...e,currentPath:[...e.currentPath,"allOf","1"]})].filter(s=>!!s);let r=e.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0;const i=[];return n.forEach(s=>{if(BA(s))i.push(...s.allOf),s.unevaluatedProperties===void 0&&(r=void 0);else{let a=s;if("additionalProperties"in s&&s.additionalProperties===!1){const{additionalProperties:o,...l}=s;a=l}else r=void 0;i.push(a)}}),i.length?{allOf:i,...r}:void 0}function HA(t,e){const n=typeof t.value;return n!=="bigint"&&n!=="number"&&n!=="boolean"&&n!=="string"?{type:Array.isArray(t.value)?"array":"object"}:e.target==="openApi3"?{type:n==="bigint"?"integer":n,enum:[t.value]}:{type:n==="bigint"?"integer":n,const:t.value}}let Fc;const Ar={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(Fc===void 0&&(Fc=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Fc),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/};function Hb(t,e){const n={type:"string"};function r(i){return e.patternStrategy==="escape"?WA(i):i}if(t.checks)for(const i of t.checks)switch(i.kind){case"min":ae(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,i.value):i.value,i.message,e);break;case"max":ae(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,i.value):i.value,i.message,e);break;case"email":switch(e.emailStrategy){case"format:email":Ft(n,"email",i.message,e);break;case"format:idn-email":Ft(n,"idn-email",i.message,e);break;case"pattern:zod":Ut(n,Ar.email,i.message,e);break}break;case"url":Ft(n,"uri",i.message,e);break;case"uuid":Ft(n,"uuid",i.message,e);break;case"regex":Ut(n,i.regex,i.message,e);break;case"cuid":Ut(n,Ar.cuid,i.message,e);break;case"cuid2":Ut(n,Ar.cuid2,i.message,e);break;case"startsWith":Ut(n,RegExp(`^${r(i.value)}`),i.message,e);break;case"endsWith":Ut(n,RegExp(`${r(i.value)}$`),i.message,e);break;case"datetime":Ft(n,"date-time",i.message,e);break;case"date":Ft(n,"date",i.message,e);break;case"time":Ft(n,"time",i.message,e);break;case"duration":Ft(n,"duration",i.message,e);break;case"length":ae(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,i.value):i.value,i.message,e),ae(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,i.value):i.value,i.message,e);break;case"includes":{Ut(n,RegExp(r(i.value)),i.message,e);break}case"ip":{i.version!=="v6"&&Ft(n,"ipv4",i.message,e),i.version!=="v4"&&Ft(n,"ipv6",i.message,e);break}case"emoji":Ut(n,Ar.emoji,i.message,e);break;case"ulid":{Ut(n,Ar.ulid,i.message,e);break}case"base64":{switch(e.base64Strategy){case"format:binary":{Ft(n,"binary",i.message,e);break}case"contentEncoding:base64":{ae(n,"contentEncoding","base64",i.message,e);break}case"pattern:zod":{Ut(n,Ar.base64,i.message,e);break}}break}case"nanoid":Ut(n,Ar.nanoid,i.message,e)}return n}const WA=t=>Array.from(t).map(e=>/[a-zA-Z0-9]/.test(e)?e:`\\${e}`).join(""),Ft=(t,e,n,r)=>{var i;t.format||(i=t.anyOf)!=null&&i.some(s=>s.format)?(t.anyOf||(t.anyOf=[]),t.format&&(t.anyOf.push({format:t.format,...t.errorMessage&&r.errorMessages&&{errorMessage:{format:t.errorMessage.format}}}),delete t.format,t.errorMessage&&(delete t.errorMessage.format,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.anyOf.push({format:e,...n&&r.errorMessages&&{errorMessage:{format:n}}})):ae(t,"format",e,n,r)},Ut=(t,e,n,r)=>{var i;t.pattern||(i=t.allOf)!=null&&i.some(s=>s.pattern)?(t.allOf||(t.allOf=[]),t.pattern&&(t.allOf.push({pattern:t.pattern,...t.errorMessage&&r.errorMessages&&{errorMessage:{pattern:t.errorMessage.pattern}}}),delete t.pattern,t.errorMessage&&(delete t.errorMessage.pattern,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.allOf.push({pattern:vy(e,r),...n&&r.errorMessages&&{errorMessage:{pattern:n}}})):ae(t,"pattern",vy(e,r),n,r)},vy=(t,e)=>{var u;const n=typeof t=="function"?t():t;if(!e.applyRegexFlags||!n.flags)return n.source;const r={i:n.flags.includes("i"),m:n.flags.includes("m"),s:n.flags.includes("s")},i=r.i?n.source.toLowerCase():n.source;let s="",a=!1,o=!1,l=!1;for(let c=0;c<i.length;c++){if(a){s+=i[c],a=!1;continue}if(r.i){if(o){if(i[c].match(/[a-z]/)){l?(s+=i[c],s+=`${i[c-2]}-${i[c]}`.toUpperCase(),l=!1):i[c+1]==="-"&&((u=i[c+2])!=null&&u.match(/[a-z]/))?(s+=i[c],l=!0):s+=`${i[c]}${i[c].toUpperCase()}`;continue}}else if(i[c].match(/[a-z]/)){s+=`[${i[c]}${i[c].toUpperCase()}]`;continue}}if(r.m){if(i[c]==="^"){s+=`(^|(?<=[\r
]))`;continue}else if(i[c]==="$"){s+=`($|(?=[\r
]))`;continue}}if(r.s&&i[c]==="."){s+=o?`${i[c]}\r
`:`[${i[c]}\r
]`;continue}s+=i[c],i[c]==="\\"?a=!0:o&&i[c]==="]"?o=!1:!o&&i[c]==="["&&(o=!0)}try{const c=new RegExp(s)}catch{return console.warn(`Could not convert regex pattern at ${e.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),n.source}return s};function Wb(t,e){var r,i,s,a;if(e.target==="openApi3"&&((r=t.keyType)==null?void 0:r._def.typeName)===I.ZodEnum)return{type:"object",required:t.keyType._def.values,properties:t.keyType._def.values.reduce((o,l)=>({...o,[l]:re(t.valueType._def,{...e,currentPath:[...e.currentPath,"properties",l]})??{}}),{}),additionalProperties:!1};const n={type:"object",additionalProperties:re(t.valueType._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??{}};if(e.target==="openApi3")return n;if(((i=t.keyType)==null?void 0:i._def.typeName)===I.ZodString&&((s=t.keyType._def.checks)!=null&&s.length)){const o=Object.entries(Hb(t.keyType._def,e)).reduce((l,[u,c])=>u==="type"?l:{...l,[u]:c},{});return{...n,propertyNames:o}}else if(((a=t.keyType)==null?void 0:a._def.typeName)===I.ZodEnum)return{...n,propertyNames:{enum:t.keyType._def.values}};return n}function GA(t,e){if(e.mapStrategy==="record")return Wb(t,e);const n=re(t.keyType._def,{...e,currentPath:[...e.currentPath,"items","items","0"]})||{},r=re(t.valueType._def,{...e,currentPath:[...e.currentPath,"items","items","1"]})||{};return{type:"array",maxItems:125,items:{type:"array",items:[n,r],minItems:2,maxItems:2}}}function ZA(t){const e=t.values,r=Object.keys(t.values).filter(s=>typeof e[e[s]]!="number").map(s=>e[s]),i=Array.from(new Set(r.map(s=>typeof s)));return{type:i.length===1?i[0]==="string"?"string":"number":["string","number"],enum:r}}function KA(){return{not:{}}}function qA(t){return t.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}const Bl={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function JA(t,e){if(e.target==="openApi3")return wy(t,e);const n=t.options instanceof Map?Array.from(t.options.values()):t.options;if(n.every(r=>r._def.typeName in Bl&&(!r._def.checks||!r._def.checks.length))){const r=n.reduce((i,s)=>{const a=Bl[s._def.typeName];return a&&!i.includes(a)?[...i,a]:i},[]);return{type:r.length>1?r:r[0]}}else if(n.every(r=>r._def.typeName==="ZodLiteral"&&!r.description)){const r=n.reduce((i,s)=>{const a=typeof s._def.value;switch(a){case"string":case"number":case"boolean":return[...i,a];case"bigint":return[...i,"integer"];case"object":if(s._def.value===null)return[...i,"null"];case"symbol":case"undefined":case"function":default:return i}},[]);if(r.length===n.length){const i=r.filter((s,a,o)=>o.indexOf(s)===a);return{type:i.length>1?i:i[0],enum:n.reduce((s,a)=>s.includes(a._def.value)?s:[...s,a._def.value],[])}}}else if(n.every(r=>r._def.typeName==="ZodEnum"))return{type:"string",enum:n.reduce((r,i)=>[...r,...i._def.values.filter(s=>!r.includes(s))],[])};return wy(t,e)}const wy=(t,e)=>{const n=(t.options instanceof Map?Array.from(t.options.values()):t.options).map((r,i)=>re(r._def,{...e,currentPath:[...e.currentPath,"anyOf",`${i}`]})).filter(r=>!!r&&(!e.strictUnions||typeof r=="object"&&Object.keys(r).length>0));return n.length?{anyOf:n}:void 0};function XA(t,e){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(t.innerType._def.typeName)&&(!t.innerType._def.checks||!t.innerType._def.checks.length))return e.target==="openApi3"?{type:Bl[t.innerType._def.typeName],nullable:!0}:{type:[Bl[t.innerType._def.typeName],"null"]};if(e.target==="openApi3"){const r=re(t.innerType._def,{...e,currentPath:[...e.currentPath]});return r&&"$ref"in r?{allOf:[r],nullable:!0}:r&&{...r,nullable:!0}}const n=re(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","0"]});return n&&{anyOf:[n,{type:"null"}]}}function QA(t,e){const n={type:"number"};if(!t.checks)return n;for(const r of t.checks)switch(r.kind){case"int":n.type="integer",Nb(n,"type",r.message,e);break;case"min":e.target==="jsonSchema7"?r.inclusive?ae(n,"minimum",r.value,r.message,e):ae(n,"exclusiveMinimum",r.value,r.message,e):(r.inclusive||(n.exclusiveMinimum=!0),ae(n,"minimum",r.value,r.message,e));break;case"max":e.target==="jsonSchema7"?r.inclusive?ae(n,"maximum",r.value,r.message,e):ae(n,"exclusiveMaximum",r.value,r.message,e):(r.inclusive||(n.exclusiveMaximum=!0),ae(n,"maximum",r.value,r.message,e));break;case"multipleOf":ae(n,"multipleOf",r.value,r.message,e);break}return n}function YA(t,e){return e.removeAdditionalStrategy==="strict"?t.catchall._def.typeName==="ZodNever"?t.unknownKeys!=="strict":re(t.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??!0:t.catchall._def.typeName==="ZodNever"?t.unknownKeys==="passthrough":re(t.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??!0}function eN(t,e){const n={type:"object",...Object.entries(t.shape()).reduce((r,[i,s])=>{if(s===void 0||s._def===void 0)return r;const a=re(s._def,{...e,currentPath:[...e.currentPath,"properties",i],propertyPath:[...e.currentPath,"properties",i]});return a===void 0?r:{properties:{...r.properties,[i]:a},required:s.isOptional()?r.required:[...r.required,i]}},{properties:{},required:[]}),additionalProperties:YA(t,e)};return n.required.length||delete n.required,n}const tN=(t,e)=>{var r;if(e.currentPath.toString()===((r=e.propertyPath)==null?void 0:r.toString()))return re(t.innerType._def,e);const n=re(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","1"]});return n?{anyOf:[{not:{}},n]}:{}},nN=(t,e)=>{if(e.pipeStrategy==="input")return re(t.in._def,e);if(e.pipeStrategy==="output")return re(t.out._def,e);const n=re(t.in._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),r=re(t.out._def,{...e,currentPath:[...e.currentPath,"allOf",n?"1":"0"]});return{allOf:[n,r].filter(i=>i!==void 0)}};function rN(t,e){return re(t.type._def,e)}function iN(t,e){const r={type:"array",uniqueItems:!0,items:re(t.valueType._def,{...e,currentPath:[...e.currentPath,"items"]})};return t.minSize&&ae(r,"minItems",t.minSize.value,t.minSize.message,e),t.maxSize&&ae(r,"maxItems",t.maxSize.value,t.maxSize.message,e),r}function sN(t,e){return t.rest?{type:"array",minItems:t.items.length,items:t.items.map((n,r)=>re(n._def,{...e,currentPath:[...e.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[]),additionalItems:re(t.rest._def,{...e,currentPath:[...e.currentPath,"additionalItems"]})}:{type:"array",minItems:t.items.length,maxItems:t.items.length,items:t.items.map((n,r)=>re(n._def,{...e,currentPath:[...e.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[])}}function aN(){return{not:{}}}function oN(){return{}}const lN=(t,e)=>re(t.innerType._def,e);function re(t,e,n=!1){var a;const r=e.seen.get(t);if(e.override){const o=(a=e.override)==null?void 0:a.call(e,t,e,r,n);if(o!==PO)return o}if(r&&!n){const o=uN(r,e);if(o!==void 0)return o}const i={def:t,path:e.currentPath,jsonSchema:void 0};e.seen.set(t,i);const s=dN(t,t.typeName,e);return s&&fN(t,e,s),i.jsonSchema=s,s}const uN=(t,e)=>{switch(e.$refStrategy){case"root":return{$ref:t.path.join("/")};case"relative":return{$ref:cN(e.currentPath,t.path)};case"none":case"seen":return t.path.length<e.currentPath.length&&t.path.every((n,r)=>e.currentPath[r]===n)?(console.warn(`Recursive reference detected at ${e.currentPath.join("/")}! Defaulting to any`),{}):e.$refStrategy==="seen"?{}:void 0}},cN=(t,e)=>{let n=0;for(;n<t.length&&n<e.length&&t[n]===e[n];n++);return[(t.length-n).toString(),...e.slice(n)].join("/")},dN=(t,e,n)=>{switch(e){case I.ZodString:return Hb(t,n);case I.ZodNumber:return QA(t,n);case I.ZodObject:return eN(t,n);case I.ZodBigInt:return jA(t,n);case I.ZodBoolean:return LA();case I.ZodDate:return zb(t,n);case I.ZodUndefined:return aN();case I.ZodNull:return qA(n);case I.ZodArray:return IA(t,n);case I.ZodUnion:case I.ZodDiscriminatedUnion:return JA(t,n);case I.ZodIntersection:return zA(t,n);case I.ZodTuple:return sN(t,n);case I.ZodRecord:return Wb(t,n);case I.ZodLiteral:return HA(t,n);case I.ZodEnum:return VA(t);case I.ZodNativeEnum:return ZA(t);case I.ZodNullable:return XA(t,n);case I.ZodOptional:return tN(t,n);case I.ZodMap:return GA(t,n);case I.ZodSet:return iN(t,n);case I.ZodLazy:return re(t.getter()._def,n);case I.ZodPromise:return rN(t,n);case I.ZodNaN:case I.ZodNever:return KA();case I.ZodEffects:return UA(t,n);case I.ZodAny:return NA();case I.ZodUnknown:return oN();case I.ZodDefault:return FA(t,n);case I.ZodBranded:return $A(t,n);case I.ZodReadonly:return lN(t,n);case I.ZodCatch:return DA(t,n);case I.ZodPipeline:return nN(t,n);case I.ZodFunction:case I.ZodVoid:case I.ZodSymbol:return;default:return(r=>{})()}},fN=(t,e,n)=>(t.description&&(n.description=t.description,e.markdownDescription&&(n.markdownDescription=t.description)),n),to=(t,e)=>{const n=RO(e),r=void 0,i=e==null?void 0:e.name,s=re(t._def,n,!1)??{},a=i===void 0?r?{...s,[n.definitionPath]:r}:s:{$ref:[...n.$refStrategy==="relative"?[]:n.basePath,n.definitionPath,i].join("/"),[n.definitionPath]:{...r,[i]:s}};return n.target==="jsonSchema7"?a.$schema="http://json-schema.org/draft-07/schema#":n.target==="jsonSchema2019-09"&&(a.$schema="https://json-schema.org/draft/2019-09/schema#"),a};function _y(t,e=mp){t=t.trim();const n=/```(json)?(.*)```/s.exec(t);return e(n?n[2]:t)}function mp(t){if(typeof t>"u")return null;try{return JSON.parse(t)}catch{}let e="";const n=[];let r=!1,i=!1;for(let s of t){if(r)s==='"'&&!i?r=!1:s===`
`&&!i?s="\\n":s==="\\"?i=!i:i=!1;else if(s==='"')r=!0,i=!1;else if(s==="{")n.push("}");else if(s==="[")n.push("]");else if(s==="}"||s==="]")if(n&&n[n.length-1]===s)n.pop();else return null;e+=s}r&&(e+='"');for(let s=n.length-1;s>=0;s-=1)e+=n[s];try{return JSON.parse(e)}catch{return null}}var hN=function(t,e){if(typeof t!="string")throw new TypeError("Expected a string");return e=typeof e>"u"?"_":e,t.replace(/([a-z\d])([A-Z])/g,"$1"+e+"$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1"+e+"$2").toLowerCase()};const pN=ou(hN);var Gb={exports:{}};const mN=/[\p{Lu}]/u,gN=/[\p{Ll}]/u,by=/^[\p{Lu}](?![\p{Lu}])/gu,Zb=/([\p{Alpha}\p{N}_]|$)/u,Kb=/[_.\- ]+/,yN=new RegExp("^"+Kb.source),xy=new RegExp(Kb.source+Zb.source,"gu"),Ey=new RegExp("\\d+"+Zb.source,"gu"),vN=(t,e,n)=>{let r=!1,i=!1,s=!1;for(let a=0;a<t.length;a++){const o=t[a];r&&mN.test(o)?(t=t.slice(0,a)+"-"+t.slice(a),r=!1,s=i,i=!0,a++):i&&s&&gN.test(o)?(t=t.slice(0,a-1)+"-"+t.slice(a-1),s=i,i=!1,r=!0):(r=e(o)===o&&n(o)!==o,s=i,i=n(o)===o&&e(o)!==o)}return t},wN=(t,e)=>(by.lastIndex=0,t.replace(by,n=>e(n))),_N=(t,e)=>(xy.lastIndex=0,Ey.lastIndex=0,t.replace(xy,(n,r)=>e(r)).replace(Ey,n=>e(n))),qb=(t,e)=>{if(!(typeof t=="string"||Array.isArray(t)))throw new TypeError("Expected the input to be `string | string[]`");if(e={pascalCase:!1,preserveConsecutiveUppercase:!1,...e},Array.isArray(t)?t=t.map(s=>s.trim()).filter(s=>s.length).join("-"):t=t.trim(),t.length===0)return"";const n=e.locale===!1?s=>s.toLowerCase():s=>s.toLocaleLowerCase(e.locale),r=e.locale===!1?s=>s.toUpperCase():s=>s.toLocaleUpperCase(e.locale);return t.length===1?e.pascalCase?r(t):n(t):(t!==n(t)&&(t=vN(t,n,r)),t=t.replace(yN,""),e.preserveConsecutiveUppercase?t=wN(t,n):t=n(t),e.pascalCase&&(t=r(t.charAt(0))+t.slice(1)),_N(t,r))};Gb.exports=qb;Gb.exports.default=qb;function bN(t,e){return(e==null?void 0:e[t])||pN(t)}function xN(t,e,n){const r={};for(const i in t)Object.hasOwn(t,i)&&(r[e(i,n)]=t[i]);return r}function Sy(t){return Array.isArray(t)?[...t]:{...t}}function EN(t,e){const n=Sy(t);for(const[r,i]of Object.entries(e)){const[s,...a]=r.split(".").reverse();let o=n;for(const l of a.reverse()){if(o[l]===void 0)break;o[l]=Sy(o[l]),o=o[l]}o[s]!==void 0&&(o[s]={lc:1,type:"secret",id:[i]})}return n}function Jb(t){const e=Object.getPrototypeOf(t);return typeof t.lc_name=="function"&&(typeof e.lc_name!="function"||t.lc_name()!==e.lc_name())?t.lc_name():t.name}class ii{static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,Jb(this.constructor)]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}constructor(e,...n){Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.lc_kwargs=e||{}}toJSON(){if(!this.lc_serializable)return this.toJSONNotImplemented();if(this.lc_kwargs instanceof ii||typeof this.lc_kwargs!="object"||Array.isArray(this.lc_kwargs))return this.toJSONNotImplemented();const e={},n={},r=Object.keys(this.lc_kwargs).reduce((i,s)=>(i[s]=s in this?this[s]:this.lc_kwargs[s],i),{});for(let i=Object.getPrototypeOf(this);i;i=Object.getPrototypeOf(i))Object.assign(e,Reflect.get(i,"lc_aliases",this)),Object.assign(n,Reflect.get(i,"lc_secrets",this)),Object.assign(r,Reflect.get(i,"lc_attributes",this));return Object.keys(n).forEach(i=>{let s=this,a=r;const[o,...l]=i.split(".").reverse();for(const u of l.reverse()){if(!(u in s)||s[u]===void 0)return;(!(u in a)||a[u]===void 0)&&(typeof s[u]=="object"&&s[u]!=null?a[u]={}:Array.isArray(s[u])&&(a[u]=[])),s=s[u],a=a[u]}o in s&&s[o]!==void 0&&(a[o]=a[o]||s[o])}),{lc:1,type:"constructor",id:this.lc_id,kwargs:xN(Object.keys(n).length?EN(r,n):r,bN,e)}}toJSONNotImplemented(){return{lc:1,type:"not_implemented",id:this.lc_id}}}function no(t,e){return typeof t=="string"?typeof e=="string"?t+e:[{type:"text",text:t},...e]:Array.isArray(e)?gp(t,e)??[...t,...e]:[...t,{type:"text",text:e}]}function SN(t,e){function n(r,i){if(typeof r!="object"||r===null||r===void 0)return r;if(i>=e)return Array.isArray(r)?"[Array]":"[Object]";if(Array.isArray(r))return r.map(a=>n(a,i+1));const s={};for(const a of Object.keys(r))s[a]=n(r[a],i+1);return s}return JSON.stringify(n(t,0),null,2)}class hs extends ii{get lc_aliases(){return{additional_kwargs:"additional_kwargs",response_metadata:"response_metadata"}}get text(){return typeof this.content=="string"?this.content:""}constructor(e,n){typeof e=="string"&&(e={content:e,additional_kwargs:n,response_metadata:{}}),e.additional_kwargs||(e.additional_kwargs={}),e.response_metadata||(e.response_metadata={}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","messages"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"content",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"additional_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"response_metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e.name,this.content=e.content,this.additional_kwargs=e.additional_kwargs,this.response_metadata=e.response_metadata,this.id=e.id}toDict(){return{type:this._getType(),data:this.toJSON().kwargs}}static lc_name(){return"BaseMessage"}get _printableFields(){return{id:this.id,content:this.content,name:this.name,additional_kwargs:this.additional_kwargs,response_metadata:this.response_metadata}}_updateId(e){this.id=e,this.lc_kwargs.id=e}get[Symbol.toStringTag](){return this.constructor.lc_name()}[Symbol.for("nodejs.util.inspect.custom")](e){if(e===null)return this;const n=SN(this._printableFields,Math.max(4,e));return`${this.constructor.lc_name()} ${n}`}}function $t(t,e){const n={...t};for(const[r,i]of Object.entries(e))if(n[r]==null)n[r]=i;else{if(i==null)continue;if(typeof n[r]!=typeof i||Array.isArray(n[r])!==Array.isArray(i))throw new Error(`field[${r}] already exists in the message chunk, but with a different type.`);if(typeof n[r]=="string"){if(r==="type")continue;n[r]+=i}else if(typeof n[r]=="object"&&!Array.isArray(n[r]))n[r]=$t(n[r],i);else if(Array.isArray(n[r]))n[r]=gp(n[r],i);else{if(n[r]===i)continue;console.warn(`field[${r}] already exists in this message chunk and value has unsupported type.`)}}return n}function gp(t,e){if(!(t===void 0&&e===void 0)){if(t===void 0||e===void 0)return t||e;{const n=[...t];for(const r of e)if(typeof r=="object"&&"index"in r&&typeof r.index=="number"){const i=n.findIndex(s=>s.index===r.index);i!==-1?n[i]=$t(n[i],r):n.push(r)}else{if(typeof r=="object"&&"text"in r&&r.text==="")continue;n.push(r)}return n}}}class ro extends hs{}function TN(t){return typeof t.role=="string"}function yp(t){return typeof(t==null?void 0:t._getType)=="function"}function PN(t){return yp(t)&&typeof t.concat=="function"}class kN extends hs{static lc_name(){return"ToolMessage"}get lc_aliases(){return{tool_call_id:"tool_call_id"}}constructor(e,n,r){typeof e=="string"&&(e={content:e,name:r,tool_call_id:n}),super(e),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tool_call_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"artifact",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.tool_call_id=e.tool_call_id,this.artifact=e.artifact,this.status=e.status}_getType(){return"tool"}static isInstance(e){return e._getType()==="tool"}get _printableFields(){return{...super._printableFields,tool_call_id:this.tool_call_id,artifact:this.artifact}}}function CN(t){const e=[],n=[];for(const r of t)if(r.function){const i=r.function.name;try{const s=JSON.parse(r.function.arguments),a={name:i||"",args:s||{},id:r.id};e.push(a)}catch{n.push({name:i,args:r.function.arguments,id:r.id,error:"Malformed args."})}}else continue;return[e,n]}class Rf extends hs{get lc_aliases(){return{...super.lc_aliases,tool_calls:"tool_calls",invalid_tool_calls:"invalid_tool_calls"}}constructor(e,n){var i;let r;if(typeof e=="string")r={content:e,tool_calls:[],invalid_tool_calls:[],additional_kwargs:n??{}};else{r=e;const s=(i=r.additional_kwargs)==null?void 0:i.tool_calls,a=r.tool_calls;s!=null&&s.length>0&&(a===void 0||a.length===0)&&console.warn(["New LangChain packages are available that more efficiently handle",`tool calling.

Please upgrade your packages to versions that set`,"message tool calls. e.g., `yarn add @langchain/anthropic`,","yarn add @langchain/openai`, etc."].join(" "));try{if(s!=null&&a===void 0){const[o,l]=CN(s);r.tool_calls=o??[],r.invalid_tool_calls=l??[]}else r.tool_calls=r.tool_calls??[],r.invalid_tool_calls=r.invalid_tool_calls??[]}catch{r.tool_calls=[],r.invalid_tool_calls=[]}}super(r),Object.defineProperty(this,"tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"invalid_tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"usage_metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),typeof r!="string"&&(this.tool_calls=r.tool_calls??this.tool_calls,this.invalid_tool_calls=r.invalid_tool_calls??this.invalid_tool_calls),this.usage_metadata=r.usage_metadata}static lc_name(){return"AIMessage"}_getType(){return"ai"}get _printableFields(){return{...super._printableFields,tool_calls:this.tool_calls,invalid_tool_calls:this.invalid_tool_calls,usage_metadata:this.usage_metadata}}}function Xb(t){return t._getType()==="ai"}class xr extends ro{constructor(e){let n;if(typeof e=="string")n={content:e,tool_calls:[],invalid_tool_calls:[],tool_call_chunks:[]};else if(e.tool_call_chunks===void 0)n={...e,tool_calls:e.tool_calls??[],invalid_tool_calls:[],tool_call_chunks:[]};else{const r=[],i=[];for(const s of e.tool_call_chunks){let a={};try{if(a=mp(s.args||"{}"),a===null||typeof a!="object"||Array.isArray(a))throw new Error("Malformed tool call chunk args.");r.push({name:s.name??"",args:a,id:s.id,type:"tool_call"})}catch{i.push({name:s.name,args:s.args,id:s.id,error:"Malformed args.",type:"invalid_tool_call"})}}n={...e,tool_calls:r,invalid_tool_calls:i}}super(n),Object.defineProperty(this,"tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"invalid_tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"tool_call_chunks",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"usage_metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.tool_call_chunks=n.tool_call_chunks??this.tool_call_chunks,this.tool_calls=n.tool_calls??this.tool_calls,this.invalid_tool_calls=n.invalid_tool_calls??this.invalid_tool_calls,this.usage_metadata=n.usage_metadata}get lc_aliases(){return{...super.lc_aliases,tool_calls:"tool_calls",invalid_tool_calls:"invalid_tool_calls",tool_call_chunks:"tool_call_chunks"}}static lc_name(){return"AIMessageChunk"}_getType(){return"ai"}get _printableFields(){return{...super._printableFields,tool_calls:this.tool_calls,tool_call_chunks:this.tool_call_chunks,invalid_tool_calls:this.invalid_tool_calls,usage_metadata:this.usage_metadata}}concat(e){const n={content:no(this.content,e.content),additional_kwargs:$t(this.additional_kwargs,e.additional_kwargs),response_metadata:$t(this.response_metadata,e.response_metadata),tool_call_chunks:[],id:this.id??e.id};if(this.tool_call_chunks!==void 0||e.tool_call_chunks!==void 0){const r=gp(this.tool_call_chunks,e.tool_call_chunks);r!==void 0&&r.length>0&&(n.tool_call_chunks=r)}if(this.usage_metadata!==void 0||e.usage_metadata!==void 0){const r=this.usage_metadata??{input_tokens:0,output_tokens:0,total_tokens:0},i=e.usage_metadata??{input_tokens:0,output_tokens:0,total_tokens:0},s={input_tokens:r.input_tokens+i.input_tokens,output_tokens:r.output_tokens+i.output_tokens,total_tokens:r.total_tokens+i.total_tokens};n.usage_metadata=s}return new xr(n)}}class Lu extends hs{static lc_name(){return"ChatMessage"}static _chatMessageClass(){return Lu}constructor(e,n){typeof e=="string"&&(e={content:e,role:n}),super(e),Object.defineProperty(this,"role",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.role=e.role}_getType(){return"generic"}static isInstance(e){return e._getType()==="generic"}get _printableFields(){return{...super._printableFields,role:this.role}}}class $u extends ro{static lc_name(){return"ChatMessageChunk"}constructor(e,n){typeof e=="string"&&(e={content:e,role:n}),super(e),Object.defineProperty(this,"role",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.role=e.role}_getType(){return"generic"}concat(e){return new $u({content:no(this.content,e.content),additional_kwargs:$t(this.additional_kwargs,e.additional_kwargs),response_metadata:$t(this.response_metadata,e.response_metadata),role:this.role,id:this.id??e.id})}get _printableFields(){return{...super._printableFields,role:this.role}}}class vp extends ro{static lc_name(){return"FunctionMessageChunk"}_getType(){return"function"}concat(e){return new vp({content:no(this.content,e.content),additional_kwargs:$t(this.additional_kwargs,e.additional_kwargs),response_metadata:$t(this.response_metadata,e.response_metadata),name:this.name??"",id:this.id??e.id})}}class Du extends hs{static lc_name(){return"HumanMessage"}_getType(){return"human"}}class Mu extends ro{static lc_name(){return"HumanMessageChunk"}_getType(){return"human"}concat(e){return new Mu({content:no(this.content,e.content),additional_kwargs:$t(this.additional_kwargs,e.additional_kwargs),response_metadata:$t(this.response_metadata,e.response_metadata),id:this.id??e.id})}}class RN extends hs{static lc_name(){return"SystemMessage"}_getType(){return"system"}}class Fu extends ro{static lc_name(){return"SystemMessageChunk"}_getType(){return"system"}concat(e){return new Fu({content:no(this.content,e.content),additional_kwargs:$t(this.additional_kwargs,e.additional_kwargs),response_metadata:$t(this.response_metadata,e.response_metadata),id:this.id??e.id})}}function Qb(t){return!!(t&&typeof t=="object"&&"type"in t&&t.type==="tool_call")}class ON extends Error{constructor(e,n){super(e),Object.defineProperty(this,"output",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.output=n}}function AN(t){return Qb(t)?t:typeof t.id=="string"&&t.type==="function"&&typeof t.function=="object"&&t.function!==null&&"arguments"in t.function&&typeof t.function.arguments=="string"&&"name"in t.function&&typeof t.function.name=="string"?{id:t.id,args:JSON.parse(t.function.arguments),name:t.function.name,type:"tool_call"}:t}function Uc(t){const{type:e,...n}=t;if(e==="human"||e==="user")return new Du(n);if(e==="ai"||e==="assistant"){const{tool_calls:r,...i}=n;if(!Array.isArray(r))return new Rf(n);const s=r.map(AN);return new Rf({...i,tool_calls:s})}else{if(e==="system")return new RN(n);if(e==="tool"&&"tool_call_id"in n)return new kN({...n,content:n.content,tool_call_id:n.tool_call_id,name:n.name});throw new Error("Unable to coerce message from array: only human, AI, or system message coercion is currently supported.")}}function Ms(t){if(typeof t=="string")return new Du(t);if(yp(t))return t;if(Array.isArray(t)){const[e,n]=t;return Uc({type:e,content:n})}else if(TN(t)){const{role:e,...n}=t;return Uc({...n,type:e})}else return Uc(t)}function Yb(t,e="Human",n="AI"){const r=[];for(const i of t){let s;if(i._getType()==="human")s=e;else if(i._getType()==="ai")s=n;else if(i._getType()==="system")s="System";else if(i._getType()==="function")s="Function";else if(i._getType()==="tool")s="Tool";else if(i._getType()==="generic")s=i.role;else throw new Error(`Got unsupported message type: ${i._getType()}`);const a=i.name?`${i.name}, `:"",o=typeof i.content=="string"?i.content:JSON.stringify(i.content,null,2);r.push(`${s}: ${a}${o}`)}return r.join(`
`)}function NN(t){var n;const e=t._getType();if(e==="human")return new Mu({...t});if(e==="ai"){let r={...t};return"tool_calls"in r&&(r={...r,tool_call_chunks:(n=r.tool_calls)==null?void 0:n.map(i=>({...i,type:"tool_call_chunk",index:void 0,args:JSON.stringify(i.args)}))}),new xr({...r})}else{if(e==="system")return new Fu({...t});if(e==="function")return new vp({...t});if(Lu.isInstance(t))return new $u({...t});throw new Error("Unknown message type.")}}var Uu={exports:{}},ex={};function Dt(t,e){typeof e=="boolean"&&(e={forever:e}),this._originalTimeouts=JSON.parse(JSON.stringify(t)),this._timeouts=t,this._options=e||{},this._maxRetryTime=e&&e.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var IN=Dt;Dt.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};Dt.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};Dt.prototype.retry=function(t){if(this._timeout&&clearTimeout(this._timeout),!t)return!1;var e=new Date().getTime();if(t&&e-this._operationStart>=this._maxRetryTime)return this._errors.push(t),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(t);var n=this._timeouts.shift();if(n===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),n=this._cachedTimeouts.slice(-1);else return!1;var r=this;return this._timer=setTimeout(function(){r._attempts++,r._operationTimeoutCb&&(r._timeout=setTimeout(function(){r._operationTimeoutCb(r._attempts)},r._operationTimeout),r._options.unref&&r._timeout.unref()),r._fn(r._attempts)},n),this._options.unref&&this._timer.unref(),!0};Dt.prototype.attempt=function(t,e){this._fn=t,e&&(e.timeout&&(this._operationTimeout=e.timeout),e.cb&&(this._operationTimeoutCb=e.cb));var n=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){n._operationTimeoutCb()},n._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};Dt.prototype.try=function(t){console.log("Using RetryOperation.try() is deprecated"),this.attempt(t)};Dt.prototype.start=function(t){console.log("Using RetryOperation.start() is deprecated"),this.attempt(t)};Dt.prototype.start=Dt.prototype.try;Dt.prototype.errors=function(){return this._errors};Dt.prototype.attempts=function(){return this._attempts};Dt.prototype.mainError=function(){if(this._errors.length===0)return null;for(var t={},e=null,n=0,r=0;r<this._errors.length;r++){var i=this._errors[r],s=i.message,a=(t[s]||0)+1;t[s]=a,a>=n&&(e=i,n=a)}return e};(function(t){var e=IN;t.operation=function(n){var r=t.timeouts(n);return new e(r,{forever:n&&(n.forever||n.retries===1/0),unref:n&&n.unref,maxRetryTime:n&&n.maxRetryTime})},t.timeouts=function(n){if(n instanceof Array)return[].concat(n);var r={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var i in n)r[i]=n[i];if(r.minTimeout>r.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var s=[],a=0;a<r.retries;a++)s.push(this.createTimeout(a,r));return n&&n.forever&&!s.length&&s.push(this.createTimeout(a,r)),s.sort(function(o,l){return o-l}),s},t.createTimeout=function(n,r){var i=r.randomize?Math.random()+1:1,s=Math.round(i*Math.max(r.minTimeout,1)*Math.pow(r.factor,n));return s=Math.min(s,r.maxTimeout),s},t.wrap=function(n,r,i){if(r instanceof Array&&(i=r,r=null),!i){i=[];for(var s in n)typeof n[s]=="function"&&i.push(s)}for(var a=0;a<i.length;a++){var o=i[a],l=n[o];n[o]=(function(c){var d=t.operation(r),f=Array.prototype.slice.call(arguments,1),h=f.pop();f.push(function(p){d.retry(p)||(p&&(arguments[0]=d.mainError()),h.apply(this,arguments))}),d.attempt(function(){c.apply(n,f)})}).bind(n,l),n[o].options=r}}})(ex);var jN=ex;const LN=jN,$N=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"];class tx extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}const DN=(t,e,n)=>{const r=n.retries-(e-1);return t.attemptNumber=e,t.retriesLeft=r,t},MN=t=>$N.includes(t),nx=(t,e)=>new Promise((n,r)=>{e={onFailedAttempt:()=>{},retries:10,...e};const i=LN.operation(e);i.attempt(async s=>{try{n(await t(s))}catch(a){if(!(a instanceof Error)){r(new TypeError(`Non-error was thrown: "${a}". You should only throw errors.`));return}if(a instanceof tx)i.stop(),r(a.originalError);else if(a instanceof TypeError&&!MN(a.message))i.stop(),r(a);else{DN(a,s,e);try{await e.onFailedAttempt(a)}catch(o){r(o);return}i.retry(a)||r(i.mainError())}}})});Uu.exports=nx;Uu.exports.default=nx;Uu.exports.AbortError=tx;var FN=Uu.exports;const zl=ou(FN),UN=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;function Hl(t){return typeof t=="string"&&UN.test(t)}var $e=[];for(var Vc=0;Vc<256;++Vc)$e.push((Vc+256).toString(16).slice(1));function VN(t,e=0){return($e[t[e+0]]+$e[t[e+1]]+$e[t[e+2]]+$e[t[e+3]]+"-"+$e[t[e+4]]+$e[t[e+5]]+"-"+$e[t[e+6]]+$e[t[e+7]]+"-"+$e[t[e+8]]+$e[t[e+9]]+"-"+$e[t[e+10]]+$e[t[e+11]]+$e[t[e+12]]+$e[t[e+13]]+$e[t[e+14]]+$e[t[e+15]]).toLowerCase()}var Ao,BN=new Uint8Array(16);function zN(){if(!Ao&&(Ao=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ao))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ao(BN)}var HN=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const Ty={randomUUID:HN};function At(t,e,n){if(Ty.randomUUID&&!e&&!t)return Ty.randomUUID();t=t||{};var r=t.random||(t.rng||zN)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,VN(r)}let WN=class{getStore(){}run(e,n){return n()}};const Bc=Symbol.for("ls:tracing_async_local_storage"),GN=new WN;let ZN=class{getInstance(){return globalThis[Bc]??GN}initializeGlobalInstance(e){globalThis[Bc]===void 0&&(globalThis[Bc]=e)}};const KN=new ZN,qN=()=>{const t=KN.getInstance().getStore();if(t===void 0)throw new Error(["Could not get the current run tree.","","Please make sure you are calling this method within a traceable function or the tracing is enabled."].join(`
`));return t};function wp(t){return typeof t=="function"&&"langsmith:traceable"in t}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */const JN=Object.prototype.hasOwnProperty;function Of(t,e){return JN.call(t,e)}function Af(t){if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<n.length;r++)n[r]=""+r;return n}if(Object.keys)return Object.keys(t);let e=[];for(let n in t)Of(t,n)&&e.push(n);return e}function fn(t){switch(typeof t){case"object":return JSON.parse(JSON.stringify(t));case"undefined":return null;default:return t}}function Nf(t){let e=0;const n=t.length;let r;for(;e<n;){if(r=t.charCodeAt(e),r>=48&&r<=57){e++;continue}return!1}return!0}function hi(t){return t.indexOf("/")===-1&&t.indexOf("~")===-1?t:t.replace(/~/g,"~0").replace(/\//g,"~1")}function XN(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}function If(t){if(t===void 0)return!0;if(t){if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(If(t[n]))return!0}else if(typeof t=="object"){const n=Af(t),r=n.length;for(var e=0;e<r;e++)if(If(t[n[e]]))return!0}}return!1}function Py(t,e){const n=[t];for(const r in e){const i=typeof e[r]=="object"?JSON.stringify(e[r],null,2):e[r];typeof i<"u"&&n.push(`${r}: ${i}`)}return n.join(`
`)}class QN extends Error{constructor(e,n,r,i,s){super(Py(e,{name:n,index:r,operation:i,tree:s})),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"index",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"operation",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"tree",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.setPrototypeOf(this,new.target.prototype),this.message=Py(e,{name:n,index:r,operation:i,tree:s})}}const Ee=QN,Li={add:function(t,e,n){return t[e]=this.value,{newDocument:n}},remove:function(t,e,n){var r=t[e];return delete t[e],{newDocument:n,removed:r}},replace:function(t,e,n){var r=t[e];return t[e]=this.value,{newDocument:n,removed:r}},move:function(t,e,n){let r=jf(n,this.path);r&&(r=fn(r));const i=Ys(n,{op:"remove",path:this.from}).removed;return Ys(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(t,e,n){const r=jf(n,this.from);return Ys(n,{op:"add",path:this.path,value:fn(r)}),{newDocument:n}},test:function(t,e,n){return{newDocument:n,test:Gl(t[e],this.value)}},_get:function(t,e,n){return this.value=t[e],{newDocument:n}}};var YN={add:function(t,e,n){return Nf(e)?t.splice(e,0,this.value):t[e]=this.value,{newDocument:n,index:e}},remove:function(t,e,n){var r=t.splice(e,1);return{newDocument:n,removed:r[0]}},replace:function(t,e,n){var r=t[e];return t[e]=this.value,{newDocument:n,removed:r}},move:Li.move,copy:Li.copy,test:Li.test,_get:Li._get};function jf(t,e){if(e=="")return t;var n={op:"_get",path:e};return Ys(t,n),n.value}function Ys(t,e,n=!1,r=!0,i=!0,s=0){if(n&&(typeof n=="function"?n(e,0,t,e.path):Lf(e,0)),e.path===""){let a={newDocument:t};if(e.op==="add")return a.newDocument=e.value,a;if(e.op==="replace")return a.newDocument=e.value,a.removed=t,a;if(e.op==="move"||e.op==="copy")return a.newDocument=jf(t,e.from),e.op==="move"&&(a.removed=t),a;if(e.op==="test"){if(a.test=Gl(t,e.value),a.test===!1)throw new Ee("Test operation failed","TEST_OPERATION_FAILED",s,e,t);return a.newDocument=t,a}else{if(e.op==="remove")return a.removed=t,a.newDocument=null,a;if(e.op==="_get")return e.value=t,a;if(n)throw new Ee("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",s,e,t);return a}}else{r||(t=fn(t));const o=(e.path||"").split("/");let l=t,u=1,c=o.length,d,f,h;for(typeof n=="function"?h=n:h=Lf;;){if(f=o[u],f&&f.indexOf("~")!=-1&&(f=XN(f)),i&&(f=="__proto__"||f=="prototype"&&u>0&&o[u-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&d===void 0&&(l[f]===void 0?d=o.slice(0,u).join("/"):u==c-1&&(d=e.path),d!==void 0&&h(e,0,t,d)),u++,Array.isArray(l)){if(f==="-")f=l.length;else{if(n&&!Nf(f))throw new Ee("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",s,e,t);Nf(f)&&(f=~~f)}if(u>=c){if(n&&e.op==="add"&&f>l.length)throw new Ee("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",s,e,t);const p=YN[e.op].call(e,l,f,t);if(p.test===!1)throw new Ee("Test operation failed","TEST_OPERATION_FAILED",s,e,t);return p}}else if(u>=c){const p=Li[e.op].call(e,l,f,t);if(p.test===!1)throw new Ee("Test operation failed","TEST_OPERATION_FAILED",s,e,t);return p}if(l=l[f],n&&u<c&&(!l||typeof l!="object"))throw new Ee("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",s,e,t)}}}function Wl(t,e,n,r=!0,i=!0){if(n&&!Array.isArray(e))throw new Ee("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(t=fn(t));const s=new Array(e.length);for(let a=0,o=e.length;a<o;a++)s[a]=Ys(t,e[a],n,!0,i,a),t=s[a].newDocument;return s.newDocument=t,s}function Lf(t,e,n,r){if(typeof t!="object"||t===null||Array.isArray(t))throw new Ee("Operation is not an object","OPERATION_NOT_AN_OBJECT",e,t,n);if(Li[t.op]){if(typeof t.path!="string")throw new Ee("Operation `path` property is not a string","OPERATION_PATH_INVALID",e,t,n);if(t.path.indexOf("/")!==0&&t.path.length>0)throw new Ee('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",e,t,n);if((t.op==="move"||t.op==="copy")&&typeof t.from!="string")throw new Ee("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",e,t,n);if((t.op==="add"||t.op==="replace"||t.op==="test")&&t.value===void 0)throw new Ee("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",e,t,n);if((t.op==="add"||t.op==="replace"||t.op==="test")&&If(t.value))throw new Ee("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",e,t,n);if(n){if(t.op=="add"){var i=t.path.split("/").length,s=r.split("/").length;if(i!==s+1&&i!==s)throw new Ee("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",e,t,n)}else if(t.op==="replace"||t.op==="remove"||t.op==="_get"){if(t.path!==r)throw new Ee("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",e,t,n)}else if(t.op==="move"||t.op==="copy"){var a={op:"_get",path:t.from,value:void 0},o=eI([a],n);if(o&&o.name==="OPERATION_PATH_UNRESOLVABLE")throw new Ee("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",e,t,n)}}}else throw new Ee("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",e,t,n)}function eI(t,e,n){try{if(!Array.isArray(t))throw new Ee("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(e)Wl(fn(e),fn(t),n||!0);else{n=n||Lf;for(var r=0;r<t.length;r++)n(t[r],r,e,void 0)}}catch(i){if(i instanceof Ee)return i;throw i}}function Gl(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var n=Array.isArray(t),r=Array.isArray(e),i,s,a;if(n&&r){if(s=t.length,s!=e.length)return!1;for(i=s;i--!==0;)if(!Gl(t[i],e[i]))return!1;return!0}if(n!=r)return!1;var o=Object.keys(t);if(s=o.length,s!==Object.keys(e).length)return!1;for(i=s;i--!==0;)if(!e.hasOwnProperty(o[i]))return!1;for(i=s;i--!==0;)if(a=o[i],!Gl(t[a],e[a]))return!1;return!0}return t!==t&&e!==e}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2013-2021 Joachim Wester
 * MIT license
 */function rx(t,e,n,r,i){if(e!==t){typeof e.toJSON=="function"&&(e=e.toJSON());for(var s=Af(e),a=Af(t),o=!1,l=a.length-1;l>=0;l--){var u=a[l],c=t[u];if(Of(e,u)&&!(e[u]===void 0&&c!==void 0&&Array.isArray(e)===!1)){var d=e[u];typeof c=="object"&&c!=null&&typeof d=="object"&&d!=null&&Array.isArray(c)===Array.isArray(d)?rx(c,d,n,r+"/"+hi(u),i):c!==d&&(i&&n.push({op:"test",path:r+"/"+hi(u),value:fn(c)}),n.push({op:"replace",path:r+"/"+hi(u),value:fn(d)}))}else Array.isArray(t)===Array.isArray(e)?(i&&n.push({op:"test",path:r+"/"+hi(u),value:fn(c)}),n.push({op:"remove",path:r+"/"+hi(u)}),o=!0):(i&&n.push({op:"test",path:r,value:t}),n.push({op:"replace",path:r,value:e}))}if(!(!o&&s.length==a.length))for(var l=0;l<s.length;l++){var u=s[l];!Of(t,u)&&e[u]!==void 0&&n.push({op:"add",path:r+"/"+hi(u),value:fn(e[u])})}}}function tI(t,e,n=!1){var r=[];return rx(t,e,r,"",n),r}var zc={};const nI=()=>typeof window<"u"&&typeof window.document<"u",rI=()=>typeof globalThis=="object"&&globalThis.constructor&&globalThis.constructor.name==="DedicatedWorkerGlobalScope",iI=()=>typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),ix=()=>typeof Deno<"u",sI=()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"&&!ix(),aI=()=>{let t;return nI()?t="browser":sI()?t="node":rI()?t="webworker":iI()?t="jsdom":ix()?t="deno":t="other",t};let Hc;async function oI(){return Hc===void 0&&(Hc={library:"langchain-js",runtime:aI()}),Hc}function si(t){try{return typeof process<"u"?zc==null?void 0:zc[t]:void 0}catch{return}}class lI{}class io extends lI{get lc_namespace(){return["langchain_core","callbacks",this.name]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,Jb(this.constructor)]}constructor(e){super(),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ignoreLLM",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreChain",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreAgent",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreRetriever",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreCustomEvent",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"raiseError",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"awaitHandlers",{enumerable:!0,configurable:!0,writable:!0,value:si("LANGCHAIN_CALLBACKS_BACKGROUND")==="false"}),this.lc_kwargs=e||{},e&&(this.ignoreLLM=e.ignoreLLM??this.ignoreLLM,this.ignoreChain=e.ignoreChain??this.ignoreChain,this.ignoreAgent=e.ignoreAgent??this.ignoreAgent,this.ignoreRetriever=e.ignoreRetriever??this.ignoreRetriever,this.ignoreCustomEvent=e.ignoreCustomEvent??this.ignoreCustomEvent,this.raiseError=e.raiseError??this.raiseError,this.awaitHandlers=this.raiseError||(e._awaitHandler??this.awaitHandlers))}copy(){return new this.constructor(this)}toJSON(){return ii.prototype.toJSON.call(this)}toJSONNotImplemented(){return ii.prototype.toJSONNotImplemented.call(this)}static fromMethods(e){class n extends io{constructor(){super(),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:At()}),Object.assign(this,e)}}return new n}}function Wc(t,e){return t&&!Array.isArray(t)&&typeof t=="object"?t:{[e]:t}}function uI(t){return t.replace(/[-:.]/g,"")}function cI(t,e,n){const r=n.toFixed(0).slice(0,3).padStart(3,"0");return uI(`${new Date(t).toISOString().slice(0,-1)}${r}Z`)+e}function ks(t){return typeof t._addRunToRunMap=="function"}class so extends io{constructor(e){super(...arguments),Object.defineProperty(this,"runMap",{enumerable:!0,configurable:!0,writable:!0,value:new Map})}copy(){return this}stringifyError(e){return e instanceof Error?e.message+(e!=null&&e.stack?`

${e.stack}`:""):typeof e=="string"?e:`${e}`}_addChildRun(e,n){e.child_runs.push(n)}_addRunToRunMap(e){const n=cI(e.start_time,e.id,e.execution_order),r={...e};if(r.parent_run_id!==void 0){const i=this.runMap.get(r.parent_run_id);i&&(this._addChildRun(i,r),i.child_execution_order=Math.max(i.child_execution_order,r.child_execution_order),r.trace_id=i.trace_id,i.dotted_order!==void 0&&(r.dotted_order=[i.dotted_order,n].join(".")))}else r.trace_id=r.id,r.dotted_order=n;return this.runMap.set(r.id,r),r}async _endTrace(e){var r;const n=e.parent_run_id!==void 0&&this.runMap.get(e.parent_run_id);n?n.child_execution_order=Math.max(n.child_execution_order,e.child_execution_order):await this.persistRun(e),this.runMap.delete(e.id),await((r=this.onRunUpdate)==null?void 0:r.call(this,e))}_getExecutionOrder(e){const n=e!==void 0&&this.runMap.get(e);return n?n.child_execution_order+1:1}_createRunForLLMStart(e,n,r,i,s,a,o,l){const u=this._getExecutionOrder(i),c=Date.now(),d=o?{...s,metadata:o}:s,f={id:r,name:l??e.id[e.id.length-1],parent_run_id:i,start_time:c,serialized:e,events:[{name:"start",time:new Date(c).toISOString()}],inputs:{prompts:n},execution_order:u,child_runs:[],child_execution_order:u,run_type:"llm",extra:d??{},tags:a||[]};return this._addRunToRunMap(f)}async handleLLMStart(e,n,r,i,s,a,o,l){var c,d;const u=this.runMap.get(r)??this._createRunForLLMStart(e,n,r,i,s,a,o,l);return await((c=this.onRunCreate)==null?void 0:c.call(this,u)),await((d=this.onLLMStart)==null?void 0:d.call(this,u)),u}_createRunForChatModelStart(e,n,r,i,s,a,o,l){const u=this._getExecutionOrder(i),c=Date.now(),d=o?{...s,metadata:o}:s,f={id:r,name:l??e.id[e.id.length-1],parent_run_id:i,start_time:c,serialized:e,events:[{name:"start",time:new Date(c).toISOString()}],inputs:{messages:n},execution_order:u,child_runs:[],child_execution_order:u,run_type:"llm",extra:d??{},tags:a||[]};return this._addRunToRunMap(f)}async handleChatModelStart(e,n,r,i,s,a,o,l){var c,d;const u=this.runMap.get(r)??this._createRunForChatModelStart(e,n,r,i,s,a,o,l);return await((c=this.onRunCreate)==null?void 0:c.call(this,u)),await((d=this.onLLMStart)==null?void 0:d.call(this,u)),u}async handleLLMEnd(e,n){var i;const r=this.runMap.get(n);if(!r||(r==null?void 0:r.run_type)!=="llm")throw new Error("No LLM run to end.");return r.end_time=Date.now(),r.outputs=e,r.events.push({name:"end",time:new Date(r.end_time).toISOString()}),await((i=this.onLLMEnd)==null?void 0:i.call(this,r)),await this._endTrace(r),r}async handleLLMError(e,n){var i;const r=this.runMap.get(n);if(!r||(r==null?void 0:r.run_type)!=="llm")throw new Error("No LLM run to end.");return r.end_time=Date.now(),r.error=this.stringifyError(e),r.events.push({name:"error",time:new Date(r.end_time).toISOString()}),await((i=this.onLLMError)==null?void 0:i.call(this,r)),await this._endTrace(r),r}_createRunForChainStart(e,n,r,i,s,a,o,l){const u=this._getExecutionOrder(i),c=Date.now(),d={id:r,name:l??e.id[e.id.length-1],parent_run_id:i,start_time:c,serialized:e,events:[{name:"start",time:new Date(c).toISOString()}],inputs:n,execution_order:u,child_execution_order:u,run_type:o??"chain",child_runs:[],extra:a?{metadata:a}:{},tags:s||[]};return this._addRunToRunMap(d)}async handleChainStart(e,n,r,i,s,a,o,l){var c,d;const u=this.runMap.get(r)??this._createRunForChainStart(e,n,r,i,s,a,o,l);return await((c=this.onRunCreate)==null?void 0:c.call(this,u)),await((d=this.onChainStart)==null?void 0:d.call(this,u)),u}async handleChainEnd(e,n,r,i,s){var o;const a=this.runMap.get(n);if(!a)throw new Error("No chain run to end.");return a.end_time=Date.now(),a.outputs=Wc(e,"output"),a.events.push({name:"end",time:new Date(a.end_time).toISOString()}),(s==null?void 0:s.inputs)!==void 0&&(a.inputs=Wc(s.inputs,"input")),await((o=this.onChainEnd)==null?void 0:o.call(this,a)),await this._endTrace(a),a}async handleChainError(e,n,r,i,s){var o;const a=this.runMap.get(n);if(!a)throw new Error("No chain run to end.");return a.end_time=Date.now(),a.error=this.stringifyError(e),a.events.push({name:"error",time:new Date(a.end_time).toISOString()}),(s==null?void 0:s.inputs)!==void 0&&(a.inputs=Wc(s.inputs,"input")),await((o=this.onChainError)==null?void 0:o.call(this,a)),await this._endTrace(a),a}_createRunForToolStart(e,n,r,i,s,a,o){const l=this._getExecutionOrder(i),u=Date.now(),c={id:r,name:o??e.id[e.id.length-1],parent_run_id:i,start_time:u,serialized:e,events:[{name:"start",time:new Date(u).toISOString()}],inputs:{input:n},execution_order:l,child_execution_order:l,run_type:"tool",child_runs:[],extra:a?{metadata:a}:{},tags:s||[]};return this._addRunToRunMap(c)}async handleToolStart(e,n,r,i,s,a,o){var u,c;const l=this.runMap.get(r)??this._createRunForToolStart(e,n,r,i,s,a,o);return await((u=this.onRunCreate)==null?void 0:u.call(this,l)),await((c=this.onToolStart)==null?void 0:c.call(this,l)),l}async handleToolEnd(e,n){var i;const r=this.runMap.get(n);if(!r||(r==null?void 0:r.run_type)!=="tool")throw new Error("No tool run to end");return r.end_time=Date.now(),r.outputs={output:e},r.events.push({name:"end",time:new Date(r.end_time).toISOString()}),await((i=this.onToolEnd)==null?void 0:i.call(this,r)),await this._endTrace(r),r}async handleToolError(e,n){var i;const r=this.runMap.get(n);if(!r||(r==null?void 0:r.run_type)!=="tool")throw new Error("No tool run to end");return r.end_time=Date.now(),r.error=this.stringifyError(e),r.events.push({name:"error",time:new Date(r.end_time).toISOString()}),await((i=this.onToolError)==null?void 0:i.call(this,r)),await this._endTrace(r),r}async handleAgentAction(e,n){var s;const r=this.runMap.get(n);if(!r||(r==null?void 0:r.run_type)!=="chain")return;const i=r;i.actions=i.actions||[],i.actions.push(e),i.events.push({name:"agent_action",time:new Date().toISOString(),kwargs:{action:e}}),await((s=this.onAgentAction)==null?void 0:s.call(this,r))}async handleAgentEnd(e,n){var i;const r=this.runMap.get(n);!r||(r==null?void 0:r.run_type)!=="chain"||(r.events.push({name:"agent_end",time:new Date().toISOString(),kwargs:{action:e}}),await((i=this.onAgentEnd)==null?void 0:i.call(this,r)))}_createRunForRetrieverStart(e,n,r,i,s,a,o){const l=this._getExecutionOrder(i),u=Date.now(),c={id:r,name:o??e.id[e.id.length-1],parent_run_id:i,start_time:u,serialized:e,events:[{name:"start",time:new Date(u).toISOString()}],inputs:{query:n},execution_order:l,child_execution_order:l,run_type:"retriever",child_runs:[],extra:a?{metadata:a}:{},tags:s||[]};return this._addRunToRunMap(c)}async handleRetrieverStart(e,n,r,i,s,a,o){var u,c;const l=this.runMap.get(r)??this._createRunForRetrieverStart(e,n,r,i,s,a,o);return await((u=this.onRunCreate)==null?void 0:u.call(this,l)),await((c=this.onRetrieverStart)==null?void 0:c.call(this,l)),l}async handleRetrieverEnd(e,n){var i;const r=this.runMap.get(n);if(!r||(r==null?void 0:r.run_type)!=="retriever")throw new Error("No retriever run to end");return r.end_time=Date.now(),r.outputs={documents:e},r.events.push({name:"end",time:new Date(r.end_time).toISOString()}),await((i=this.onRetrieverEnd)==null?void 0:i.call(this,r)),await this._endTrace(r),r}async handleRetrieverError(e,n){var i;const r=this.runMap.get(n);if(!r||(r==null?void 0:r.run_type)!=="retriever")throw new Error("No retriever run to end");return r.end_time=Date.now(),r.error=this.stringifyError(e),r.events.push({name:"error",time:new Date(r.end_time).toISOString()}),await((i=this.onRetrieverError)==null?void 0:i.call(this,r)),await this._endTrace(r),r}async handleText(e,n){var i;const r=this.runMap.get(n);!r||(r==null?void 0:r.run_type)!=="chain"||(r.events.push({name:"text",time:new Date().toISOString(),kwargs:{text:e}}),await((i=this.onText)==null?void 0:i.call(this,r)))}async handleLLMNewToken(e,n,r,i,s,a){var l;const o=this.runMap.get(r);if(!o||(o==null?void 0:o.run_type)!=="llm")throw new Error('Invalid "runId" provided to "handleLLMNewToken" callback.');return o.events.push({name:"new_token",time:new Date().toISOString(),kwargs:{token:e,idx:n,chunk:a==null?void 0:a.chunk}}),await((l=this.onLLMNewToken)==null?void 0:l.call(this,o,e,{chunk:a==null?void 0:a.chunk})),o}}var sx={},ax={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function s(l,u,c,d,f){if(typeof c!="function")throw new TypeError("The listener must be a function");var h=new i(c,d||l,f),p=n?n+u:u;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],h]:l._events[p].push(h):(l._events[p]=h,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)e.call(c,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},o.prototype.listeners=function(u){var c=n?n+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,h=d.length,p=new Array(h);f<h;f++)p[f]=d[f].fn;return p},o.prototype.listenerCount=function(u){var c=n?n+u:u,d=this._events[c];return d?d.fn?1:d.length:0},o.prototype.emit=function(u,c,d,f,h,p){var v=n?n+u:u;if(!this._events[v])return!1;var w=this._events[v],m=arguments.length,g,y;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),m){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,c),!0;case 3:return w.fn.call(w.context,c,d),!0;case 4:return w.fn.call(w.context,c,d,f),!0;case 5:return w.fn.call(w.context,c,d,f,h),!0;case 6:return w.fn.call(w.context,c,d,f,h,p),!0}for(y=1,g=new Array(m-1);y<m;y++)g[y-1]=arguments[y];w.fn.apply(w.context,g)}else{var b=w.length,x;for(y=0;y<b;y++)switch(w[y].once&&this.removeListener(u,w[y].fn,void 0,!0),m){case 1:w[y].fn.call(w[y].context);break;case 2:w[y].fn.call(w[y].context,c);break;case 3:w[y].fn.call(w[y].context,c,d);break;case 4:w[y].fn.call(w[y].context,c,d,f);break;default:if(!g)for(x=1,g=new Array(m-1);x<m;x++)g[x-1]=arguments[x];w[y].fn.apply(w[y].context,g)}}return!0},o.prototype.on=function(u,c,d){return s(this,u,c,d,!1)},o.prototype.once=function(u,c,d){return s(this,u,c,d,!0)},o.prototype.removeListener=function(u,c,d,f){var h=n?n+u:u;if(!this._events[h])return this;if(!c)return a(this,h),this;var p=this._events[h];if(p.fn)p.fn===c&&(!f||p.once)&&(!d||p.context===d)&&a(this,h);else{for(var v=0,w=[],m=p.length;v<m;v++)(p[v].fn!==c||f&&!p[v].once||d&&p[v].context!==d)&&w.push(p[v]);w.length?this._events[h]=w.length===1?w[0]:w:a(this,h)}return this},o.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&a(this,c)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(ax);var dI=ax.exports,Vu={exports:{}},fI=(t,e)=>(e=e||(()=>{}),t.then(n=>new Promise(r=>{r(e())}).then(()=>n),n=>new Promise(r=>{r(e())}).then(()=>{throw n})));const hI=fI;class ox extends Error{constructor(e){super(e),this.name="TimeoutError"}}const lx=(t,e,n)=>new Promise((r,i)=>{if(typeof e!="number"||e<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(e===1/0){r(t);return}const s=setTimeout(()=>{if(typeof n=="function"){try{r(n())}catch(l){i(l)}return}const a=typeof n=="string"?n:`Promise timed out after ${e} milliseconds`,o=n instanceof Error?n:new ox(a);typeof t.cancel=="function"&&t.cancel(),i(o)},e);hI(t.then(r,i),()=>{clearTimeout(s)})});Vu.exports=lx;Vu.exports.default=lx;Vu.exports.TimeoutError=ox;var pI=Vu.exports,_p={},bp={};Object.defineProperty(bp,"__esModule",{value:!0});function mI(t,e,n){let r=0,i=t.length;for(;i>0;){const s=i/2|0;let a=r+s;n(t[a],e)<=0?(r=++a,i-=s+1):i=s}return r}bp.default=mI;Object.defineProperty(_p,"__esModule",{value:!0});const gI=bp;class yI{constructor(){this._queue=[]}enqueue(e,n){n=Object.assign({priority:0},n);const r={priority:n.priority,run:e};if(this.size&&this._queue[this.size-1].priority>=n.priority){this._queue.push(r);return}const i=gI.default(this._queue,r,(s,a)=>a.priority-s.priority);this._queue.splice(i,0,r)}dequeue(){const e=this._queue.shift();return e==null?void 0:e.run}filter(e){return this._queue.filter(n=>n.priority===e.priority).map(n=>n.run)}get size(){return this._queue.length}}_p.default=yI;Object.defineProperty(sx,"__esModule",{value:!0});const vI=dI,ux=pI,wI=_p,No=()=>{},_I=new ux.TimeoutError;class bI extends vI{constructor(e){var n,r,i,s;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=No,this._resolveIdle=No,e=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:wI.default},e),!(typeof e.intervalCap=="number"&&e.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(r=(n=e.intervalCap)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:""}\` (${typeof e.intervalCap})`);if(e.interval===void 0||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(s=(i=e.interval)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""}\` (${typeof e.interval})`);this._carryoverConcurrencyCount=e.carryoverConcurrencyCount,this._isIntervalIgnored=e.intervalCap===1/0||e.interval===0,this._intervalCap=e.intervalCap,this._interval=e.interval,this._queue=new e.queueClass,this._queueClass=e.queueClass,this.concurrency=e.concurrency,this._timeout=e.timeout,this._throwOnTimeout=e.throwOnTimeout===!0,this._isPaused=e.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=No,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=No,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){const e=Date.now();if(this._intervalId===void 0){const n=this._intervalEnd-e;if(n<0)this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;else return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},n)),!0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){const e=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){const n=this._queue.dequeue();return n?(this.emit("active"),n(),e&&this._initializeIntervalIfNeeded(),!0):!1}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(e){if(!(typeof e=="number"&&e>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);this._concurrency=e,this._processQueue()}async add(e,n={}){return new Promise((r,i)=>{const s=async()=>{this._pendingCount++,this._intervalCount++;try{const a=this._timeout===void 0&&n.timeout===void 0?e():ux.default(Promise.resolve(e()),n.timeout===void 0?this._timeout:n.timeout,()=>{(n.throwOnTimeout===void 0?this._throwOnTimeout:n.throwOnTimeout)&&i(_I)});r(await a)}catch(a){i(a)}this._next()};this._queue.enqueue(s,n),this._tryToStartAnother(),this.emit("add")})}async addAll(e,n){return Promise.all(e.map(async r=>this.add(r,n)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(e=>{const n=this._resolveEmpty;this._resolveEmpty=()=>{n(),e()}})}async onIdle(){if(!(this._pendingCount===0&&this._queue.size===0))return new Promise(e=>{const n=this._resolveIdle;this._resolveIdle=()=>{n(),e()}})}get size(){return this._queue.size}sizeBy(e){return this._queue.filter(e).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(e){this._timeout=e}}var An=sx.default=bI;const xI=(...t)=>fetch(...t),EI=Symbol.for("ls:fetch_implementation"),G=()=>globalThis[EI]??xI,SI=[400,401,403,404,405,406,407,408],TI=[409];let ky=class{constructor(e){Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onFailedResponseHook",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxConcurrency=e.maxConcurrency??1/0,this.maxRetries=e.maxRetries??6,"default"in An?this.queue=new An.default({concurrency:this.maxConcurrency}):this.queue=new An({concurrency:this.maxConcurrency}),this.onFailedResponseHook=e==null?void 0:e.onFailedResponseHook}call(e,...n){const r=this.onFailedResponseHook;return this.queue.add(()=>zl(()=>e(...n).catch(i=>{throw i instanceof Error?i:new Error(i)}),{async onFailedAttempt(i){if(i.message.startsWith("Cancel")||i.message.startsWith("TimeoutError")||i.message.startsWith("AbortError")||(i==null?void 0:i.code)==="ECONNABORTED")throw i;const s=i==null?void 0:i.response,a=s==null?void 0:s.status;if(a){if(SI.includes(+a))throw i;if(TI.includes(+a))return;r&&await r(s)}},retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0})}callWithOptions(e,n,...r){return e.signal?Promise.race([this.call(n,...r),new Promise((i,s)=>{var a;(a=e.signal)==null||a.addEventListener("abort",()=>{s(new Error("AbortError"))})})]):this.call(n,...r)}fetch(...e){return this.call(()=>G()(...e).then(n=>n.ok?n:Promise.reject(n)))}};function Cy(t){return typeof(t==null?void 0:t._getType)=="function"}function Ry(t){const e={type:t._getType(),data:{content:t.content}};return t!=null&&t.additional_kwargs&&Object.keys(t.additional_kwargs).length>0&&(e.data.additional_kwargs={...t.additional_kwargs}),e}var ea={};let wn;const PI=()=>typeof window<"u"&&typeof window.document<"u",kI=()=>typeof globalThis=="object"&&globalThis.constructor&&globalThis.constructor.name==="DedicatedWorkerGlobalScope",CI=()=>typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),cx=()=>typeof Deno<"u",RI=()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"&&!cx(),OI=()=>wn||(PI()?wn="browser":RI()?wn="node":kI()?wn="webworker":CI()?wn="jsdom":cx()?wn="deno":wn="other",wn);let Gc;async function dx(){if(Gc===void 0){const t=OI(),e=II();Gc={library:"langsmith",runtime:t,sdk:"langsmith-js",sdk_version:bx,...e}}return Gc}function AI(){const t=NI()||{},e={},n=["LANGCHAIN_API_KEY","LANGCHAIN_ENDPOINT","LANGCHAIN_TRACING_V2","LANGCHAIN_PROJECT","LANGCHAIN_SESSION"];for(const[r,i]of Object.entries(t))r.startsWith("LANGCHAIN_")&&typeof i=="string"&&!n.includes(r)&&!r.toLowerCase().includes("key")&&!r.toLowerCase().includes("secret")&&!r.toLowerCase().includes("token")&&(r==="LANGCHAIN_REVISION_ID"?e.revision_id=i:e[r]=i);return e}function NI(){try{return typeof process<"u"&&ea?Object.entries(ea).reduce((t,[e,n])=>(t[e]=String(n),t),{}):void 0}catch{return}}function Vr(t){try{return typeof process<"u"?ea==null?void 0:ea[t]:void 0}catch{return}}function $r(t){return Vr(`LANGSMITH_${t}`)||Vr(`LANGCHAIN_${t}`)}let Zc;function II(){if(Zc!==void 0)return Zc;const t=["VERCEL_GIT_COMMIT_SHA","NEXT_PUBLIC_VERCEL_GIT_COMMIT_SHA","COMMIT_REF","RENDER_GIT_COMMIT","CI_COMMIT_SHA","CIRCLE_SHA1","CF_PAGES_COMMIT_SHA","REACT_APP_GIT_SHA","SOURCE_VERSION","GITHUB_SHA","TRAVIS_COMMIT","GIT_COMMIT","BUILD_VCS_NUMBER","bamboo_planRepository_revision","Build.SourceVersion","BITBUCKET_COMMIT","DRONE_COMMIT_SHA","SEMAPHORE_GIT_SHA","BUILDKITE_COMMIT"],e={};for(const n of t){const r=Vr(n);r!==void 0&&(e[n]=r)}return Zc=e,e}function ie(t){if(!Hl(t))throw new Error(`Invalid UUID: ${t}`)}const Oy={};function fx(t){Oy[t]||(console.warn(t),Oy[t]=!0)}var $f={exports:{}};const jI="2.0.0",hx=256,LI=Number.MAX_SAFE_INTEGER||9007199254740991,$I=16,DI=hx-6,MI=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var Bu={MAX_LENGTH:hx,MAX_SAFE_COMPONENT_LENGTH:$I,MAX_SAFE_BUILD_LENGTH:DI,MAX_SAFE_INTEGER:LI,RELEASE_TYPES:MI,SEMVER_SPEC_VERSION:jI,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},Kc={};const FI=typeof process=="object"&&Kc&&Kc.NODE_DEBUG&&/\bsemver\b/i.test(Kc.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var zu=FI;(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:i}=Bu,s=zu;e=t.exports={};const a=e.re=[],o=e.safeRe=[],l=e.src=[],u=e.t={};let c=0;const d="[a-zA-Z0-9-]",f=[["\\s",1],["\\d",i],[d,r]],h=v=>{for(const[w,m]of f)v=v.split(`${w}*`).join(`${w}{0,${m}}`).split(`${w}+`).join(`${w}{1,${m}}`);return v},p=(v,w,m)=>{const g=h(w),y=c++;s(v,y,w),u[v]=y,l[y]=w,a[y]=new RegExp(w,m?"g":void 0),o[y]=new RegExp(g,m?"g":void 0)};p("NUMERICIDENTIFIER","0|[1-9]\\d*"),p("NUMERICIDENTIFIERLOOSE","\\d+"),p("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${d}*`),p("MAINVERSION",`(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})`),p("MAINVERSIONLOOSE",`(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})`),p("PRERELEASEIDENTIFIER",`(?:${l[u.NUMERICIDENTIFIER]}|${l[u.NONNUMERICIDENTIFIER]})`),p("PRERELEASEIDENTIFIERLOOSE",`(?:${l[u.NUMERICIDENTIFIERLOOSE]}|${l[u.NONNUMERICIDENTIFIER]})`),p("PRERELEASE",`(?:-(${l[u.PRERELEASEIDENTIFIER]}(?:\\.${l[u.PRERELEASEIDENTIFIER]})*))`),p("PRERELEASELOOSE",`(?:-?(${l[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[u.PRERELEASEIDENTIFIERLOOSE]})*))`),p("BUILDIDENTIFIER",`${d}+`),p("BUILD",`(?:\\+(${l[u.BUILDIDENTIFIER]}(?:\\.${l[u.BUILDIDENTIFIER]})*))`),p("FULLPLAIN",`v?${l[u.MAINVERSION]}${l[u.PRERELEASE]}?${l[u.BUILD]}?`),p("FULL",`^${l[u.FULLPLAIN]}$`),p("LOOSEPLAIN",`[v=\\s]*${l[u.MAINVERSIONLOOSE]}${l[u.PRERELEASELOOSE]}?${l[u.BUILD]}?`),p("LOOSE",`^${l[u.LOOSEPLAIN]}$`),p("GTLT","((?:<|>)?=?)"),p("XRANGEIDENTIFIERLOOSE",`${l[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),p("XRANGEIDENTIFIER",`${l[u.NUMERICIDENTIFIER]}|x|X|\\*`),p("XRANGEPLAIN",`[v=\\s]*(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:${l[u.PRERELEASE]})?${l[u.BUILD]}?)?)?`),p("XRANGEPLAINLOOSE",`[v=\\s]*(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:${l[u.PRERELEASELOOSE]})?${l[u.BUILD]}?)?)?`),p("XRANGE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAIN]}$`),p("XRANGELOOSE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAINLOOSE]}$`),p("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),p("COERCE",`${l[u.COERCEPLAIN]}(?:$|[^\\d])`),p("COERCEFULL",l[u.COERCEPLAIN]+`(?:${l[u.PRERELEASE]})?(?:${l[u.BUILD]})?(?:$|[^\\d])`),p("COERCERTL",l[u.COERCE],!0),p("COERCERTLFULL",l[u.COERCEFULL],!0),p("LONETILDE","(?:~>?)"),p("TILDETRIM",`(\\s*)${l[u.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",p("TILDE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAIN]}$`),p("TILDELOOSE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAINLOOSE]}$`),p("LONECARET","(?:\\^)"),p("CARETTRIM",`(\\s*)${l[u.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",p("CARET",`^${l[u.LONECARET]}${l[u.XRANGEPLAIN]}$`),p("CARETLOOSE",`^${l[u.LONECARET]}${l[u.XRANGEPLAINLOOSE]}$`),p("COMPARATORLOOSE",`^${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]})$|^$`),p("COMPARATOR",`^${l[u.GTLT]}\\s*(${l[u.FULLPLAIN]})$|^$`),p("COMPARATORTRIM",`(\\s*)${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]}|${l[u.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",p("HYPHENRANGE",`^\\s*(${l[u.XRANGEPLAIN]})\\s+-\\s+(${l[u.XRANGEPLAIN]})\\s*$`),p("HYPHENRANGELOOSE",`^\\s*(${l[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[u.XRANGEPLAINLOOSE]})\\s*$`),p("STAR","(<|>)?=?\\s*\\*"),p("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),p("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})($f,$f.exports);var ao=$f.exports;const UI=Object.freeze({loose:!0}),VI=Object.freeze({}),BI=t=>t?typeof t!="object"?UI:t:VI;var xp=BI;const Ay=/^[0-9]+$/,px=(t,e)=>{const n=Ay.test(t),r=Ay.test(e);return n&&r&&(t=+t,e=+e),t===e?0:n&&!r?-1:r&&!n?1:t<e?-1:1},zI=(t,e)=>px(e,t);var mx={compareIdentifiers:px,rcompareIdentifiers:zI};const Io=zu,{MAX_LENGTH:Ny,MAX_SAFE_INTEGER:jo}=Bu,{safeRe:Iy,t:jy}=ao,HI=xp,{compareIdentifiers:pi}=mx;let WI=class on{constructor(e,n){if(n=HI(n),e instanceof on){if(e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>Ny)throw new TypeError(`version is longer than ${Ny} characters`);Io("SemVer",e,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;const r=e.trim().match(n.loose?Iy[jy.LOOSE]:Iy[jy.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>jo||this.major<0)throw new TypeError("Invalid major version");if(this.minor>jo||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>jo||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const s=+i;if(s>=0&&s<jo)return s}return i}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Io("SemVer.compare",this.version,this.options,e),!(e instanceof on)){if(typeof e=="string"&&e===this.version)return 0;e=new on(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof on||(e=new on(e,this.options)),pi(this.major,e.major)||pi(this.minor,e.minor)||pi(this.patch,e.patch)}comparePre(e){if(e instanceof on||(e=new on(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let n=0;do{const r=this.prerelease[n],i=e.prerelease[n];if(Io("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return pi(r,i)}while(++n)}compareBuild(e){e instanceof on||(e=new on(e,this.options));let n=0;do{const r=this.build[n],i=e.build[n];if(Io("build compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return pi(r,i)}while(++n)}inc(e,n,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,r),this.inc("pre",n,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,r),this.inc("pre",n,r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(r)?1:0;if(!n&&r===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(n===this.prerelease.join(".")&&r===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(n){let s=[n,i];r===!1&&(s=[n]),pi(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var it=WI;const Ly=it,GI=(t,e,n=!1)=>{if(t instanceof Ly)return t;try{return new Ly(t,e)}catch(r){if(!n)return null;throw r}};var ps=GI;const ZI=ps,KI=(t,e)=>{const n=ZI(t,e);return n?n.version:null};var qI=KI;const JI=ps,XI=(t,e)=>{const n=JI(t.trim().replace(/^[=v]+/,""),e);return n?n.version:null};var QI=XI;const $y=it,YI=(t,e,n,r,i)=>{typeof n=="string"&&(i=r,r=n,n=void 0);try{return new $y(t instanceof $y?t.version:t,n).inc(e,r,i).version}catch{return null}};var ej=YI;const Dy=ps,tj=(t,e)=>{const n=Dy(t,null,!0),r=Dy(e,null,!0),i=n.compare(r);if(i===0)return null;const s=i>0,a=s?n:r,o=s?r:n,l=!!a.prerelease.length;if(!!o.prerelease.length&&!l)return!o.patch&&!o.minor?"major":a.patch?"patch":a.minor?"minor":"major";const c=l?"pre":"";return n.major!==r.major?c+"major":n.minor!==r.minor?c+"minor":n.patch!==r.patch?c+"patch":"prerelease"};var nj=tj;const rj=it,ij=(t,e)=>new rj(t,e).major;var sj=ij;const aj=it,oj=(t,e)=>new aj(t,e).minor;var lj=oj;const uj=it,cj=(t,e)=>new uj(t,e).patch;var dj=cj;const fj=ps,hj=(t,e)=>{const n=fj(t,e);return n&&n.prerelease.length?n.prerelease:null};var pj=hj;const My=it,mj=(t,e,n)=>new My(t,n).compare(new My(e,n));var rn=mj;const gj=rn,yj=(t,e,n)=>gj(e,t,n);var vj=yj;const wj=rn,_j=(t,e)=>wj(t,e,!0);var bj=_j;const Fy=it,xj=(t,e,n)=>{const r=new Fy(t,n),i=new Fy(e,n);return r.compare(i)||r.compareBuild(i)};var Ep=xj;const Ej=Ep,Sj=(t,e)=>t.sort((n,r)=>Ej(n,r,e));var Tj=Sj;const Pj=Ep,kj=(t,e)=>t.sort((n,r)=>Pj(r,n,e));var Cj=kj;const Rj=rn,Oj=(t,e,n)=>Rj(t,e,n)>0;var Hu=Oj;const Aj=rn,Nj=(t,e,n)=>Aj(t,e,n)<0;var Sp=Nj;const Ij=rn,jj=(t,e,n)=>Ij(t,e,n)===0;var gx=jj;const Lj=rn,$j=(t,e,n)=>Lj(t,e,n)!==0;var yx=$j;const Dj=rn,Mj=(t,e,n)=>Dj(t,e,n)>=0;var Tp=Mj;const Fj=rn,Uj=(t,e,n)=>Fj(t,e,n)<=0;var Pp=Uj;const Vj=gx,Bj=yx,zj=Hu,Hj=Tp,Wj=Sp,Gj=Pp,Zj=(t,e,n,r)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t===n;case"!==":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t!==n;case"":case"=":case"==":return Vj(t,n,r);case"!=":return Bj(t,n,r);case">":return zj(t,n,r);case">=":return Hj(t,n,r);case"<":return Wj(t,n,r);case"<=":return Gj(t,n,r);default:throw new TypeError(`Invalid operator: ${e}`)}};var vx=Zj;const Kj=it,qj=ps,{safeRe:Lo,t:$o}=ao,Jj=(t,e)=>{if(t instanceof Kj)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let n=null;if(!e.rtl)n=t.match(e.includePrerelease?Lo[$o.COERCEFULL]:Lo[$o.COERCE]);else{const l=e.includePrerelease?Lo[$o.COERCERTLFULL]:Lo[$o.COERCERTL];let u;for(;(u=l.exec(t))&&(!n||n.index+n[0].length!==t.length);)(!n||u.index+u[0].length!==n.index+n[0].length)&&(n=u),l.lastIndex=u.index+u[1].length+u[2].length;l.lastIndex=-1}if(n===null)return null;const r=n[2],i=n[3]||"0",s=n[4]||"0",a=e.includePrerelease&&n[5]?`-${n[5]}`:"",o=e.includePrerelease&&n[6]?`+${n[6]}`:"";return qj(`${r}.${i}.${s}${a}${o}`,e)};var Xj=Jj;class Qj{constructor(){this.max=1e3,this.map=new Map}get(e){const n=this.map.get(e);if(n!==void 0)return this.map.delete(e),this.map.set(e,n),n}delete(e){return this.map.delete(e)}set(e,n){if(!this.delete(e)&&n!==void 0){if(this.map.size>=this.max){const i=this.map.keys().next().value;this.delete(i)}this.map.set(e,n)}return this}}var Yj=Qj,qc,Uy;function sn(){if(Uy)return qc;Uy=1;const t=/\s+/g;class e{constructor(R,D){if(D=i(D),R instanceof e)return R.loose===!!D.loose&&R.includePrerelease===!!D.includePrerelease?R:new e(R.raw,D);if(R instanceof s)return this.raw=R.value,this.set=[[R]],this.formatted=void 0,this;if(this.options=D,this.loose=!!D.loose,this.includePrerelease=!!D.includePrerelease,this.raw=R.trim().replace(t," "),this.set=this.raw.split("||").map(U=>this.parseRange(U.trim())).filter(U=>U.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const U=this.set[0];if(this.set=this.set.filter(S=>!v(S[0])),this.set.length===0)this.set=[U];else if(this.set.length>1){for(const S of this.set)if(S.length===1&&w(S[0])){this.set=[S];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let R=0;R<this.set.length;R++){R>0&&(this.formatted+="||");const D=this.set[R];for(let U=0;U<D.length;U++)U>0&&(this.formatted+=" "),this.formatted+=D[U].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(R){const U=((this.options.includePrerelease&&h)|(this.options.loose&&p))+":"+R,S=r.get(U);if(S)return S;const C=this.options.loose,P=C?l[u.HYPHENRANGELOOSE]:l[u.HYPHENRANGE];R=R.replace(P,Ae(this.options.includePrerelease)),a("hyphen replace",R),R=R.replace(l[u.COMPARATORTRIM],c),a("comparator trim",R),R=R.replace(l[u.TILDETRIM],d),a("tilde trim",R),R=R.replace(l[u.CARETTRIM],f),a("caret trim",R);let V=R.split(" ").map(he=>g(he,this.options)).join(" ").split(/\s+/).map(he=>ee(he,this.options));C&&(V=V.filter(he=>(a("loose invalid filter",he,this.options),!!he.match(l[u.COMPARATORLOOSE])))),a("range list",V);const M=new Map,K=V.map(he=>new s(he,this.options));for(const he of K){if(v(he))return[he];M.set(he.value,he)}M.size>1&&M.has("")&&M.delete("");const ue=[...M.values()];return r.set(U,ue),ue}intersects(R,D){if(!(R instanceof e))throw new TypeError("a Range is required");return this.set.some(U=>m(U,D)&&R.set.some(S=>m(S,D)&&U.every(C=>S.every(P=>C.intersects(P,D)))))}test(R){if(!R)return!1;if(typeof R=="string")try{R=new o(R,this.options)}catch{return!1}for(let D=0;D<this.set.length;D++)if(Xe(this.set[D],R,this.options))return!0;return!1}}qc=e;const n=Yj,r=new n,i=xp,s=Wu(),a=zu,o=it,{safeRe:l,t:u,comparatorTrimReplace:c,tildeTrimReplace:d,caretTrimReplace:f}=ao,{FLAG_INCLUDE_PRERELEASE:h,FLAG_LOOSE:p}=Bu,v=j=>j.value==="<0.0.0-0",w=j=>j.value==="",m=(j,R)=>{let D=!0;const U=j.slice();let S=U.pop();for(;D&&U.length;)D=U.every(C=>S.intersects(C,R)),S=U.pop();return D},g=(j,R)=>(a("comp",j,R),j=T(j,R),a("caret",j),j=b(j,R),a("tildes",j),j=k(j,R),a("xrange",j),j=B(j,R),a("stars",j),j),y=j=>!j||j.toLowerCase()==="x"||j==="*",b=(j,R)=>j.trim().split(/\s+/).map(D=>x(D,R)).join(" "),x=(j,R)=>{const D=R.loose?l[u.TILDELOOSE]:l[u.TILDE];return j.replace(D,(U,S,C,P,V)=>{a("tilde",j,U,S,C,P,V);let M;return y(S)?M="":y(C)?M=`>=${S}.0.0 <${+S+1}.0.0-0`:y(P)?M=`>=${S}.${C}.0 <${S}.${+C+1}.0-0`:V?(a("replaceTilde pr",V),M=`>=${S}.${C}.${P}-${V} <${S}.${+C+1}.0-0`):M=`>=${S}.${C}.${P} <${S}.${+C+1}.0-0`,a("tilde return",M),M})},T=(j,R)=>j.trim().split(/\s+/).map(D=>O(D,R)).join(" "),O=(j,R)=>{a("caret",j,R);const D=R.loose?l[u.CARETLOOSE]:l[u.CARET],U=R.includePrerelease?"-0":"";return j.replace(D,(S,C,P,V,M)=>{a("caret",j,S,C,P,V,M);let K;return y(C)?K="":y(P)?K=`>=${C}.0.0${U} <${+C+1}.0.0-0`:y(V)?C==="0"?K=`>=${C}.${P}.0${U} <${C}.${+P+1}.0-0`:K=`>=${C}.${P}.0${U} <${+C+1}.0.0-0`:M?(a("replaceCaret pr",M),C==="0"?P==="0"?K=`>=${C}.${P}.${V}-${M} <${C}.${P}.${+V+1}-0`:K=`>=${C}.${P}.${V}-${M} <${C}.${+P+1}.0-0`:K=`>=${C}.${P}.${V}-${M} <${+C+1}.0.0-0`):(a("no pr"),C==="0"?P==="0"?K=`>=${C}.${P}.${V}${U} <${C}.${P}.${+V+1}-0`:K=`>=${C}.${P}.${V}${U} <${C}.${+P+1}.0-0`:K=`>=${C}.${P}.${V} <${+C+1}.0.0-0`),a("caret return",K),K})},k=(j,R)=>(a("replaceXRanges",j,R),j.split(/\s+/).map(D=>Z(D,R)).join(" ")),Z=(j,R)=>{j=j.trim();const D=R.loose?l[u.XRANGELOOSE]:l[u.XRANGE];return j.replace(D,(U,S,C,P,V,M)=>{a("xRange",j,U,S,C,P,V,M);const K=y(C),ue=K||y(P),he=ue||y(V),ht=he;return S==="="&&ht&&(S=""),M=R.includePrerelease?"-0":"",K?S===">"||S==="<"?U="<0.0.0-0":U="*":S&&ht?(ue&&(P=0),V=0,S===">"?(S=">=",ue?(C=+C+1,P=0,V=0):(P=+P+1,V=0)):S==="<="&&(S="<",ue?C=+C+1:P=+P+1),S==="<"&&(M="-0"),U=`${S+C}.${P}.${V}${M}`):ue?U=`>=${C}.0.0${M} <${+C+1}.0.0-0`:he&&(U=`>=${C}.${P}.0${M} <${C}.${+P+1}.0-0`),a("xRange return",U),U})},B=(j,R)=>(a("replaceStars",j,R),j.trim().replace(l[u.STAR],"")),ee=(j,R)=>(a("replaceGTE0",j,R),j.trim().replace(l[R.includePrerelease?u.GTE0PRE:u.GTE0],"")),Ae=j=>(R,D,U,S,C,P,V,M,K,ue,he,ht)=>(y(U)?D="":y(S)?D=`>=${U}.0.0${j?"-0":""}`:y(C)?D=`>=${U}.${S}.0${j?"-0":""}`:P?D=`>=${D}`:D=`>=${D}${j?"-0":""}`,y(K)?M="":y(ue)?M=`<${+K+1}.0.0-0`:y(he)?M=`<${K}.${+ue+1}.0-0`:ht?M=`<=${K}.${ue}.${he}-${ht}`:j?M=`<${K}.${ue}.${+he+1}-0`:M=`<=${M}`,`${D} ${M}`.trim()),Xe=(j,R,D)=>{for(let U=0;U<j.length;U++)if(!j[U].test(R))return!1;if(R.prerelease.length&&!D.includePrerelease){for(let U=0;U<j.length;U++)if(a(j[U].semver),j[U].semver!==s.ANY&&j[U].semver.prerelease.length>0){const S=j[U].semver;if(S.major===R.major&&S.minor===R.minor&&S.patch===R.patch)return!0}return!1}return!0};return qc}var Jc,Vy;function Wu(){if(Vy)return Jc;Vy=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(c,d){if(d=n(d),c instanceof e){if(c.loose===!!d.loose)return c;c=c.value}c=c.trim().split(/\s+/).join(" "),a("comparator",c,d),this.options=d,this.loose=!!d.loose,this.parse(c),this.semver===t?this.value="":this.value=this.operator+this.semver.version,a("comp",this)}parse(c){const d=this.options.loose?r[i.COMPARATORLOOSE]:r[i.COMPARATOR],f=c.match(d);if(!f)throw new TypeError(`Invalid comparator: ${c}`);this.operator=f[1]!==void 0?f[1]:"",this.operator==="="&&(this.operator=""),f[2]?this.semver=new o(f[2],this.options.loose):this.semver=t}toString(){return this.value}test(c){if(a("Comparator.test",c,this.options.loose),this.semver===t||c===t)return!0;if(typeof c=="string")try{c=new o(c,this.options)}catch{return!1}return s(c,this.operator,this.semver,this.options)}intersects(c,d){if(!(c instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new l(c.value,d).test(this.value):c.operator===""?c.value===""?!0:new l(this.value,d).test(c.semver):(d=n(d),d.includePrerelease&&(this.value==="<0.0.0-0"||c.value==="<0.0.0-0")||!d.includePrerelease&&(this.value.startsWith("<0.0.0")||c.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&c.operator.startsWith(">")||this.operator.startsWith("<")&&c.operator.startsWith("<")||this.semver.version===c.semver.version&&this.operator.includes("=")&&c.operator.includes("=")||s(this.semver,"<",c.semver,d)&&this.operator.startsWith(">")&&c.operator.startsWith("<")||s(this.semver,">",c.semver,d)&&this.operator.startsWith("<")&&c.operator.startsWith(">")))}}Jc=e;const n=xp,{safeRe:r,t:i}=ao,s=vx,a=zu,o=it,l=sn();return Jc}const eL=sn(),tL=(t,e,n)=>{try{e=new eL(e,n)}catch{return!1}return e.test(t)};var Gu=tL;const nL=sn(),rL=(t,e)=>new nL(t,e).set.map(n=>n.map(r=>r.value).join(" ").trim().split(" "));var iL=rL;const sL=it,aL=sn(),oL=(t,e,n)=>{let r=null,i=null,s=null;try{s=new aL(e,n)}catch{return null}return t.forEach(a=>{s.test(a)&&(!r||i.compare(a)===-1)&&(r=a,i=new sL(r,n))}),r};var lL=oL;const uL=it,cL=sn(),dL=(t,e,n)=>{let r=null,i=null,s=null;try{s=new cL(e,n)}catch{return null}return t.forEach(a=>{s.test(a)&&(!r||i.compare(a)===1)&&(r=a,i=new uL(r,n))}),r};var fL=dL;const Xc=it,hL=sn(),By=Hu,pL=(t,e)=>{t=new hL(t,e);let n=new Xc("0.0.0");if(t.test(n)||(n=new Xc("0.0.0-0"),t.test(n)))return n;n=null;for(let r=0;r<t.set.length;++r){const i=t.set[r];let s=null;i.forEach(a=>{const o=new Xc(a.semver.version);switch(a.operator){case">":o.prerelease.length===0?o.patch++:o.prerelease.push(0),o.raw=o.format();case"":case">=":(!s||By(o,s))&&(s=o);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${a.operator}`)}}),s&&(!n||By(n,s))&&(n=s)}return n&&t.test(n)?n:null};var mL=pL;const gL=sn(),yL=(t,e)=>{try{return new gL(t,e).range||"*"}catch{return null}};var vL=yL;const wL=it,wx=Wu(),{ANY:_L}=wx,bL=sn(),xL=Gu,zy=Hu,Hy=Sp,EL=Pp,SL=Tp,TL=(t,e,n,r)=>{t=new wL(t,r),e=new bL(e,r);let i,s,a,o,l;switch(n){case">":i=zy,s=EL,a=Hy,o=">",l=">=";break;case"<":i=Hy,s=SL,a=zy,o="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(xL(t,e,r))return!1;for(let u=0;u<e.set.length;++u){const c=e.set[u];let d=null,f=null;if(c.forEach(h=>{h.semver===_L&&(h=new wx(">=0.0.0")),d=d||h,f=f||h,i(h.semver,d.semver,r)?d=h:a(h.semver,f.semver,r)&&(f=h)}),d.operator===o||d.operator===l||(!f.operator||f.operator===o)&&s(t,f.semver))return!1;if(f.operator===l&&a(t,f.semver))return!1}return!0};var kp=TL;const PL=kp,kL=(t,e,n)=>PL(t,e,">",n);var CL=kL;const RL=kp,OL=(t,e,n)=>RL(t,e,"<",n);var AL=OL;const Wy=sn(),NL=(t,e,n)=>(t=new Wy(t,n),e=new Wy(e,n),t.intersects(e,n));var IL=NL;const jL=Gu,LL=rn;var $L=(t,e,n)=>{const r=[];let i=null,s=null;const a=t.sort((c,d)=>LL(c,d,n));for(const c of a)jL(c,e,n)?(s=c,i||(i=c)):(s&&r.push([i,s]),s=null,i=null);i&&r.push([i,null]);const o=[];for(const[c,d]of r)c===d?o.push(c):!d&&c===a[0]?o.push("*"):d?c===a[0]?o.push(`<=${d}`):o.push(`${c} - ${d}`):o.push(`>=${c}`);const l=o.join(" || "),u=typeof e.raw=="string"?e.raw:String(e);return l.length<u.length?l:e};const Gy=sn(),Cp=Wu(),{ANY:Qc}=Cp,Cs=Gu,Rp=rn,DL=(t,e,n={})=>{if(t===e)return!0;t=new Gy(t,n),e=new Gy(e,n);let r=!1;e:for(const i of t.set){for(const s of e.set){const a=FL(i,s,n);if(r=r||a!==null,a)continue e}if(r)return!1}return!0},ML=[new Cp(">=0.0.0-0")],Zy=[new Cp(">=0.0.0")],FL=(t,e,n)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===Qc){if(e.length===1&&e[0].semver===Qc)return!0;n.includePrerelease?t=ML:t=Zy}if(e.length===1&&e[0].semver===Qc){if(n.includePrerelease)return!0;e=Zy}const r=new Set;let i,s;for(const h of t)h.operator===">"||h.operator===">="?i=Ky(i,h,n):h.operator==="<"||h.operator==="<="?s=qy(s,h,n):r.add(h.semver);if(r.size>1)return null;let a;if(i&&s){if(a=Rp(i.semver,s.semver,n),a>0)return null;if(a===0&&(i.operator!==">="||s.operator!=="<="))return null}for(const h of r){if(i&&!Cs(h,String(i),n)||s&&!Cs(h,String(s),n))return null;for(const p of e)if(!Cs(h,String(p),n))return!1;return!0}let o,l,u,c,d=s&&!n.includePrerelease&&s.semver.prerelease.length?s.semver:!1,f=i&&!n.includePrerelease&&i.semver.prerelease.length?i.semver:!1;d&&d.prerelease.length===1&&s.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(const h of e){if(c=c||h.operator===">"||h.operator===">=",u=u||h.operator==="<"||h.operator==="<=",i){if(f&&h.semver.prerelease&&h.semver.prerelease.length&&h.semver.major===f.major&&h.semver.minor===f.minor&&h.semver.patch===f.patch&&(f=!1),h.operator===">"||h.operator===">="){if(o=Ky(i,h,n),o===h&&o!==i)return!1}else if(i.operator===">="&&!Cs(i.semver,String(h),n))return!1}if(s){if(d&&h.semver.prerelease&&h.semver.prerelease.length&&h.semver.major===d.major&&h.semver.minor===d.minor&&h.semver.patch===d.patch&&(d=!1),h.operator==="<"||h.operator==="<="){if(l=qy(s,h,n),l===h&&l!==s)return!1}else if(s.operator==="<="&&!Cs(s.semver,String(h),n))return!1}if(!h.operator&&(s||i)&&a!==0)return!1}return!(i&&u&&!s&&a!==0||s&&c&&!i&&a!==0||f||d)},Ky=(t,e,n)=>{if(!t)return e;const r=Rp(t.semver,e.semver,n);return r>0?t:r<0||e.operator===">"&&t.operator===">="?e:t},qy=(t,e,n)=>{if(!t)return e;const r=Rp(t.semver,e.semver,n);return r<0?t:r>0||e.operator==="<"&&t.operator==="<="?e:t};var UL=DL;const Yc=ao,Jy=Bu,VL=it,Xy=mx,BL=ps,zL=qI,HL=QI,WL=ej,GL=nj,ZL=sj,KL=lj,qL=dj,JL=pj,XL=rn,QL=vj,YL=bj,e$=Ep,t$=Tj,n$=Cj,r$=Hu,i$=Sp,s$=gx,a$=yx,o$=Tp,l$=Pp,u$=vx,c$=Xj,d$=Wu(),f$=sn(),h$=Gu,p$=iL,m$=lL,g$=fL,y$=mL,v$=vL,w$=kp,_$=CL,b$=AL,x$=IL,E$=$L,S$=UL;var Qy={parse:BL,valid:zL,clean:HL,inc:WL,diff:GL,major:ZL,minor:KL,patch:qL,prerelease:JL,compare:XL,rcompare:QL,compareLoose:YL,compareBuild:e$,sort:t$,rsort:n$,gt:r$,lt:i$,eq:s$,neq:a$,gte:o$,lte:l$,cmp:u$,coerce:c$,Comparator:d$,Range:f$,satisfies:h$,toComparators:p$,maxSatisfying:m$,minSatisfying:g$,minVersion:y$,validRange:v$,outside:w$,gtr:_$,ltr:b$,intersects:x$,simplifyRange:E$,subset:S$,SemVer:VL,re:Yc.re,src:Yc.src,tokens:Yc.t,SEMVER_SPEC_VERSION:Jy.SEMVER_SPEC_VERSION,RELEASE_TYPES:Jy.RELEASE_TYPES,compareIdentifiers:Xy.compareIdentifiers,rcompareIdentifiers:Xy.rcompareIdentifiers};function T$(t,e){const n=Qy.parse(t),r=Qy.parse(e);if(!n||!r)throw new Error("Invalid version format.");return n.compare(r)>=0}function Vn(t){if(!t||t.split("/").length>2||t.startsWith("/")||t.endsWith("/")||t.split(":").length>2)throw new Error(`Invalid identifier format: ${t}`);const[e,n]=t.split(":"),r=n||"latest";if(e.includes("/")){const[i,s]=e.split("/",2);if(!i||!s)throw new Error(`Invalid identifier format: ${t}`);return[i,s,r]}else{if(!e)throw new Error(`Invalid identifier format: ${t}`);return["-",e,r]}}class P$ extends Error{constructor(e){super(e),this.name="LangSmithConflictError"}}async function ne(t,e,n){let r;if(t.ok){n&&(r=await t.text());return}r=await t.text();const i=`Failed to ${e}. Received status [${t.status}]: ${t.statusText}. Server response: ${r}`;throw t.status===409?new P$(i):new Error(i)}var Yy="[...]",k$={result:"[Circular]"},Zl=[],$i=[];function C$(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function Rs(t,e,n,r){typeof r>"u"&&(r=C$()),Df(t,"",0,[],void 0,0,r);var i;try{$i.length===0?i=JSON.stringify(t,e,n):i=JSON.stringify(t,R$(e),n)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Zl.length!==0;){var s=Zl.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return i}function ed(t,e,n,r){var i=Object.getOwnPropertyDescriptor(r,n);i.get!==void 0?i.configurable?(Object.defineProperty(r,n,{value:t}),Zl.push([r,n,e,i])):$i.push([e,n,t]):(r[n]=t,Zl.push([r,n,e]))}function Df(t,e,n,r,i,s,a){s+=1;var o;if(typeof t=="object"&&t!==null){for(o=0;o<r.length;o++)if(r[o]===t){ed(k$,t,e,i);return}if(typeof a.depthLimit<"u"&&s>a.depthLimit){ed(Yy,t,e,i);return}if(typeof a.edgesLimit<"u"&&n+1>a.edgesLimit){ed(Yy,t,e,i);return}if(r.push(t),Array.isArray(t))for(o=0;o<t.length;o++)Df(t[o],o,o,r,t,s,a);else{var l=Object.keys(t);for(o=0;o<l.length;o++){var u=l[o];Df(t[u],u,o,r,t,s,a)}}r.pop()}}function R$(t){return t=typeof t<"u"?t:function(e,n){return n},function(e,n){if($i.length>0)for(var r=0;r<$i.length;r++){var i=$i[r];if(i[1]===e&&i[0]===n){n=i[2],$i.splice(r,1);break}}return t.call(this,e,n)}}async function ev(t){const e=await dx(),n=AI();return t.map(r=>{const i=r.extra??{},s=i.metadata;return r.extra={...i,runtime:{...e,...i==null?void 0:i.runtime},metadata:{...n,...n.revision_id||r.revision_id?{revision_id:r.revision_id??n.revision_id}:{},...s}},r})}const O$=()=>{const t=$r("TRACING_SAMPLING_RATE");if(t===void 0)return;const e=parseFloat(t);if(e<0||e>1)throw new Error(`LANGSMITH_TRACING_SAMPLING_RATE must be between 0 and 1 if set. Got: ${e}`);return e},A$=t=>{const n=t.replace("http://","").replace("https://","").split("/")[0].split(":")[0];return n==="localhost"||n==="127.0.0.1"||n==="::1"};async function N$(t){const e=[];for await(const n of t)e.push(n);return e}function td(t){if(t!==void 0)return t.trim().replace(/^"(.*)"$/,"$1").replace(/^'(.*)'$/,"$1")}const I$=async t=>{if((t==null?void 0:t.status)===429){const e=parseInt(t.headers.get("retry-after")??"30",10)*1e3;if(e>0)return await new Promise(n=>setTimeout(n,e)),!0}return!1};class j${constructor(){Object.defineProperty(this,"items",{enumerable:!0,configurable:!0,writable:!0,value:[]})}get size(){return this.items.length}push(e){return new Promise(n=>{this.items.push([e,n])})}pop(e){if(e<1)throw new Error("Number of items to pop off may not be less than 1.");const n=[];for(;n.length<e&&this.items.length;){const r=this.items.shift();if(r)n.push(r);else break}return[n.map(r=>r[0]),()=>n.forEach(r=>r[1]())]}}const L$=20971520;class Va{constructor(e={}){Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"webUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"batchIngestCaller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout_ms",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tenantId",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"hideInputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"hideOutputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tracingSampleRate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"filteredPostUuids",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(this,"autoBatchTracing",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"batchEndpointSupported",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"autoBatchQueue",{enumerable:!0,configurable:!0,writable:!0,value:new j$}),Object.defineProperty(this,"pendingAutoBatchedRunLimit",{enumerable:!0,configurable:!0,writable:!0,value:100}),Object.defineProperty(this,"autoBatchTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"autoBatchInitialDelayMs",{enumerable:!0,configurable:!0,writable:!0,value:250}),Object.defineProperty(this,"autoBatchAggregationDelayMs",{enumerable:!0,configurable:!0,writable:!0,value:50}),Object.defineProperty(this,"serverInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fetchOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const n=Va.getDefaultClientConfig();this.tracingSampleRate=O$(),this.apiUrl=td(e.apiUrl??n.apiUrl)??"",this.apiKey=td(e.apiKey??n.apiKey),this.webUrl=td(e.webUrl??n.webUrl),this.timeout_ms=e.timeout_ms??12e3,this.caller=new ky(e.callerOptions??{}),this.batchIngestCaller=new ky({...e.callerOptions??{},onFailedResponseHook:I$}),this.hideInputs=e.hideInputs??e.anonymizer??n.hideInputs,this.hideOutputs=e.hideOutputs??e.anonymizer??n.hideOutputs,this.autoBatchTracing=e.autoBatchTracing??this.autoBatchTracing,this.pendingAutoBatchedRunLimit=e.pendingAutoBatchedRunLimit??this.pendingAutoBatchedRunLimit,this.fetchOptions=e.fetchOptions||{}}static getDefaultClientConfig(){const e=$r("API_KEY"),n=$r("ENDPOINT")??"https://api.smith.langchain.com",r=$r("HIDE_INPUTS")==="true",i=$r("HIDE_OUTPUTS")==="true";return{apiUrl:n,apiKey:e,webUrl:void 0,hideInputs:r,hideOutputs:i}}getHostUrl(){return this.webUrl?this.webUrl:A$(this.apiUrl)?(this.webUrl="http://localhost:3000",this.webUrl):this.apiUrl.includes("/api")&&!this.apiUrl.split(".",1)[0].endsWith("api")?(this.webUrl=this.apiUrl.replace("/api",""),this.webUrl):this.apiUrl.split(".",1)[0].includes("dev")?(this.webUrl="https://dev.smith.langchain.com",this.webUrl):this.apiUrl.split(".",1)[0].includes("eu")?(this.webUrl="https://eu.smith.langchain.com",this.webUrl):(this.webUrl="https://smith.langchain.com",this.webUrl)}get headers(){const e={"User-Agent":`langsmith-js/${bx}`};return this.apiKey&&(e["x-api-key"]=`${this.apiKey}`),e}processInputs(e){return this.hideInputs===!1?e:this.hideInputs===!0?{}:typeof this.hideInputs=="function"?this.hideInputs(e):e}processOutputs(e){return this.hideOutputs===!1?e:this.hideOutputs===!0?{}:typeof this.hideOutputs=="function"?this.hideOutputs(e):e}prepareRunCreateOrUpdateInputs(e){const n={...e};return n.inputs!==void 0&&(n.inputs=this.processInputs(n.inputs)),n.outputs!==void 0&&(n.outputs=this.processOutputs(n.outputs)),n}async _getResponse(e,n){const r=(n==null?void 0:n.toString())??"",i=`${this.apiUrl}${e}?${r}`,s=await this.caller.call(G(),i,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await ne(s,`Failed to fetch ${e}`),s}async _get(e,n){return(await this._getResponse(e,n)).json()}async*_getPaginated(e,n=new URLSearchParams,r){let i=Number(n.get("offset"))||0;const s=Number(n.get("limit"))||100;for(;;){n.set("offset",String(i)),n.set("limit",String(s));const a=`${this.apiUrl}${e}?${n}`,o=await this.caller.call(G(),a,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ne(o,`Failed to fetch ${e}`);const l=r?r(await o.json()):await o.json();if(l.length===0||(yield l,l.length<s))break;i+=l.length}}async*_getCursorPaginatedList(e,n=null,r="POST",i="runs"){const s=n?{...n}:{};for(;;){const o=await(await this.caller.call(G(),`${this.apiUrl}${e}`,{method:r,headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:JSON.stringify(s)})).json();if(!o||!o[i])break;yield o[i];const l=o.cursors;if(!l||!l.next)break;s.cursor=l.next}}_filterForSampling(e,n=!1){if(this.tracingSampleRate===void 0)return e;if(n){const r=[];for(const i of e)this.filteredPostUuids.has(i.id)?this.filteredPostUuids.delete(i.id):r.push(i);return r}else{const r=[];for(const i of e)i.id!==i.trace_id&&!this.filteredPostUuids.has(i.trace_id)||Math.random()<this.tracingSampleRate?r.push(i):this.filteredPostUuids.add(i.id);return r}}async drainAutoBatchQueue(){for(;this.autoBatchQueue.size>=0;){const[e,n]=this.autoBatchQueue.pop(this.pendingAutoBatchedRunLimit);if(!e.length){n();return}try{await this.batchIngestRuns({runCreates:e.filter(r=>r.action==="create").map(r=>r.item),runUpdates:e.filter(r=>r.action==="update").map(r=>r.item)})}finally{n()}}}async processRunOperation(e,n){const r=this.autoBatchTimeout;clearTimeout(this.autoBatchTimeout),this.autoBatchTimeout=void 0;const i=this.autoBatchQueue.push(e);return(n||this.autoBatchQueue.size>this.pendingAutoBatchedRunLimit)&&await this.drainAutoBatchQueue(),this.autoBatchQueue.size>0&&(this.autoBatchTimeout=setTimeout(()=>{this.autoBatchTimeout=void 0,this.drainAutoBatchQueue().catch(console.error)},r?this.autoBatchAggregationDelayMs:this.autoBatchInitialDelayMs)),i}async _getServerInfo(){const e=await G()(`${this.apiUrl}/info`,{method:"GET",headers:{Accept:"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await ne(e,"get server info"),e.json()}async batchEndpointIsSupported(){try{this.serverInfo=await this._getServerInfo()}catch{return!1}return!0}async _getSettings(){return this.settings||(this.settings=this._get("/settings")),await this.settings}async createRun(e){if(!this._filterForSampling([e]).length)return;const n={...this.headers,"Content-Type":"application/json"},r=e.project_name;delete e.project_name;const i=this.prepareRunCreateOrUpdateInputs({session_name:r,...e,start_time:e.start_time??Date.now()});if(this.autoBatchTracing&&i.trace_id!==void 0&&i.dotted_order!==void 0){this.processRunOperation({action:"create",item:i}).catch(console.error);return}const s=await ev([i]),a=await this.caller.call(G(),`${this.apiUrl}/runs`,{method:"POST",headers:n,body:Rs(s[0]),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ne(a,"create run",!0)}async batchIngestRuns({runCreates:e,runUpdates:n}){var u,c;if(e===void 0&&n===void 0)return;let r=(e==null?void 0:e.map(d=>this.prepareRunCreateOrUpdateInputs(d)))??[],i=(n==null?void 0:n.map(d=>this.prepareRunCreateOrUpdateInputs(d)))??[];if(r.length>0&&i.length>0){const d=r.reduce((h,p)=>(p.id&&(h[p.id]=p),h),{}),f=[];for(const h of i)h.id!==void 0&&d[h.id]?d[h.id]={...d[h.id],...h}:f.push(h);r=Object.values(d),i=f}const s={post:this._filterForSampling(r),patch:this._filterForSampling(i,!0)};if(!s.post.length&&!s.patch.length)return;if(r=await ev(r),this.batchEndpointSupported===void 0&&(this.batchEndpointSupported=await this.batchEndpointIsSupported()),!this.batchEndpointSupported){this.autoBatchTracing=!1;for(const d of s.post)await this.createRun(d);for(const d of s.patch)d.id!==void 0&&await this.updateRun(d.id,d);return}const a=((c=(u=this.serverInfo)==null?void 0:u.batch_ingest_config)==null?void 0:c.size_limit_bytes)??L$,o={post:[],patch:[]};let l=0;for(const d of["post","patch"]){const f=d,h=s[f].reverse();let p=h.pop();for(;p!==void 0;){const v=Rs(p);l>0&&l+v.length>a&&(await this._postBatchIngestRuns(Rs(o)),l=0,o.post=[],o.patch=[]),l+=v.length,o[f].push(p),p=h.pop()}}(o.post.length>0||o.patch.length>0)&&await this._postBatchIngestRuns(Rs(o))}async _postBatchIngestRuns(e){const n={...this.headers,"Content-Type":"application/json",Accept:"application/json"},r=await this.batchIngestCaller.call(G(),`${this.apiUrl}/runs/batch`,{method:"POST",headers:n,body:e,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ne(r,"batch create run",!0)}async updateRun(e,n){ie(e),n.inputs&&(n.inputs=this.processInputs(n.inputs)),n.outputs&&(n.outputs=this.processOutputs(n.outputs));const r={...n,id:e};if(!this._filterForSampling([r],!0).length)return;if(this.autoBatchTracing&&r.trace_id!==void 0&&r.dotted_order!==void 0){if(n.end_time!==void 0&&r.parent_run_id===void 0){await this.processRunOperation({action:"update",item:r},!0);return}else this.processRunOperation({action:"update",item:r}).catch(console.error);return}const i={...this.headers,"Content-Type":"application/json"},s=await this.caller.call(G(),`${this.apiUrl}/runs/${e}`,{method:"PATCH",headers:i,body:Rs(n),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ne(s,"update run",!0)}async readRun(e,{loadChildRuns:n}={loadChildRuns:!1}){ie(e);let r=await this._get(`/runs/${e}`);return n&&r.child_run_ids&&(r=await this._loadChildRuns(r)),r}async getRunUrl({runId:e,run:n,projectOpts:r}){if(n!==void 0){let i;n.session_id?i=n.session_id:r!=null&&r.projectName?i=(await this.readProject({projectName:r==null?void 0:r.projectName})).id:r!=null&&r.projectId?i=r==null?void 0:r.projectId:i=(await this.readProject({projectName:$r("PROJECT")||"default"})).id;const s=await this._getTenantId();return`${this.getHostUrl()}/o/${s}/projects/p/${i}/r/${n.id}?poll=true`}else if(e!==void 0){const i=await this.readRun(e);if(!i.app_path)throw new Error(`Run ${e} has no app_path`);return`${this.getHostUrl()}${i.app_path}`}else throw new Error("Must provide either runId or run")}async _loadChildRuns(e){const n=await N$(this.listRuns({id:e.child_run_ids})),r={},i={};n.sort((s,a)=>((s==null?void 0:s.dotted_order)??"").localeCompare((a==null?void 0:a.dotted_order)??""));for(const s of n){if(s.parent_run_id===null||s.parent_run_id===void 0)throw new Error(`Child run ${s.id} has no parent`);s.parent_run_id in r||(r[s.parent_run_id]=[]),r[s.parent_run_id].push(s),i[s.id]=s}e.child_runs=r[e.id]||[];for(const s in r)s!==e.id&&(i[s].child_runs=r[s]);return e}async*listRuns(e){const{projectId:n,projectName:r,parentRunId:i,traceId:s,referenceExampleId:a,startTime:o,executionOrder:l,isRoot:u,runType:c,error:d,id:f,query:h,filter:p,traceFilter:v,treeFilter:w,limit:m,select:g}=e;let y=[];if(n&&(y=Array.isArray(n)?n:[n]),r){const O=Array.isArray(r)?r:[r],k=await Promise.all(O.map(Z=>this.readProject({projectName:Z}).then(B=>B.id)));y.push(...k)}const b=["app_path","child_run_ids","completion_cost","completion_tokens","dotted_order","end_time","error","events","extra","feedback_stats","first_token_time","id","inputs","name","outputs","parent_run_id","parent_run_ids","prompt_cost","prompt_tokens","reference_example_id","run_type","session_id","start_time","status","tags","total_cost","total_tokens","trace_id"],x={session:y.length?y:null,run_type:c,reference_example:a,query:h,filter:p,trace_filter:v,tree_filter:w,execution_order:l,parent_run:i,start_time:o?o.toISOString():null,error:d,id:f,limit:m,trace:s,select:g||b,is_root:u};let T=0;for await(const O of this._getCursorPaginatedList("/runs/query",x))if(m){if(T>=m)break;if(O.length+T>m){yield*O.slice(0,m-T);break}T+=O.length,yield*O}else yield*O}async getRunStats({id:e,trace:n,parentRun:r,runType:i,projectNames:s,projectIds:a,referenceExampleIds:o,startTime:l,endTime:u,error:c,query:d,filter:f,traceFilter:h,treeFilter:p,isRoot:v,dataSourceType:w}){let m=a||[];s&&(m=[...a||[],...await Promise.all(s.map(T=>this.readProject({projectName:T}).then(O=>O.id)))]);const y=Object.fromEntries(Object.entries({id:e,trace:n,parent_run:r,run_type:i,session:m,reference_example:o,start_time:l,end_time:u,error:c,query:d,filter:f,trace_filter:h,tree_filter:p,is_root:v,data_source_type:w}).filter(([T,O])=>O!==void 0));return await(await this.caller.call(G(),`${this.apiUrl}/runs/stats`,{method:"POST",headers:this.headers,body:JSON.stringify(y),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async shareRun(e,{shareId:n}={}){const r={run_id:e,share_token:n||At()};ie(e);const s=await(await this.caller.call(G(),`${this.apiUrl}/runs/${e}/share`,{method:"PUT",headers:this.headers,body:JSON.stringify(r),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json();if(s===null||!("share_token"in s))throw new Error("Invalid response from server");return`${this.getHostUrl()}/public/${s.share_token}/r`}async unshareRun(e){ie(e);const n=await this.caller.call(G(),`${this.apiUrl}/runs/${e}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ne(n,"unshare run",!0)}async readRunSharedLink(e){ie(e);const r=await(await this.caller.call(G(),`${this.apiUrl}/runs/${e}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json();if(!(r===null||!("share_token"in r)))return`${this.getHostUrl()}/public/${r.share_token}/r`}async listSharedRuns(e,{runIds:n}={}){const r=new URLSearchParams({share_token:e});if(n!==void 0)for(const a of n)r.append("id",a);return ie(e),await(await this.caller.call(G(),`${this.apiUrl}/public/${e}/runs${r}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async readDatasetSharedSchema(e,n){if(!e&&!n)throw new Error("Either datasetId or datasetName must be given");e||(e=(await this.readDataset({datasetName:n})).id),ie(e);const i=await(await this.caller.call(G(),`${this.apiUrl}/datasets/${e}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json();return i.url=`${this.getHostUrl()}/public/${i.share_token}/d`,i}async shareDataset(e,n){if(!e&&!n)throw new Error("Either datasetId or datasetName must be given");e||(e=(await this.readDataset({datasetName:n})).id);const r={dataset_id:e};ie(e);const s=await(await this.caller.call(G(),`${this.apiUrl}/datasets/${e}/share`,{method:"PUT",headers:this.headers,body:JSON.stringify(r),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json();return s.url=`${this.getHostUrl()}/public/${s.share_token}/d`,s}async unshareDataset(e){ie(e);const n=await this.caller.call(G(),`${this.apiUrl}/datasets/${e}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ne(n,"unshare dataset",!0)}async readSharedDataset(e){return ie(e),await(await this.caller.call(G(),`${this.apiUrl}/public/${e}/datasets`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async listSharedExamples(e,n){const r={};n!=null&&n.exampleIds&&(r.id=n.exampleIds);const i=new URLSearchParams;Object.entries(r).forEach(([o,l])=>{Array.isArray(l)?l.forEach(u=>i.append(o,u)):i.append(o,l)});const s=await this.caller.call(G(),`${this.apiUrl}/public/${e}/examples?${i.toString()}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions}),a=await s.json();if(!s.ok)throw"detail"in a?new Error(`Failed to list shared examples.
Status: ${s.status}
Message: ${a.detail.join(`
`)}`):new Error(`Failed to list shared examples: ${s.status} ${s.statusText}`);return a.map(o=>({...o,_hostUrl:this.getHostUrl()}))}async createProject({projectName:e,description:n=null,metadata:r=null,upsert:i=!1,projectExtra:s=null,referenceDatasetId:a=null}){const o=i?"?upsert=true":"",l=`${this.apiUrl}/sessions${o}`,u=s||{};r&&(u.metadata=r);const c={name:e,extra:u,description:n};a!==null&&(c.reference_dataset_id=a);const d=await this.caller.call(G(),l,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(c),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await ne(d,"create project"),await d.json()}async updateProject(e,{name:n=null,description:r=null,metadata:i=null,projectExtra:s=null,endTime:a=null}){const o=`${this.apiUrl}/sessions/${e}`;let l=s;i&&(l={...l||{},metadata:i});const u={name:n,extra:l,description:r,end_time:a?new Date(a).toISOString():null},c=await this.caller.call(G(),o,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(u),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await ne(c,"update project"),await c.json()}async hasProject({projectId:e,projectName:n}){let r="/sessions";const i=new URLSearchParams;if(e!==void 0&&n!==void 0)throw new Error("Must provide either projectName or projectId, not both");if(e!==void 0)ie(e),r+=`/${e}`;else if(n!==void 0)i.append("name",n);else throw new Error("Must provide projectName or projectId");const s=await this.caller.call(G(),`${this.apiUrl}${r}?${i}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});try{const a=await s.json();return s.ok?Array.isArray(a)?a.length>0:!0:!1}catch{return!1}}async readProject({projectId:e,projectName:n,includeStats:r}){let i="/sessions";const s=new URLSearchParams;if(e!==void 0&&n!==void 0)throw new Error("Must provide either projectName or projectId, not both");if(e!==void 0)ie(e),i+=`/${e}`;else if(n!==void 0)s.append("name",n);else throw new Error("Must provide projectName or projectId");r!==void 0&&s.append("include_stats",r.toString());const a=await this._get(i,s);let o;if(Array.isArray(a)){if(a.length===0)throw new Error(`Project[id=${e}, name=${n}] not found`);o=a[0]}else o=a;return o}async getProjectUrl({projectId:e,projectName:n}){if(e===void 0&&n===void 0)throw new Error("Must provide either projectName or projectId");const r=await this.readProject({projectId:e,projectName:n}),i=await this._getTenantId();return`${this.getHostUrl()}/o/${i}/projects/p/${r.id}`}async getDatasetUrl({datasetId:e,datasetName:n}){if(e===void 0&&n===void 0)throw new Error("Must provide either datasetName or datasetId");const r=await this.readDataset({datasetId:e,datasetName:n}),i=await this._getTenantId();return`${this.getHostUrl()}/o/${i}/datasets/${r.id}`}async _getTenantId(){if(this._tenantId!==null)return this._tenantId;const e=new URLSearchParams({limit:"1"});for await(const n of this._getPaginated("/sessions",e))return this._tenantId=n[0].tenant_id,n[0].tenant_id;throw new Error("No projects found to resolve tenant.")}async*listProjects({projectIds:e,name:n,nameContains:r,referenceDatasetId:i,referenceDatasetName:s,referenceFree:a,metadata:o}={}){const l=new URLSearchParams;if(e!==void 0)for(const u of e)l.append("id",u);if(n!==void 0&&l.append("name",n),r!==void 0&&l.append("name_contains",r),i!==void 0)l.append("reference_dataset",i);else if(s!==void 0){const u=await this.readDataset({datasetName:s});l.append("reference_dataset",u.id)}a!==void 0&&l.append("reference_free",a.toString()),o!==void 0&&l.append("metadata",JSON.stringify(o));for await(const u of this._getPaginated("/sessions",l))yield*u}async deleteProject({projectId:e,projectName:n}){let r;if(e===void 0&&n===void 0)throw new Error("Must provide projectName or projectId");if(e!==void 0&&n!==void 0)throw new Error("Must provide either projectName or projectId, not both");e===void 0?r=(await this.readProject({projectName:n})).id:r=e,ie(r);const i=await this.caller.call(G(),`${this.apiUrl}/sessions/${r}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ne(i,`delete session ${r} (${n})`,!0)}async uploadCsv({csvFile:e,fileName:n,inputKeys:r,outputKeys:i,description:s,dataType:a,name:o}){const l=`${this.apiUrl}/datasets/upload`,u=new FormData;u.append("file",e,n),r.forEach(f=>{u.append("input_keys",f)}),i.forEach(f=>{u.append("output_keys",f)}),s&&u.append("description",s),a&&u.append("data_type",a),o&&u.append("name",o);const c=await this.caller.call(G(),l,{method:"POST",headers:this.headers,body:u,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await ne(c,"upload CSV"),await c.json()}async createDataset(e,{description:n,dataType:r,inputsSchema:i,outputsSchema:s,metadata:a}={}){const o={name:e,description:n,extra:a?{metadata:a}:void 0};r&&(o.data_type=r),i&&(o.inputs_schema_definition=i),s&&(o.outputs_schema_definition=s);const l=await this.caller.call(G(),`${this.apiUrl}/datasets`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(o),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await ne(l,"create dataset"),await l.json()}async readDataset({datasetId:e,datasetName:n}){let r="/datasets";const i=new URLSearchParams({limit:"1"});if(e!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(e!==void 0)ie(e),r+=`/${e}`;else if(n!==void 0)i.append("name",n);else throw new Error("Must provide datasetName or datasetId");const s=await this._get(r,i);let a;if(Array.isArray(s)){if(s.length===0)throw new Error(`Dataset[id=${e}, name=${n}] not found`);a=s[0]}else a=s;return a}async hasDataset({datasetId:e,datasetName:n}){try{return await this.readDataset({datasetId:e,datasetName:n}),!0}catch(r){if(r instanceof Error&&r.message.toLocaleLowerCase().includes("not found"))return!1;throw r}}async diffDatasetVersions({datasetId:e,datasetName:n,fromVersion:r,toVersion:i}){let s=e;if(s===void 0&&n===void 0)throw new Error("Must provide either datasetName or datasetId");if(s!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");s===void 0&&(s=(await this.readDataset({datasetName:n})).id);const a=new URLSearchParams({from_version:typeof r=="string"?r:r.toISOString(),to_version:typeof i=="string"?i:i.toISOString()});return await this._get(`/datasets/${s}/versions/diff`,a)}async readDatasetOpenaiFinetuning({datasetId:e,datasetName:n}){const r="/datasets";if(e===void 0)if(n!==void 0)e=(await this.readDataset({datasetName:n})).id;else throw new Error("Must provide datasetName or datasetId");return(await(await this._getResponse(`${r}/${e}/openai_ft`)).text()).trim().split(`
`).map(o=>JSON.parse(o))}async*listDatasets({limit:e=100,offset:n=0,datasetIds:r,datasetName:i,datasetNameContains:s,metadata:a}={}){const o="/datasets",l=new URLSearchParams({limit:e.toString(),offset:n.toString()});if(r!==void 0)for(const u of r)l.append("id",u);i!==void 0&&l.append("name",i),s!==void 0&&l.append("name_contains",s),a!==void 0&&l.append("metadata",JSON.stringify(a));for await(const u of this._getPaginated(o,l))yield*u}async updateDataset(e){const{datasetId:n,datasetName:r,...i}=e;if(!n&&!r)throw new Error("Must provide either datasetName or datasetId");const s=n??(await this.readDataset({datasetName:r})).id;ie(s);const a=await this.caller.call(G(),`${this.apiUrl}/datasets/${s}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(i),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await ne(a,"update dataset"),await a.json()}async deleteDataset({datasetId:e,datasetName:n}){let r="/datasets",i=e;if(e!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(n!==void 0&&(i=(await this.readDataset({datasetName:n})).id),i!==void 0)ie(i),r+=`/${i}`;else throw new Error("Must provide datasetName or datasetId");const s=await this.caller.call(G(),this.apiUrl+r,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ne(s,`delete ${r}`),await s.json()}async indexDataset({datasetId:e,datasetName:n,tag:r}){let i=e;if(!i&&!n)throw new Error("Must provide either datasetName or datasetId");if(i&&n)throw new Error("Must provide either datasetName or datasetId, not both");i||(i=(await this.readDataset({datasetName:n})).id),ie(i);const s={tag:r},a=await this.caller.call(G(),`${this.apiUrl}/datasets/${i}/index`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(s),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ne(a,"index dataset"),await a.json()}async similarExamples(e,n,r,{filter:i}={}){const s={limit:r,inputs:e};i!==void 0&&(s.filter=i),ie(n);const a=await this.caller.call(G(),`${this.apiUrl}/datasets/${n}/search`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(s),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await ne(a,"fetch similar examples"),(await a.json()).examples}async createExample(e,n,{datasetId:r,datasetName:i,createdAt:s,exampleId:a,metadata:o,split:l,sourceRunId:u}){let c=r;if(c===void 0&&i===void 0)throw new Error("Must provide either datasetName or datasetId");if(c!==void 0&&i!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");c===void 0&&(c=(await this.readDataset({datasetName:i})).id);const d=s||new Date,f={dataset_id:c,inputs:e,outputs:n,created_at:d==null?void 0:d.toISOString(),id:a,metadata:o,split:l,source_run_id:u},h=await this.caller.call(G(),`${this.apiUrl}/examples`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(f),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await ne(h,"create example"),await h.json()}async createExamples(e){const{inputs:n,outputs:r,metadata:i,sourceRunIds:s,exampleIds:a,datasetId:o,datasetName:l}=e;let u=o;if(u===void 0&&l===void 0)throw new Error("Must provide either datasetName or datasetId");if(u!==void 0&&l!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");u===void 0&&(u=(await this.readDataset({datasetName:l})).id);const c=n.map((h,p)=>({dataset_id:u,inputs:h,outputs:r?r[p]:void 0,metadata:i?i[p]:void 0,split:e.splits?e.splits[p]:void 0,id:a?a[p]:void 0,source_run_id:s?s[p]:void 0})),d=await this.caller.call(G(),`${this.apiUrl}/examples/bulk`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(c),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await ne(d,"create examples"),await d.json()}async createLLMExample(e,n,r){return this.createExample({input:e},{output:n},r)}async createChatExample(e,n,r){const i=e.map(a=>Cy(a)?Ry(a):a),s=Cy(n)?Ry(n):n;return this.createExample({input:i},{output:s},r)}async readExample(e){ie(e);const n=`/examples/${e}`;return await this._get(n)}async*listExamples({datasetId:e,datasetName:n,exampleIds:r,asOf:i,splits:s,inlineS3Urls:a,metadata:o,limit:l,offset:u,filter:c}={}){let d;if(e!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(e!==void 0)d=e;else if(n!==void 0)d=(await this.readDataset({datasetName:n})).id;else throw new Error("Must provide a datasetName or datasetId");const f=new URLSearchParams({dataset:d}),h=i?typeof i=="string"?i:i==null?void 0:i.toISOString():void 0;h&&f.append("as_of",h);const p=a??!0;if(f.append("inline_s3_urls",p.toString()),r!==void 0)for(const w of r)f.append("id",w);if(s!==void 0)for(const w of s)f.append("splits",w);if(o!==void 0){const w=JSON.stringify(o);f.append("metadata",w)}l!==void 0&&f.append("limit",l.toString()),u!==void 0&&f.append("offset",u.toString()),c!==void 0&&f.append("filter",c);let v=0;for await(const w of this._getPaginated("/examples",f)){for(const m of w)yield m,v++;if(l!==void 0&&v>=l)break}}async deleteExample(e){ie(e);const n=`/examples/${e}`,r=await this.caller.call(G(),this.apiUrl+n,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ne(r,`delete ${n}`),await r.json()}async updateExample(e,n){ie(e);const r=await this.caller.call(G(),`${this.apiUrl}/examples/${e}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(n),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await ne(r,"update example"),await r.json()}async updateExamples(e){const n=await this.caller.call(G(),`${this.apiUrl}/examples/bulk`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(e),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await ne(n,"update examples"),await n.json()}async listDatasetSplits({datasetId:e,datasetName:n,asOf:r}){let i;if(e===void 0&&n===void 0)throw new Error("Must provide dataset name or ID");if(e!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");e===void 0?i=(await this.readDataset({datasetName:n})).id:i=e,ie(i);const s=new URLSearchParams,a=r?typeof r=="string"?r:r==null?void 0:r.toISOString():void 0;return a&&s.append("as_of",a),await this._get(`/datasets/${i}/splits`,s)}async updateDatasetSplits({datasetId:e,datasetName:n,splitName:r,exampleIds:i,remove:s=!1}){let a;if(e===void 0&&n===void 0)throw new Error("Must provide dataset name or ID");if(e!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");e===void 0?a=(await this.readDataset({datasetName:n})).id:a=e,ie(a);const o={split_name:r,examples:i.map(u=>(ie(u),u)),remove:s},l=await this.caller.call(G(),`${this.apiUrl}/datasets/${a}/splits`,{method:"PUT",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(o),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ne(l,"update dataset splits",!0)}async evaluateRun(e,n,{sourceInfo:r,loadChildRuns:i,referenceExample:s}={loadChildRuns:!1}){fx("This method is deprecated and will be removed in future LangSmith versions, use `evaluate` from `langsmith/evaluation` instead.");let a;if(typeof e=="string")a=await this.readRun(e,{loadChildRuns:i});else if(typeof e=="object"&&"id"in e)a=e;else throw new Error(`Invalid run type: ${typeof e}`);a.reference_example_id!==null&&a.reference_example_id!==void 0&&(s=await this.readExample(a.reference_example_id));const o=await n.evaluateRun(a,s),[l,u]=await this._logEvaluationFeedback(o,a,r);return u[0]}async createFeedback(e,n,{score:r,value:i,correction:s,comment:a,sourceInfo:o,feedbackSourceType:l="api",sourceRunId:u,feedbackId:c,feedbackConfig:d,projectId:f,comparativeExperimentId:h}){var g;if(!e&&!f)throw new Error("One of runId or projectId must be provided");if(e&&f)throw new Error("Only one of runId or projectId can be provided");const p={type:l??"api",metadata:o??{}};u!==void 0&&(p==null?void 0:p.metadata)!==void 0&&!p.metadata.__run&&(p.metadata.__run={run_id:u}),(p==null?void 0:p.metadata)!==void 0&&((g=p.metadata.__run)==null?void 0:g.run_id)!==void 0&&ie(p.metadata.__run.run_id);const v={id:c??At(),run_id:e,key:n,score:r,value:i,correction:s,comment:a,feedback_source:p,comparative_experiment_id:h,feedbackConfig:d,session_id:f},w=`${this.apiUrl}/feedback`,m=await this.caller.call(G(),w,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(v),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await ne(m,"create feedback",!0),v}async updateFeedback(e,{score:n,value:r,correction:i,comment:s}){const a={};n!=null&&(a.score=n),r!=null&&(a.value=r),i!=null&&(a.correction=i),s!=null&&(a.comment=s),ie(e);const o=await this.caller.call(G(),`${this.apiUrl}/feedback/${e}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(a),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ne(o,"update feedback",!0)}async readFeedback(e){ie(e);const n=`/feedback/${e}`;return await this._get(n)}async deleteFeedback(e){ie(e);const n=`/feedback/${e}`,r=await this.caller.call(G(),this.apiUrl+n,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ne(r,`delete ${n}`),await r.json()}async*listFeedback({runIds:e,feedbackKeys:n,feedbackSourceTypes:r}={}){const i=new URLSearchParams;if(e&&i.append("run",e.join(",")),n)for(const s of n)i.append("key",s);if(r)for(const s of r)i.append("source",s);for await(const s of this._getPaginated("/feedback",i))yield*s}async createPresignedFeedbackToken(e,n,{expiration:r,feedbackConfig:i}={}){const s={run_id:e,feedback_key:n,feedback_config:i};return r?typeof r=="string"?s.expires_at=r:(r!=null&&r.hours||r!=null&&r.minutes||r!=null&&r.days)&&(s.expires_in=r):s.expires_in={hours:3},await(await this.caller.call(G(),`${this.apiUrl}/feedback/tokens`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(s),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async createComparativeExperiment({name:e,experimentIds:n,referenceDatasetId:r,createdAt:i,description:s,metadata:a,id:o}){var c;if(n.length===0)throw new Error("At least one experiment is required");if(r||(r=(await this.readProject({projectId:n[0]})).reference_dataset_id),!r==null)throw new Error("A reference dataset is required");const l={id:o,name:e,experiment_ids:n,reference_dataset_id:r,description:s,created_at:(c=i??new Date)==null?void 0:c.toISOString(),extra:{}};return a&&(l.extra.metadata=a),await(await this.caller.call(G(),`${this.apiUrl}/datasets/comparative`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(l),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async*listPresignedFeedbackTokens(e){ie(e);const n=new URLSearchParams({run_id:e});for await(const r of this._getPaginated("/feedback/tokens",n))yield*r}_selectEvalResults(e){let n;return"results"in e?n=e.results:n=[e],n}async _logEvaluationFeedback(e,n,r){const i=this._selectEvalResults(e),s=[];for(const a of i){let o=r||{};a.evaluatorInfo&&(o={...a.evaluatorInfo,...o});let l=null;a.targetRunId?l=a.targetRunId:n&&(l=n.id),s.push(await this.createFeedback(l,a.key,{score:a.score,value:a.value,comment:a.comment,correction:a.correction,sourceInfo:o,sourceRunId:a.sourceRunId,feedbackConfig:a.feedbackConfig,feedbackSourceType:"model"}))}return[i,s]}async logEvaluationFeedback(e,n,r){const[i]=await this._logEvaluationFeedback(e,n,r);return i}async _currentTenantIsOwner(e){const n=await this._getSettings();return e=="-"||n.tenant_handle===e}async _ownerConflictError(e,n){const r=await this._getSettings();return new Error(`Cannot ${e} for another tenant.

      Current tenant: ${r.tenant_handle}

      Requested tenant: ${n}`)}async _getLatestCommitHash(e){const n=await this.caller.call(G(),`${this.apiUrl}/commits/${e}/?limit=1&offset=0`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions}),r=await n.json();if(!n.ok){const i=typeof r.detail=="string"?r.detail:JSON.stringify(r.detail),s=new Error(`Error ${n.status}: ${n.statusText}
${i}`);throw s.statusCode=n.status,s}if(r.commits.length!==0)return r.commits[0].commit_hash}async _likeOrUnlikePrompt(e,n){const[r,i,s]=Vn(e),a=await this.caller.call(G(),`${this.apiUrl}/likes/${r}/${i}`,{method:"POST",body:JSON.stringify({like:n}),headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await ne(a,`${n?"like":"unlike"} prompt`),await a.json()}async _getPromptUrl(e){const[n,r,i]=Vn(e);if(await this._currentTenantIsOwner(n)){const s=await this._getSettings();return i!=="latest"?`${this.getHostUrl()}/prompts/${r}/${i.substring(0,8)}?organizationId=${s.id}`:`${this.getHostUrl()}/prompts/${r}?organizationId=${s.id}`}else return i!=="latest"?`${this.getHostUrl()}/hub/${n}/${r}/${i.substring(0,8)}`:`${this.getHostUrl()}/hub/${n}/${r}`}async promptExists(e){return!!await this.getPrompt(e)}async likePrompt(e){return this._likeOrUnlikePrompt(e,!0)}async unlikePrompt(e){return this._likeOrUnlikePrompt(e,!1)}async*listCommits(e){for await(const n of this._getPaginated(`/commits/${e}/`,{},r=>r.commits))yield*n}async*listPrompts(e){const n=new URLSearchParams;n.append("sort_field",(e==null?void 0:e.sortField)??"updated_at"),n.append("sort_direction","desc"),n.append("is_archived",(!!(e!=null&&e.isArchived)).toString()),(e==null?void 0:e.isPublic)!==void 0&&n.append("is_public",e.isPublic.toString()),e!=null&&e.query&&n.append("query",e.query);for await(const r of this._getPaginated("/repos",n,i=>i.repos))yield*r}async getPrompt(e){const[n,r,i]=Vn(e),s=await this.caller.call(G(),`${this.apiUrl}/repos/${n}/${r}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(s.status===404)return null;await ne(s,"get prompt");const a=await s.json();return a.repo?a.repo:null}async createPrompt(e,n){const r=await this._getSettings();if(n!=null&&n.isPublic&&!r.tenant_handle)throw new Error(`Cannot create a public prompt without first

        creating a LangChain Hub handle. 
        You can add a handle by creating a public prompt at:

        https://smith.langchain.com/prompts`);const[i,s,a]=Vn(e);if(!await this._currentTenantIsOwner(i))throw await this._ownerConflictError("create a prompt",i);const o={repo_handle:s,...(n==null?void 0:n.description)&&{description:n.description},...(n==null?void 0:n.readme)&&{readme:n.readme},...(n==null?void 0:n.tags)&&{tags:n.tags},is_public:!!(n!=null&&n.isPublic)},l=await this.caller.call(G(),`${this.apiUrl}/repos/`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(o),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ne(l,"create prompt");const{repo:u}=await l.json();return u}async createCommit(e,n,r){if(!await this.promptExists(e))throw new Error("Prompt does not exist, you must create it first.");const[i,s,a]=Vn(e),o=(r==null?void 0:r.parentCommitHash)==="latest"||!(r!=null&&r.parentCommitHash)?await this._getLatestCommitHash(`${i}/${s}`):r==null?void 0:r.parentCommitHash,l={manifest:JSON.parse(JSON.stringify(n)),parent_commit:o},u=await this.caller.call(G(),`${this.apiUrl}/commits/${i}/${s}`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(l),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ne(u,"create commit");const c=await u.json();return this._getPromptUrl(`${i}/${s}${c.commit_hash?`:${c.commit_hash}`:""}`)}async updatePrompt(e,n){if(!await this.promptExists(e))throw new Error("Prompt does not exist, you must create it first.");const[r,i]=Vn(e);if(!await this._currentTenantIsOwner(r))throw await this._ownerConflictError("update a prompt",r);const s={};if((n==null?void 0:n.description)!==void 0&&(s.description=n.description),(n==null?void 0:n.readme)!==void 0&&(s.readme=n.readme),(n==null?void 0:n.tags)!==void 0&&(s.tags=n.tags),(n==null?void 0:n.isPublic)!==void 0&&(s.is_public=n.isPublic),(n==null?void 0:n.isArchived)!==void 0&&(s.is_archived=n.isArchived),Object.keys(s).length===0)throw new Error("No valid update options provided");const a=await this.caller.call(G(),`${this.apiUrl}/repos/${r}/${i}`,{method:"PATCH",body:JSON.stringify(s),headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await ne(a,"update prompt"),a.json()}async deletePrompt(e){if(!await this.promptExists(e))throw new Error("Prompt does not exist, you must create it first.");const[n,r,i]=Vn(e);if(!await this._currentTenantIsOwner(n))throw await this._ownerConflictError("delete a prompt",n);return await(await this.caller.call(G(),`${this.apiUrl}/repos/${n}/${r}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async pullPromptCommit(e,n){const[r,i,s]=Vn(e),a=await this._getServerInfo(),o=T$(a.version,"0.5.23");let l=s;if(!o&&s==="latest"){const d=await this._getLatestCommitHash(`${r}/${i}`);if(d)l=d;else throw new Error("No commits found")}const u=await this.caller.call(G(),`${this.apiUrl}/commits/${r}/${i}/${l}${n!=null&&n.includeModel?"?include_model=true":""}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ne(u,"pull prompt commit");const c=await u.json();return{owner:r,repo:i,commit_hash:c.commit_hash,manifest:c.manifest,examples:c.examples}}async _pullPrompt(e,n){const r=await this.pullPromptCommit(e,{includeModel:n==null?void 0:n.includeModel});return JSON.stringify(r.manifest)}async pushPrompt(e,n){return await this.promptExists(e)?n&&Object.keys(n).some(i=>i!=="object")&&await this.updatePrompt(e,{description:n==null?void 0:n.description,readme:n==null?void 0:n.readme,tags:n==null?void 0:n.tags,isPublic:n==null?void 0:n.isPublic}):await this.createPrompt(e,{description:n==null?void 0:n.description,readme:n==null?void 0:n.readme,tags:n==null?void 0:n.tags,isPublic:n==null?void 0:n.isPublic}),n!=null&&n.object?await this.createCommit(e,n==null?void 0:n.object,{parentCommitHash:n==null?void 0:n.parentCommitHash}):await this._getPromptUrl(e)}async clonePublicDataset(e,n={}){const{sourceApiUrl:r=this.apiUrl,datasetName:i}=n,[s,a]=this.parseTokenOrUrl(e,r),o=new Va({apiUrl:s,apiKey:"placeholder"}),l=await o.readSharedDataset(a),u=i||l.name;try{if(await this.hasDataset({datasetId:u})){console.log(`Dataset ${u} already exists in your tenant. Skipping.`);return}}catch{}const c=await o.listSharedExamples(a),d=await this.createDataset(u,{description:l.description,dataType:l.data_type||"kv",inputsSchema:l.inputs_schema_definition??void 0,outputsSchema:l.outputs_schema_definition??void 0});try{await this.createExamples({inputs:c.map(f=>f.inputs),outputs:c.flatMap(f=>f.outputs?[f.outputs]:[]),datasetId:d.id})}catch(f){throw console.error(`An error occurred while creating dataset ${u}. You should delete it manually.`),f}}parseTokenOrUrl(e,n,r=2,i="dataset"){try{return ie(e),[n,e]}catch{}try{const a=new URL(e).pathname.split("/").filter(o=>o!=="");if(a.length>=r){const o=a[a.length-r];return[n,o]}else throw new Error(`Invalid public ${i} URL: ${e}`)}catch{throw new Error(`Invalid public ${i} URL or token: ${e}`)}}}const $$=t=>!!["TRACING_V2","TRACING"].find(n=>$r(n)==="true");function D$(t){return t.replace(/[-:.]/g,"")}function M$(t,e,n=1){const r=n.toFixed(0).slice(0,3).padStart(3,"0");return D$(`${new Date(t).toISOString().slice(0,-1)}${r}Z`)+e}class Kl{constructor(e,n){Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.metadata=e,this.tags=n}static fromHeader(e){const n=e.split(",");let r={},i=[];for(const s of n){const[a,o]=s.split("="),l=decodeURIComponent(o);a==="langsmith-metadata"?r=JSON.parse(l):a==="langsmith-tags"&&(i=l.split(","))}return new Kl(r,i)}toHeader(){const e=[];return this.metadata&&Object.keys(this.metadata).length>0&&e.push(`langsmith-metadata=${encodeURIComponent(JSON.stringify(this.metadata))}`),this.tags&&this.tags.length>0&&e.push(`langsmith-tags=${encodeURIComponent(this.tags.join(","))}`),e.join(",")}}class pt{constructor(e){var o;Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"run_type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"project_name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"parent_run",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"child_runs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"start_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"end_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"extra",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"error",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"serialized",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"outputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reference_example_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"trace_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dotted_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tracingEnabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"execution_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"child_execution_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const n=pt.getDefaultConfig(),{metadata:r,...i}=e,s=i.client??pt.getSharedClient(),a={...r,...(o=i==null?void 0:i.extra)==null?void 0:o.metadata};if(i.extra={...i.extra,metadata:a},Object.assign(this,{...n,...i,client:s}),this.trace_id||(this.parent_run?this.trace_id=this.parent_run.trace_id??this.id:this.trace_id=this.id),this.execution_order??(this.execution_order=1),this.child_execution_order??(this.child_execution_order=1),!this.dotted_order){const l=M$(this.start_time,this.id,this.execution_order);this.parent_run?this.dotted_order=this.parent_run.dotted_order+"."+l:this.dotted_order=l}}static getDefaultConfig(){return{id:At(),run_type:"chain",project_name:Vr("LANGCHAIN_PROJECT")??Vr("LANGCHAIN_SESSION")??"default",child_runs:[],api_url:Vr("LANGCHAIN_ENDPOINT")??"http://localhost:1984",api_key:Vr("LANGCHAIN_API_KEY"),caller_options:{},start_time:Date.now(),serialized:{},inputs:{},extra:{}}}static getSharedClient(){return pt.sharedClient||(pt.sharedClient=new Va),pt.sharedClient}createChild(e){var l,u,c,d,f,h;const n=this.child_execution_order+1,r=new pt({...e,parent_run:this,project_name:this.project_name,client:this.client,tracingEnabled:this.tracingEnabled,execution_order:n,child_execution_order:n}),i=Symbol.for("lc:child_config"),s=((l=e.extra)==null?void 0:l[i])??this.extra[i];if(U$(s)){const p={...s},v=F$(p.callbacks)?(c=(u=p.callbacks).copy)==null?void 0:c.call(u):void 0;v&&(Object.assign(v,{_parentRunId:r.id}),(h=(f=(d=v.handlers)==null?void 0:d.find(_x))==null?void 0:f.updateFromRunTree)==null||h.call(f,r),p.callbacks=v),r.extra[i]=p}const a=new Set;let o=this;for(;o!=null&&!a.has(o.id);)a.add(o.id),o.child_execution_order=Math.max(o.child_execution_order,n),o=o.parent_run;return this.child_runs.push(r),r}async end(e,n,r=Date.now()){this.outputs=this.outputs??e,this.error=this.error??n,this.end_time=this.end_time??r}_convertToCreate(e,n,r=!0){var l;const i=e.extra??{};if(i.runtime||(i.runtime={}),n)for(const[u,c]of Object.entries(n))i.runtime[u]||(i.runtime[u]=c);let s,a;return r?(a=(l=e.parent_run)==null?void 0:l.id,s=[]):(s=e.child_runs.map(u=>this._convertToCreate(u,n,r)),a=void 0),{id:e.id,name:e.name,start_time:e.start_time,end_time:e.end_time,run_type:e.run_type,reference_example_id:e.reference_example_id,extra:i,serialized:e.serialized,error:e.error,inputs:e.inputs,outputs:e.outputs,session_name:e.project_name,child_runs:s,parent_run_id:a,trace_id:e.trace_id,dotted_order:e.dotted_order,tags:e.tags}}async postRun(e=!0){const n=await dx(),r=await this._convertToCreate(this,n,!0);if(await this.client.createRun(r),!e){fx("Posting with excludeChildRuns=false is deprecated and will be removed in a future version.");for(const i of this.child_runs)await i.postRun(!1)}}async patchRun(){var n;const e={end_time:this.end_time,error:this.error,inputs:this.inputs,outputs:this.outputs,parent_run_id:(n=this.parent_run)==null?void 0:n.id,reference_example_id:this.reference_example_id,extra:this.extra,events:this.events,dotted_order:this.dotted_order,trace_id:this.trace_id,tags:this.tags};await this.client.updateRun(this.id,e)}toJSON(){return this._convertToCreate(this,void 0,!1)}static fromRunnableConfig(e,n){var u,c,d,f;const r=e==null?void 0:e.callbacks;let i,s,a,o=$$();if(r){const h=((u=r==null?void 0:r.getParentRunId)==null?void 0:u.call(r))??"",p=(c=r==null?void 0:r.handlers)==null?void 0:c.find(v=>(v==null?void 0:v.name)=="langchain_tracer");i=(d=p==null?void 0:p.getRun)==null?void 0:d.call(p,h),s=p==null?void 0:p.projectName,a=p==null?void 0:p.client,o=o||!!p}return i?new pt({name:i.name,id:i.id,trace_id:i.trace_id,dotted_order:i.dotted_order,client:a,tracingEnabled:o,project_name:s,tags:[...new Set(((i==null?void 0:i.tags)??[]).concat((e==null?void 0:e.tags)??[]))],extra:{metadata:{...(f=i==null?void 0:i.extra)==null?void 0:f.metadata,...e==null?void 0:e.metadata}}}).createChild(n):new pt({...n,client:a,tracingEnabled:o,project_name:s})}static fromDottedOrder(e){return this.fromHeaders({"langsmith-trace":e})}static fromHeaders(e,n){var u;const r="get"in e&&typeof e.get=="function"?{"langsmith-trace":e.get("langsmith-trace"),baggage:e.get("baggage")}:e,i=r["langsmith-trace"];if(!i||typeof i!="string")return;const s=i.trim(),a=s.split(".").map(c=>{const[d,f]=c.split("Z");return{strTime:d,time:Date.parse(d+"Z"),uuid:f}}),o=a[0].uuid,l={...n,name:(n==null?void 0:n.name)??"parent",run_type:(n==null?void 0:n.run_type)??"chain",start_time:(n==null?void 0:n.start_time)??Date.now(),id:(u=a.at(-1))==null?void 0:u.uuid,trace_id:o,dotted_order:s};if(r.baggage&&typeof r.baggage=="string"){const c=Kl.fromHeader(r.baggage);l.metadata=c.metadata,l.tags=c.tags}return new pt(l)}toHeaders(e){var r;const n={"langsmith-trace":this.dotted_order,baggage:new Kl((r=this.extra)==null?void 0:r.metadata,this.tags).toHeader()};if(e)for(const[i,s]of Object.entries(n))e.set(i,s);return n}}Object.defineProperty(pt,"sharedClient",{enumerable:!0,configurable:!0,writable:!0,value:null});function _x(t){return typeof t=="object"&&t!=null&&typeof t.name=="string"&&t.name==="langchain_tracer"}function tv(t){return Array.isArray(t)&&t.some(e=>_x(e))}function F$(t){return typeof t=="object"&&t!=null&&Array.isArray(t.handlers)}function U$(t){var e;return t!==void 0&&typeof t.callbacks=="object"&&(tv((e=t.callbacks)==null?void 0:e.handlers)||tv(t.callbacks))}const bx="0.1.57";var Op={exports:{}};Op.exports;(function(t){const n=(s=0)=>a=>`\x1B[${38+s};5;${a}m`,r=(s=0)=>(a,o,l)=>`\x1B[${38+s};2;${a};${o};${l}m`;function i(){const s=new Map,a={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};a.color.gray=a.color.blackBright,a.bgColor.bgGray=a.bgColor.bgBlackBright,a.color.grey=a.color.blackBright,a.bgColor.bgGrey=a.bgColor.bgBlackBright;for(const[o,l]of Object.entries(a)){for(const[u,c]of Object.entries(l))a[u]={open:`\x1B[${c[0]}m`,close:`\x1B[${c[1]}m`},l[u]=a[u],s.set(c[0],c[1]);Object.defineProperty(a,o,{value:l,enumerable:!1})}return Object.defineProperty(a,"codes",{value:s,enumerable:!1}),a.color.close="\x1B[39m",a.bgColor.close="\x1B[49m",a.color.ansi256=n(),a.color.ansi16m=r(),a.bgColor.ansi256=n(10),a.bgColor.ansi16m=r(10),Object.defineProperties(a,{rgbToAnsi256:{value:(o,l,u)=>o===l&&l===u?o<8?16:o>248?231:Math.round((o-8)/247*24)+232:16+36*Math.round(o/255*5)+6*Math.round(l/255*5)+Math.round(u/255*5),enumerable:!1},hexToRgb:{value:o=>{const l=/(?<colorString>[a-f\d]{6}|[a-f\d]{3})/i.exec(o.toString(16));if(!l)return[0,0,0];let{colorString:u}=l.groups;u.length===3&&(u=u.split("").map(d=>d+d).join(""));const c=Number.parseInt(u,16);return[c>>16&255,c>>8&255,c&255]},enumerable:!1},hexToAnsi256:{value:o=>a.rgbToAnsi256(...a.hexToRgb(o)),enumerable:!1}}),a}Object.defineProperty(t,"exports",{enumerable:!0,get:i})})(Op);var V$=Op.exports;const xx=ou(V$);function Qe(t,e){return`${t.open}${e}${t.close}`}function Pt(t,e){try{return JSON.stringify(t,null,2)}catch{return e}}function nv(t){return typeof t=="string"?t.trim():t==null?t:Pt(t,t.toString())}function Bn(t){if(!t.end_time)return"";const e=t.end_time-t.start_time;return e<1e3?`${e}ms`:`${(e/1e3).toFixed(2)}s`}const{color:at}=xx;class rv extends so{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"console_callback_handler"})}persistRun(e){return Promise.resolve()}getParents(e){const n=[];let r=e;for(;r.parent_run_id;){const i=this.runMap.get(r.parent_run_id);if(i)n.push(i),r=i;else break}return n}getBreadcrumbs(e){const r=[...this.getParents(e).reverse(),e].map((i,s,a)=>{const o=`${i.execution_order}:${i.run_type}:${i.name}`;return s===a.length-1?Qe(xx.bold,o):o}).join(" > ");return Qe(at.grey,r)}onChainStart(e){const n=this.getBreadcrumbs(e);console.log(`${Qe(at.green,"[chain/start]")} [${n}] Entering Chain run with input: ${Pt(e.inputs,"[inputs]")}`)}onChainEnd(e){const n=this.getBreadcrumbs(e);console.log(`${Qe(at.cyan,"[chain/end]")} [${n}] [${Bn(e)}] Exiting Chain run with output: ${Pt(e.outputs,"[outputs]")}`)}onChainError(e){const n=this.getBreadcrumbs(e);console.log(`${Qe(at.red,"[chain/error]")} [${n}] [${Bn(e)}] Chain run errored with error: ${Pt(e.error,"[error]")}`)}onLLMStart(e){const n=this.getBreadcrumbs(e),r="prompts"in e.inputs?{prompts:e.inputs.prompts.map(i=>i.trim())}:e.inputs;console.log(`${Qe(at.green,"[llm/start]")} [${n}] Entering LLM run with input: ${Pt(r,"[inputs]")}`)}onLLMEnd(e){const n=this.getBreadcrumbs(e);console.log(`${Qe(at.cyan,"[llm/end]")} [${n}] [${Bn(e)}] Exiting LLM run with output: ${Pt(e.outputs,"[response]")}`)}onLLMError(e){const n=this.getBreadcrumbs(e);console.log(`${Qe(at.red,"[llm/error]")} [${n}] [${Bn(e)}] LLM run errored with error: ${Pt(e.error,"[error]")}`)}onToolStart(e){const n=this.getBreadcrumbs(e);console.log(`${Qe(at.green,"[tool/start]")} [${n}] Entering Tool run with input: "${nv(e.inputs.input)}"`)}onToolEnd(e){var r;const n=this.getBreadcrumbs(e);console.log(`${Qe(at.cyan,"[tool/end]")} [${n}] [${Bn(e)}] Exiting Tool run with output: "${nv((r=e.outputs)==null?void 0:r.output)}"`)}onToolError(e){const n=this.getBreadcrumbs(e);console.log(`${Qe(at.red,"[tool/error]")} [${n}] [${Bn(e)}] Tool run errored with error: ${Pt(e.error,"[error]")}`)}onRetrieverStart(e){const n=this.getBreadcrumbs(e);console.log(`${Qe(at.green,"[retriever/start]")} [${n}] Entering Retriever run with input: ${Pt(e.inputs,"[inputs]")}`)}onRetrieverEnd(e){const n=this.getBreadcrumbs(e);console.log(`${Qe(at.cyan,"[retriever/end]")} [${n}] [${Bn(e)}] Exiting Retriever run with output: ${Pt(e.outputs,"[outputs]")}`)}onRetrieverError(e){const n=this.getBreadcrumbs(e);console.log(`${Qe(at.red,"[retriever/error]")} [${n}] [${Bn(e)}] Retriever run errored with error: ${Pt(e.error,"[error]")}`)}onAgentAction(e){const n=e,r=this.getBreadcrumbs(e);console.log(`${Qe(at.blue,"[agent/action]")} [${r}] Agent selected action: ${Pt(n.actions[n.actions.length-1],"[action]")}`)}}class ta extends so{constructor(e={}){super(e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"langchain_tracer"}),Object.defineProperty(this,"projectName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"exampleId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const{exampleId:n,projectName:r,client:i}=e;this.projectName=r??si("LANGCHAIN_PROJECT")??si("LANGCHAIN_SESSION"),this.exampleId=n,this.client=i??new Va({});const s=ta.getTraceableRunTree();s&&this.updateFromRunTree(s)}async _convertToCreate(e,n=void 0){return{...e,extra:{...e.extra,runtime:await oI()},child_runs:void 0,session_name:this.projectName,reference_example_id:e.parent_run_id?void 0:n}}async persistRun(e){}async onRunCreate(e){const n=await this._convertToCreate(e,this.exampleId);await this.client.createRun(n)}async onRunUpdate(e){const n={end_time:e.end_time,error:e.error,outputs:e.outputs,events:e.events,inputs:e.inputs,trace_id:e.trace_id,dotted_order:e.dotted_order,parent_run_id:e.parent_run_id};await this.client.updateRun(e.id,n)}getRun(e){return this.runMap.get(e)}updateFromRunTree(e){let n=e;const r=new Set;for(;n.parent_run&&!(r.has(n.id)||(r.add(n.id),!n.parent_run));)n=n.parent_run;r.clear();const i=[n];for(;i.length>0;){const s=i.shift();!s||r.has(s.id)||(r.add(s.id),this.runMap.set(s.id,s),s.child_runs&&i.push(...s.child_runs))}this.client=e.client??this.client,this.projectName=e.project_name??this.projectName,this.exampleId=e.reference_example_id??this.exampleId}convertToRunTree(e){const n={},r=[];for(const[i,s]of this.runMap){const a=new pt({...s,child_runs:[],parent_run:void 0,client:this.client,project_name:this.projectName,reference_example_id:this.exampleId,tracingEnabled:!0});n[i]=a,r.push([i,s.dotted_order])}r.sort((i,s)=>!i[1]||!s[1]?0:i[1].localeCompare(s[1]));for(const[i]of r){const s=this.runMap.get(i),a=n[i];if(!(!s||!a)&&s.parent_run_id){const o=n[s.parent_run_id];o&&(o.child_runs.push(a),a.parent_run=o)}}return n[e]}static getTraceableRunTree(){try{return qN()}catch{return}}}let nd;function B$(){const t="default"in An?An.default:An;return new t({autoStart:!0,concurrency:1})}async function Ce(t,e){e===!0?await t():(typeof nd>"u"&&(nd=B$()),nd.add(t))}const z$=t=>!!["LANGSMITH_TRACING_V2","LANGCHAIN_TRACING_V2","LANGSMITH_TRACING","LANGCHAIN_TRACING"].find(n=>si(n)==="true");class H${setHandler(e){return this.setHandlers([e])}}class Zu{constructor(e,n,r,i,s,a,o,l){Object.defineProperty(this,"runId",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"handlers",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"inheritableHandlers",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"inheritableTags",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"inheritableMetadata",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"_parentRunId",{enumerable:!0,configurable:!0,writable:!0,value:l})}get parentRunId(){return this._parentRunId}async handleText(e){await Promise.all(this.handlers.map(n=>Ce(async()=>{var r;try{await((r=n.handleText)==null?void 0:r.call(n,e,this.runId,this._parentRunId,this.tags))}catch(i){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleText: ${i}`),n.raiseError)throw i}},n.awaitHandlers)))}async handleCustomEvent(e,n,r,i,s){await Promise.all(this.handlers.map(a=>Ce(async()=>{var o;try{await((o=a.handleCustomEvent)==null?void 0:o.call(a,e,n,this.runId,this.tags,this.metadata))}catch(l){if((a.raiseError?console.error:console.warn)(`Error in handler ${a.constructor.name}, handleCustomEvent: ${l}`),a.raiseError)throw l}},a.awaitHandlers)))}}class W$ extends Zu{getChild(e){const n=new wt(this.runId);return n.setHandlers(this.inheritableHandlers),n.addTags(this.inheritableTags),n.addMetadata(this.inheritableMetadata),e&&n.addTags([e],!1),n}async handleRetrieverEnd(e){await Promise.all(this.handlers.map(n=>Ce(async()=>{var r;if(!n.ignoreRetriever)try{await((r=n.handleRetrieverEnd)==null?void 0:r.call(n,e,this.runId,this._parentRunId,this.tags))}catch(i){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleRetriever`),n.raiseError)throw i}},n.awaitHandlers)))}async handleRetrieverError(e){await Promise.all(this.handlers.map(n=>Ce(async()=>{var r;if(!n.ignoreRetriever)try{await((r=n.handleRetrieverError)==null?void 0:r.call(n,e,this.runId,this._parentRunId,this.tags))}catch(i){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleRetrieverError: ${i}`),n.raiseError)throw e}},n.awaitHandlers)))}}class iv extends Zu{async handleLLMNewToken(e,n,r,i,s,a){await Promise.all(this.handlers.map(o=>Ce(async()=>{var l;if(!o.ignoreLLM)try{await((l=o.handleLLMNewToken)==null?void 0:l.call(o,e,n??{prompt:0,completion:0},this.runId,this._parentRunId,this.tags,a))}catch(u){if((o.raiseError?console.error:console.warn)(`Error in handler ${o.constructor.name}, handleLLMNewToken: ${u}`),o.raiseError)throw u}},o.awaitHandlers)))}async handleLLMError(e){await Promise.all(this.handlers.map(n=>Ce(async()=>{var r;if(!n.ignoreLLM)try{await((r=n.handleLLMError)==null?void 0:r.call(n,e,this.runId,this._parentRunId,this.tags))}catch(i){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleLLMError: ${i}`),n.raiseError)throw i}},n.awaitHandlers)))}async handleLLMEnd(e){await Promise.all(this.handlers.map(n=>Ce(async()=>{var r;if(!n.ignoreLLM)try{await((r=n.handleLLMEnd)==null?void 0:r.call(n,e,this.runId,this._parentRunId,this.tags))}catch(i){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleLLMEnd: ${i}`),n.raiseError)throw i}},n.awaitHandlers)))}}class G$ extends Zu{getChild(e){const n=new wt(this.runId);return n.setHandlers(this.inheritableHandlers),n.addTags(this.inheritableTags),n.addMetadata(this.inheritableMetadata),e&&n.addTags([e],!1),n}async handleChainError(e,n,r,i,s){await Promise.all(this.handlers.map(a=>Ce(async()=>{var o;if(!a.ignoreChain)try{await((o=a.handleChainError)==null?void 0:o.call(a,e,this.runId,this._parentRunId,this.tags,s))}catch(l){if((a.raiseError?console.error:console.warn)(`Error in handler ${a.constructor.name}, handleChainError: ${l}`),a.raiseError)throw l}},a.awaitHandlers)))}async handleChainEnd(e,n,r,i,s){await Promise.all(this.handlers.map(a=>Ce(async()=>{var o;if(!a.ignoreChain)try{await((o=a.handleChainEnd)==null?void 0:o.call(a,e,this.runId,this._parentRunId,this.tags,s))}catch(l){if((a.raiseError?console.error:console.warn)(`Error in handler ${a.constructor.name}, handleChainEnd: ${l}`),a.raiseError)throw l}},a.awaitHandlers)))}async handleAgentAction(e){await Promise.all(this.handlers.map(n=>Ce(async()=>{var r;if(!n.ignoreAgent)try{await((r=n.handleAgentAction)==null?void 0:r.call(n,e,this.runId,this._parentRunId,this.tags))}catch(i){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleAgentAction: ${i}`),n.raiseError)throw i}},n.awaitHandlers)))}async handleAgentEnd(e){await Promise.all(this.handlers.map(n=>Ce(async()=>{var r;if(!n.ignoreAgent)try{await((r=n.handleAgentEnd)==null?void 0:r.call(n,e,this.runId,this._parentRunId,this.tags))}catch(i){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleAgentEnd: ${i}`),n.raiseError)throw i}},n.awaitHandlers)))}}class Z$ extends Zu{getChild(e){const n=new wt(this.runId);return n.setHandlers(this.inheritableHandlers),n.addTags(this.inheritableTags),n.addMetadata(this.inheritableMetadata),e&&n.addTags([e],!1),n}async handleToolError(e){await Promise.all(this.handlers.map(n=>Ce(async()=>{var r;if(!n.ignoreAgent)try{await((r=n.handleToolError)==null?void 0:r.call(n,e,this.runId,this._parentRunId,this.tags))}catch(i){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleToolError: ${i}`),n.raiseError)throw i}},n.awaitHandlers)))}async handleToolEnd(e){await Promise.all(this.handlers.map(n=>Ce(async()=>{var r;if(!n.ignoreAgent)try{await((r=n.handleToolEnd)==null?void 0:r.call(n,e,this.runId,this._parentRunId,this.tags))}catch(i){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleToolEnd: ${i}`),n.raiseError)throw i}},n.awaitHandlers)))}}class wt extends H${constructor(e,n){super(),Object.defineProperty(this,"handlers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"inheritableHandlers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"inheritableTags",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"inheritableMetadata",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"callback_manager"}),Object.defineProperty(this,"_parentRunId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.handlers=(n==null?void 0:n.handlers)??this.handlers,this.inheritableHandlers=(n==null?void 0:n.inheritableHandlers)??this.inheritableHandlers,this.tags=(n==null?void 0:n.tags)??this.tags,this.inheritableTags=(n==null?void 0:n.inheritableTags)??this.inheritableTags,this.metadata=(n==null?void 0:n.metadata)??this.metadata,this.inheritableMetadata=(n==null?void 0:n.inheritableMetadata)??this.inheritableMetadata,this._parentRunId=e}getParentRunId(){return this._parentRunId}async handleLLMStart(e,n,r=void 0,i=void 0,s=void 0,a=void 0,o=void 0,l=void 0){return Promise.all(n.map(async(u,c)=>{const d=c===0&&r?r:At();return await Promise.all(this.handlers.map(f=>{if(!f.ignoreLLM)return ks(f)&&f._createRunForLLMStart(e,[u],d,this._parentRunId,s,this.tags,this.metadata,l),Ce(async()=>{var h;try{await((h=f.handleLLMStart)==null?void 0:h.call(f,e,[u],d,this._parentRunId,s,this.tags,this.metadata,l))}catch(p){if((f.raiseError?console.error:console.warn)(`Error in handler ${f.constructor.name}, handleLLMStart: ${p}`),f.raiseError)throw p}},f.awaitHandlers)})),new iv(d,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChatModelStart(e,n,r=void 0,i=void 0,s=void 0,a=void 0,o=void 0,l=void 0){return Promise.all(n.map(async(u,c)=>{const d=c===0&&r?r:At();return await Promise.all(this.handlers.map(f=>{if(!f.ignoreLLM)return ks(f)&&f._createRunForChatModelStart(e,[u],d,this._parentRunId,s,this.tags,this.metadata,l),Ce(async()=>{var h,p;try{if(f.handleChatModelStart)await((h=f.handleChatModelStart)==null?void 0:h.call(f,e,[u],d,this._parentRunId,s,this.tags,this.metadata,l));else if(f.handleLLMStart){const v=Yb(u);await((p=f.handleLLMStart)==null?void 0:p.call(f,e,[v],d,this._parentRunId,s,this.tags,this.metadata,l))}}catch(v){if((f.raiseError?console.error:console.warn)(`Error in handler ${f.constructor.name}, handleLLMStart: ${v}`),f.raiseError)throw v}},f.awaitHandlers)})),new iv(d,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChainStart(e,n,r=At(),i=void 0,s=void 0,a=void 0,o=void 0){return await Promise.all(this.handlers.map(l=>{if(!l.ignoreChain)return ks(l)&&l._createRunForChainStart(e,n,r,this._parentRunId,this.tags,this.metadata,i,o),Ce(async()=>{var u;try{await((u=l.handleChainStart)==null?void 0:u.call(l,e,n,r,this._parentRunId,this.tags,this.metadata,i,o))}catch(c){if((l.raiseError?console.error:console.warn)(`Error in handler ${l.constructor.name}, handleChainStart: ${c}`),l.raiseError)throw c}},l.awaitHandlers)})),new G$(r,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleToolStart(e,n,r=At(),i=void 0,s=void 0,a=void 0,o=void 0){return await Promise.all(this.handlers.map(l=>{if(!l.ignoreAgent)return ks(l)&&l._createRunForToolStart(e,n,r,this._parentRunId,this.tags,this.metadata,o),Ce(async()=>{var u;try{await((u=l.handleToolStart)==null?void 0:u.call(l,e,n,r,this._parentRunId,this.tags,this.metadata,o))}catch(c){if((l.raiseError?console.error:console.warn)(`Error in handler ${l.constructor.name}, handleToolStart: ${c}`),l.raiseError)throw c}},l.awaitHandlers)})),new Z$(r,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleRetrieverStart(e,n,r=At(),i=void 0,s=void 0,a=void 0,o=void 0){return await Promise.all(this.handlers.map(l=>{if(!l.ignoreRetriever)return ks(l)&&l._createRunForRetrieverStart(e,n,r,this._parentRunId,this.tags,this.metadata,o),Ce(async()=>{var u;try{await((u=l.handleRetrieverStart)==null?void 0:u.call(l,e,n,r,this._parentRunId,this.tags,this.metadata,o))}catch(c){if((l.raiseError?console.error:console.warn)(`Error in handler ${l.constructor.name}, handleRetrieverStart: ${c}`),l.raiseError)throw c}},l.awaitHandlers)})),new W$(r,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleCustomEvent(e,n,r,i,s){await Promise.all(this.handlers.map(a=>Ce(async()=>{var o;if(!a.ignoreCustomEvent)try{await((o=a.handleCustomEvent)==null?void 0:o.call(a,e,n,r,this.tags,this.metadata))}catch(l){if((a.raiseError?console.error:console.warn)(`Error in handler ${a.constructor.name}, handleCustomEvent: ${l}`),a.raiseError)throw l}},a.awaitHandlers)))}addHandler(e,n=!0){this.handlers.push(e),n&&this.inheritableHandlers.push(e)}removeHandler(e){this.handlers=this.handlers.filter(n=>n!==e),this.inheritableHandlers=this.inheritableHandlers.filter(n=>n!==e)}setHandlers(e,n=!0){this.handlers=[],this.inheritableHandlers=[];for(const r of e)this.addHandler(r,n)}addTags(e,n=!0){this.removeTags(e),this.tags.push(...e),n&&this.inheritableTags.push(...e)}removeTags(e){this.tags=this.tags.filter(n=>!e.includes(n)),this.inheritableTags=this.inheritableTags.filter(n=>!e.includes(n))}addMetadata(e,n=!0){this.metadata={...this.metadata,...e},n&&(this.inheritableMetadata={...this.inheritableMetadata,...e})}removeMetadata(e){for(const n of Object.keys(e))delete this.metadata[n],delete this.inheritableMetadata[n]}copy(e=[],n=!0){const r=new wt(this._parentRunId);for(const i of this.handlers){const s=this.inheritableHandlers.includes(i);r.addHandler(i,s)}for(const i of this.tags){const s=this.inheritableTags.includes(i);r.addTags([i],s)}for(const i of Object.keys(this.metadata)){const s=Object.keys(this.inheritableMetadata).includes(i);r.addMetadata({[i]:this.metadata[i]},s)}for(const i of e)r.handlers.filter(s=>s.name==="console_callback_handler").some(s=>s.name===i.name)||r.addHandler(i,n);return r}static fromHandlers(e){class n extends io{constructor(){super(),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:At()}),Object.assign(this,e)}}const r=new this;return r.addHandler(new n),r}static configure(e,n,r,i,s,a,o){return this._configureSync(e,n,r,i,s,a,o)}static _configureSync(e,n,r,i,s,a,o){var f,h;let l;(e||n)&&(Array.isArray(e)||!e?(l=new wt,l.setHandlers((e==null?void 0:e.map(ql))??[],!0)):l=e,l=l.copy(Array.isArray(n)?n.map(ql):n==null?void 0:n.handlers,!1));const u=si("LANGCHAIN_VERBOSE")==="true"||(o==null?void 0:o.verbose),c=((f=ta.getTraceableRunTree())==null?void 0:f.tracingEnabled)||z$(),d=c||(si("LANGCHAIN_TRACING")??!1);if(u||d){if(l||(l=new wt),u&&!l.handlers.some(p=>p.name===rv.prototype.name)){const p=new rv;l.addHandler(p,!0)}if(d&&!l.handlers.some(p=>p.name==="langchain_tracer")&&c){const p=new ta;l.addHandler(p,!0),l._parentRunId=((h=ta.getTraceableRunTree())==null?void 0:h.id)??l._parentRunId}}return(r||i)&&l&&(l.addTags(r??[]),l.addTags(i??[],!1)),(s||a)&&l&&(l.addMetadata(s??{}),l.addMetadata(a??{},!1)),l}}function ql(t){return"name"in t?t:io.fromMethods(t)}class K${getStore(){}run(e,n){return n()}}const q$=new K$,rd=Symbol.for("ls:tracing_async_local_storage"),sv=Symbol.for("lc:child_config");class J${getInstance(){return globalThis[rd]??q$}getRunnableConfig(){var n,r;return(r=(n=this.getInstance().getStore())==null?void 0:n.extra)==null?void 0:r[sv]}runWithConfig(e,n,r){var u;const i=wt._configureSync(e==null?void 0:e.callbacks,void 0,e==null?void 0:e.tags,void 0,e==null?void 0:e.metadata),s=this.getInstance(),a=i==null?void 0:i.getParentRunId(),o=(u=i==null?void 0:i.handlers)==null?void 0:u.find(c=>(c==null?void 0:c.name)==="langchain_tracer");let l;return o&&a?l=o.convertToRunTree(a):r||(l=new pt({name:"<runnable_lambda>",tracingEnabled:!1})),l&&(l.extra={...l.extra,[sv]:e}),s.run(l,n)}initializeGlobalInstance(e){globalThis[rd]===void 0&&(globalThis[rd]=e)}}const ai=new J$;async function Er(t,e){if(e===void 0)return t;let n;return Promise.race([t.catch(r=>{if(!(e!=null&&e.aborted))throw r}),new Promise((r,i)=>{n=()=>{i(new Error("Aborted"))},e.addEventListener("abort",n),e.aborted&&i(new Error("Aborted"))})]).finally(()=>e.removeEventListener("abort",n))}class xt extends ReadableStream{constructor(){super(...arguments),Object.defineProperty(this,"reader",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}ensureReader(){this.reader||(this.reader=this.getReader())}async next(){this.ensureReader();try{const e=await this.reader.read();return e.done?(this.reader.releaseLock(),{done:!0,value:void 0}):{done:!1,value:e.value}}catch(e){throw this.reader.releaseLock(),e}}async return(){if(this.ensureReader(),this.locked){const e=this.reader.cancel();this.reader.releaseLock(),await e}return{done:!0,value:void 0}}async throw(e){if(this.ensureReader(),this.locked){const n=this.reader.cancel();this.reader.releaseLock(),await n}throw e}[Symbol.asyncIterator](){return this}async[Symbol.asyncDispose](){await this.return()}static fromReadableStream(e){const n=e.getReader();return new xt({start(r){return i();function i(){return n.read().then(({done:s,value:a})=>{if(s){r.close();return}return r.enqueue(a),i()})}},cancel(){n.releaseLock()}})}static fromAsyncGenerator(e){return new xt({async pull(n){const{value:r,done:i}=await e.next();i&&n.close(),n.enqueue(r)},async cancel(n){await e.return(n)}})}}function Ex(t,e=2){const n=Array.from({length:e},()=>[]);return n.map(async function*(i){for(;;)if(i.length===0){const s=await t.next();for(const a of n)a.push(s)}else{if(i[0].done)return;yield i.shift().value}})}function Xt(t,e){if(Array.isArray(t)&&Array.isArray(e))return t.concat(e);if(typeof t=="string"&&typeof e=="string")return t+e;if(typeof t=="number"&&typeof e=="number")return t+e;if("concat"in t&&typeof t.concat=="function")return t.concat(e);if(typeof t=="object"&&typeof e=="object"){const n={...t};for(const[r,i]of Object.entries(e))r in n&&!Array.isArray(n[r])?n[r]=Xt(n[r],i):n[r]=i;return n}else throw new Error(`Cannot concat ${typeof t} and ${typeof e}`)}class ms{constructor(e){var n;Object.defineProperty(this,"generator",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"setup",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"firstResult",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"firstResultUsed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this.generator=e.generator,this.config=e.config,this.signal=e.signal??((n=this.config)==null?void 0:n.signal),this.setup=new Promise((r,i)=>{ai.runWithConfig(e.config,async()=>{this.firstResult=e.generator.next(),e.startSetup?this.firstResult.then(e.startSetup).then(r,i):this.firstResult.then(s=>r(void 0),i)},!0)})}async next(...e){var n;return(n=this.signal)==null||n.throwIfAborted(),this.firstResultUsed?ai.runWithConfig(this.config,this.signal?async()=>Er(this.generator.next(...e),this.signal):async()=>this.generator.next(...e),!0):(this.firstResultUsed=!0,this.firstResult)}async return(e){return this.generator.return(e)}async throw(e){return this.generator.throw(e)}[Symbol.asyncIterator](){return this}async[Symbol.asyncDispose](){await this.return()}}async function X$(t,e,n,r,...i){const s=new ms({generator:e,startSetup:n,signal:r}),a=await s.setup;return{output:t(s,a,...i),setup:a}}class Zn{constructor(e){Object.defineProperty(this,"ops",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.ops=e.ops??[]}concat(e){const n=this.ops.concat(e.ops),r=Wl({},n);return new Ba({ops:n,state:r[r.length-1].newDocument})}}class Ba extends Zn{constructor(e){super(e),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.state=e.state}concat(e){const n=this.ops.concat(e.ops),r=Wl(this.state,e.ops);return new Ba({ops:n,state:r[r.length-1].newDocument})}static fromRunLogPatch(e){const n=Wl({},e.ops);return new Ba({ops:e.ops,state:n[n.length-1].newDocument})}}const Sx=t=>t.name==="log_stream_tracer";async function av(t,e){if(e==="original")throw new Error("Do not assign inputs with original schema drop the key for now. When inputs are added to streamLog they should be added with standardized schema for streaming events.");const{inputs:n}=t;if(["retriever","llm","prompt"].includes(t.run_type))return n;if(!(Object.keys(n).length===1&&(n==null?void 0:n.input)===""))return n.input}async function ov(t,e){const{outputs:n}=t;return e==="original"||["retriever","llm","prompt"].includes(t.run_type)?n:n!==void 0&&Object.keys(n).length===1&&(n==null?void 0:n.output)!==void 0?n.output:n}function Q$(t){return t!==void 0&&t.message!==void 0}class lv extends so{constructor(e){super({_awaitHandler:!0,...e}),Object.defineProperty(this,"autoClose",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"includeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_schemaFormat",{enumerable:!0,configurable:!0,writable:!0,value:"original"}),Object.defineProperty(this,"rootId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"keyMapByRunId",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"counterMapByRunName",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"transformStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"writer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"receiveStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"log_stream_tracer"}),this.autoClose=(e==null?void 0:e.autoClose)??!0,this.includeNames=e==null?void 0:e.includeNames,this.includeTypes=e==null?void 0:e.includeTypes,this.includeTags=e==null?void 0:e.includeTags,this.excludeNames=e==null?void 0:e.excludeNames,this.excludeTypes=e==null?void 0:e.excludeTypes,this.excludeTags=e==null?void 0:e.excludeTags,this._schemaFormat=(e==null?void 0:e._schemaFormat)??this._schemaFormat,this.transformStream=new TransformStream,this.writer=this.transformStream.writable.getWriter(),this.receiveStream=xt.fromReadableStream(this.transformStream.readable)}[Symbol.asyncIterator](){return this.receiveStream}async persistRun(e){}_includeRun(e){if(e.id===this.rootId)return!1;const n=e.tags??[];let r=this.includeNames===void 0&&this.includeTags===void 0&&this.includeTypes===void 0;return this.includeNames!==void 0&&(r=r||this.includeNames.includes(e.name)),this.includeTypes!==void 0&&(r=r||this.includeTypes.includes(e.run_type)),this.includeTags!==void 0&&(r=r||n.find(i=>{var s;return(s=this.includeTags)==null?void 0:s.includes(i)})!==void 0),this.excludeNames!==void 0&&(r=r&&!this.excludeNames.includes(e.name)),this.excludeTypes!==void 0&&(r=r&&!this.excludeTypes.includes(e.run_type)),this.excludeTags!==void 0&&(r=r&&n.every(i=>{var s;return!((s=this.excludeTags)!=null&&s.includes(i))})),r}async*tapOutputIterable(e,n){for await(const r of n){if(e!==this.rootId){const i=this.keyMapByRunId[e];i&&await this.writer.write(new Zn({ops:[{op:"add",path:`/logs/${i}/streamed_output/-`,value:r}]}))}yield r}}async onRunCreate(e){var i;if(this.rootId===void 0&&(this.rootId=e.id,await this.writer.write(new Zn({ops:[{op:"replace",path:"",value:{id:e.id,name:e.name,type:e.run_type,streamed_output:[],final_output:void 0,logs:{}}}]}))),!this._includeRun(e))return;this.counterMapByRunName[e.name]===void 0&&(this.counterMapByRunName[e.name]=0),this.counterMapByRunName[e.name]+=1;const n=this.counterMapByRunName[e.name];this.keyMapByRunId[e.id]=n===1?e.name:`${e.name}:${n}`;const r={id:e.id,name:e.name,type:e.run_type,tags:e.tags??[],metadata:((i=e.extra)==null?void 0:i.metadata)??{},start_time:new Date(e.start_time).toISOString(),streamed_output:[],streamed_output_str:[],final_output:void 0,end_time:void 0};this._schemaFormat==="streaming_events"&&(r.inputs=await av(e,this._schemaFormat)),await this.writer.write(new Zn({ops:[{op:"add",path:`/logs/${this.keyMapByRunId[e.id]}`,value:r}]}))}async onRunUpdate(e){try{const n=this.keyMapByRunId[e.id];if(n===void 0)return;const r=[];this._schemaFormat==="streaming_events"&&r.push({op:"replace",path:`/logs/${n}/inputs`,value:await av(e,this._schemaFormat)}),r.push({op:"add",path:`/logs/${n}/final_output`,value:await ov(e,this._schemaFormat)}),e.end_time!==void 0&&r.push({op:"add",path:`/logs/${n}/end_time`,value:new Date(e.end_time).toISOString()});const i=new Zn({ops:r});await this.writer.write(i)}finally{if(e.id===this.rootId){const n=new Zn({ops:[{op:"replace",path:"/final_output",value:await ov(e,this._schemaFormat)}]});await this.writer.write(n),this.autoClose&&await this.writer.close()}}}async onLLMNewToken(e,n,r){const i=this.keyMapByRunId[e.id];if(i===void 0)return;const s=e.inputs.messages!==void 0;let a;s?Q$(r==null?void 0:r.chunk)?a=r==null?void 0:r.chunk:a=new xr({id:`run-${e.id}`,content:n}):a=n;const o=new Zn({ops:[{op:"add",path:`/logs/${i}/streamed_output_str/-`,value:n},{op:"add",path:`/logs/${i}/streamed_output/-`,value:a}]});await this.writer.write(o)}}const uv="__run";class ss{constructor(e){Object.defineProperty(this,"text",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"generationInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.text=e.text,this.generationInfo=e.generationInfo}concat(e){return new ss({text:this.text+e.text,generationInfo:{...this.generationInfo,...e.generationInfo}})}}class qr extends ss{constructor(e){super(e),Object.defineProperty(this,"message",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.message=e.message}concat(e){return new qr({text:this.text+e.text,generationInfo:{...this.generationInfo,...e.generationInfo},message:this.message.concat(e.message)})}}function Do({name:t,serialized:e}){return t!==void 0?t:(e==null?void 0:e.name)!==void 0?e.name:(e==null?void 0:e.id)!==void 0&&Array.isArray(e==null?void 0:e.id)?e.id[e.id.length-1]:"Unnamed"}const Tx=t=>t.name==="event_stream_tracer";class Y$ extends so{constructor(e){super({_awaitHandler:!0,...e}),Object.defineProperty(this,"autoClose",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"includeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"runInfoMap",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"tappedPromises",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"transformStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"writer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"receiveStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"event_stream_tracer"}),this.autoClose=(e==null?void 0:e.autoClose)??!0,this.includeNames=e==null?void 0:e.includeNames,this.includeTypes=e==null?void 0:e.includeTypes,this.includeTags=e==null?void 0:e.includeTags,this.excludeNames=e==null?void 0:e.excludeNames,this.excludeTypes=e==null?void 0:e.excludeTypes,this.excludeTags=e==null?void 0:e.excludeTags,this.transformStream=new TransformStream,this.writer=this.transformStream.writable.getWriter(),this.receiveStream=xt.fromReadableStream(this.transformStream.readable)}[Symbol.asyncIterator](){return this.receiveStream}async persistRun(e){}_includeRun(e){const n=e.tags??[];let r=this.includeNames===void 0&&this.includeTags===void 0&&this.includeTypes===void 0;return this.includeNames!==void 0&&(r=r||this.includeNames.includes(e.name)),this.includeTypes!==void 0&&(r=r||this.includeTypes.includes(e.runType)),this.includeTags!==void 0&&(r=r||n.find(i=>{var s;return(s=this.includeTags)==null?void 0:s.includes(i)})!==void 0),this.excludeNames!==void 0&&(r=r&&!this.excludeNames.includes(e.name)),this.excludeTypes!==void 0&&(r=r&&!this.excludeTypes.includes(e.runType)),this.excludeTags!==void 0&&(r=r&&n.every(i=>{var s;return!((s=this.excludeTags)!=null&&s.includes(i))})),r}async*tapOutputIterable(e,n){const r=await n.next();if(r.done)return;const i=this.runInfoMap.get(e);if(i===void 0){yield r.value;return}function s(o,l){return o==="llm"&&typeof l=="string"?new ss({text:l}):l}let a=this.tappedPromises.get(e);if(a===void 0){let o;a=new Promise(l=>{o=l}),this.tappedPromises.set(e,a);try{const l={event:`on_${i.runType}_stream`,run_id:e,name:i.name,tags:i.tags,metadata:i.metadata,data:{}};await this.send({...l,data:{chunk:s(i.runType,r.value)}},i),yield r.value;for await(const u of n)i.runType!=="tool"&&i.runType!=="retriever"&&await this.send({...l,data:{chunk:s(i.runType,u)}},i),yield u}finally{o()}}else{yield r.value;for await(const o of n)yield o}}async send(e,n){this._includeRun(n)&&await this.writer.write(e)}async sendEndEvent(e,n){const r=this.tappedPromises.get(e.run_id);r!==void 0?r.then(()=>{this.send(e,n)}):await this.send(e,n)}async onLLMStart(e){var a,o;const n=Do(e),r=e.inputs.messages!==void 0?"chat_model":"llm",i={tags:e.tags??[],metadata:((a=e.extra)==null?void 0:a.metadata)??{},name:n,runType:r,inputs:e.inputs};this.runInfoMap.set(e.id,i);const s=`on_${r}_start`;await this.send({event:s,data:{input:e.inputs},name:n,tags:e.tags??[],run_id:e.id,metadata:((o=e.extra)==null?void 0:o.metadata)??{}},i)}async onLLMNewToken(e,n,r){const i=this.runInfoMap.get(e.id);let s,a;if(i===void 0)throw new Error(`onLLMNewToken: Run ID ${e.id} not found in run map.`);if(e.parent_run_id!==void 0){if(i.runType==="chat_model")a="on_chat_model_stream",(r==null?void 0:r.chunk)===void 0?s=new xr({content:n,id:`run-${e.id}`}):s=r.chunk.message;else if(i.runType==="llm")a="on_llm_stream",(r==null?void 0:r.chunk)===void 0?s=new ss({text:n}):s=r.chunk;else throw new Error(`Unexpected run type ${i.runType}`);await this.send({event:a,data:{chunk:s},run_id:e.id,name:i.name,tags:i.tags,metadata:i.metadata},i)}}async onLLMEnd(e){var a,o,l;const n=this.runInfoMap.get(e.id);this.runInfoMap.delete(e.id);let r;if(n===void 0)throw new Error(`onLLMEnd: Run ID ${e.id} not found in run map.`);const i=(a=e.outputs)==null?void 0:a.generations;let s;if(n.runType==="chat_model"){for(const u of i??[]){if(s!==void 0)break;s=(o=u[0])==null?void 0:o.message}r="on_chat_model_end"}else if(n.runType==="llm")s={generations:i==null?void 0:i.map(u=>u.map(c=>({text:c.text,generationInfo:c.generationInfo}))),llmOutput:((l=e.outputs)==null?void 0:l.llmOutput)??{}},r="on_llm_end";else throw new Error(`onLLMEnd: Unexpected run type: ${n.runType}`);await this.sendEndEvent({event:r,data:{output:s,input:n.inputs},run_id:e.id,name:n.name,tags:n.tags,metadata:n.metadata},n)}async onChainStart(e){var a,o;const n=Do(e),r=e.run_type??"chain",i={tags:e.tags??[],metadata:((a=e.extra)==null?void 0:a.metadata)??{},name:n,runType:e.run_type};let s={};e.inputs.input===""&&Object.keys(e.inputs).length===1?(s={},i.inputs={}):e.inputs.input!==void 0?(s.input=e.inputs.input,i.inputs=e.inputs.input):(s.input=e.inputs,i.inputs=e.inputs),this.runInfoMap.set(e.id,i),await this.send({event:`on_${r}_start`,data:s,name:n,tags:e.tags??[],run_id:e.id,metadata:((o=e.extra)==null?void 0:o.metadata)??{}},i)}async onChainEnd(e){var o;const n=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),n===void 0)throw new Error(`onChainEnd: Run ID ${e.id} not found in run map.`);const r=`on_${e.run_type}_end`,i=e.inputs??n.inputs??{},a={output:((o=e.outputs)==null?void 0:o.output)??e.outputs,input:i};i.input&&Object.keys(i).length===1&&(a.input=i.input,n.inputs=i.input),await this.sendEndEvent({event:r,data:a,run_id:e.id,name:n.name,tags:n.tags,metadata:n.metadata??{}},n)}async onToolStart(e){var i,s;const n=Do(e),r={tags:e.tags??[],metadata:((i=e.extra)==null?void 0:i.metadata)??{},name:n,runType:"tool",inputs:e.inputs??{}};this.runInfoMap.set(e.id,r),await this.send({event:"on_tool_start",data:{input:e.inputs??{}},name:n,run_id:e.id,tags:e.tags??[],metadata:((s=e.extra)==null?void 0:s.metadata)??{}},r)}async onToolEnd(e){var i;const n=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),n===void 0)throw new Error(`onToolEnd: Run ID ${e.id} not found in run map.`);if(n.inputs===void 0)throw new Error(`onToolEnd: Run ID ${e.id} is a tool call, and is expected to have traced inputs.`);const r=((i=e.outputs)==null?void 0:i.output)===void 0?e.outputs:e.outputs.output;await this.sendEndEvent({event:"on_tool_end",data:{output:r,input:n.inputs},run_id:e.id,name:n.name,tags:n.tags,metadata:n.metadata},n)}async onRetrieverStart(e){var s,a;const n=Do(e),i={tags:e.tags??[],metadata:((s=e.extra)==null?void 0:s.metadata)??{},name:n,runType:"retriever",inputs:{query:e.inputs.query}};this.runInfoMap.set(e.id,i),await this.send({event:"on_retriever_start",data:{input:{query:e.inputs.query}},name:n,tags:e.tags??[],run_id:e.id,metadata:((a=e.extra)==null?void 0:a.metadata)??{}},i)}async onRetrieverEnd(e){var r;const n=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),n===void 0)throw new Error(`onRetrieverEnd: Run ID ${e.id} not found in run map.`);await this.sendEndEvent({event:"on_retriever_end",data:{output:((r=e.outputs)==null?void 0:r.documents)??e.outputs,input:n.inputs},run_id:e.id,name:n.name,tags:n.tags,metadata:n.metadata},n)}async handleCustomEvent(e,n,r){const i=this.runInfoMap.get(r);if(i===void 0)throw new Error(`handleCustomEvent: Run ID ${r} not found in run map.`);await this.send({event:"on_custom_event",run_id:r,name:e,tags:i.tags,metadata:i.metadata,data:n},i)}async finish(){const e=[...this.tappedPromises.values()];Promise.all(e).finally(()=>{this.writer.close()})}}const id=25;async function Qt(t){return wt._configureSync(t==null?void 0:t.callbacks,void 0,t==null?void 0:t.tags,void 0,t==null?void 0:t.metadata)}function cv(...t){const e={};for(const n of t.filter(r=>!!r))for(const r of Object.keys(n))if(r==="metadata")e[r]={...e[r],...n[r]};else if(r==="tags"){const i=e[r]??[];e[r]=[...new Set(i.concat(n[r]??[]))]}else if(r==="configurable")e[r]={...e[r],...n[r]};else if(r==="timeout")e.timeout===void 0?e.timeout=n.timeout:n.timeout!==void 0&&(e.timeout=Math.min(e.timeout,n.timeout));else if(r==="signal")e.signal===void 0?e.signal=n.signal:n.signal!==void 0&&("any"in AbortSignal?e.signal=AbortSignal.any([e.signal,n.signal]):e.signal=n.signal);else if(r==="callbacks"){const i=e.callbacks,s=n.callbacks;if(Array.isArray(s))if(!i)e.callbacks=s;else if(Array.isArray(i))e.callbacks=i.concat(s);else{const a=i.copy();for(const o of s)a.addHandler(ql(o),!0);e.callbacks=a}else if(s)if(!i)e.callbacks=s;else if(Array.isArray(i)){const a=s.copy();for(const o of i)a.addHandler(ql(o),!0);e.callbacks=a}else e.callbacks=new wt(s._parentRunId,{handlers:i.handlers.concat(s.handlers),inheritableHandlers:i.inheritableHandlers.concat(s.inheritableHandlers),tags:Array.from(new Set(i.tags.concat(s.tags))),inheritableTags:Array.from(new Set(i.inheritableTags.concat(s.inheritableTags))),metadata:{...i.metadata,...s.metadata}})}else{const i=r;e[i]=n[i]??e[i]}return e}const e2=new Set(["string","number","boolean"]);function se(t){var r;const e=ai.getRunnableConfig();let n={tags:[],metadata:{},recursionLimit:25,runId:void 0};if(e){const{runId:i,runName:s,...a}=e;n=Object.entries(a).reduce((o,[l,u])=>(u!==void 0&&(o[l]=u),o),n)}if(t&&(n=Object.entries(t).reduce((i,[s,a])=>(a!==void 0&&(i[s]=a),i),n)),n!=null&&n.configurable)for(const i of Object.keys(n.configurable))e2.has(typeof n.configurable[i])&&!((r=n.metadata)!=null&&r[i])&&(n.metadata||(n.metadata={}),n.metadata[i]=n.configurable[i]);if(n.timeout!==void 0){if(n.timeout<=0)throw new Error("Timeout must be a positive number");const i=AbortSignal.timeout(n.timeout);n.signal!==void 0?"any"in AbortSignal&&(n.signal=AbortSignal.any([n.signal,i])):n.signal=i,delete n.timeout}return n}function We(t={},{callbacks:e,maxConcurrency:n,recursionLimit:r,runName:i,configurable:s,runId:a}={}){const o=se(t);return e!==void 0&&(delete o.runName,o.callbacks=e),r!==void 0&&(o.recursionLimit=r),n!==void 0&&(o.maxConcurrency=n),i!==void 0&&(o.runName=i),s!==void 0&&(o.configurable={...o.configurable,...s}),a!==void 0&&delete o.runId,o}const t2=[400,401,402,403,404,405,406,407,409],n2=t=>{var n,r;if(t.message.startsWith("Cancel")||t.message.startsWith("AbortError")||t.name==="AbortError"||(t==null?void 0:t.code)==="ECONNABORTED")throw t;const e=((n=t==null?void 0:t.response)==null?void 0:n.status)??(t==null?void 0:t.status);if(e&&t2.includes(+e))throw t;if(((r=t==null?void 0:t.error)==null?void 0:r.code)==="insufficient_quota"){const i=new Error(t==null?void 0:t.message);throw i.name="InsufficientQuotaError",i}};class Ap{constructor(e){Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onFailedAttempt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxConcurrency=e.maxConcurrency??1/0,this.maxRetries=e.maxRetries??6,this.onFailedAttempt=e.onFailedAttempt??n2;const n="default"in An?An.default:An;this.queue=new n({concurrency:this.maxConcurrency})}call(e,...n){return this.queue.add(()=>zl(()=>e(...n).catch(r=>{throw r instanceof Error?r:new Error(r)}),{onFailedAttempt:this.onFailedAttempt,retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0})}callWithOptions(e,n,...r){return e.signal?Promise.race([this.call(n,...r),new Promise((i,s)=>{var a;(a=e.signal)==null||a.addEventListener("abort",()=>{s(new Error("AbortError"))})})]):this.call(n,...r)}fetch(...e){return this.call(()=>fetch(...e).then(n=>n.ok?n:Promise.reject(n)))}}class Px extends so{constructor({config:e,onStart:n,onEnd:r,onError:i}){super({_awaitHandler:!0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RootListenersTracer"}),Object.defineProperty(this,"rootId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"argOnStart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"argOnEnd",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"argOnError",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.config=e,this.argOnStart=n,this.argOnEnd=r,this.argOnError=i}persistRun(e){return Promise.resolve()}async onRunCreate(e){this.rootId||(this.rootId=e.id,this.argOnStart&&await this.argOnStart(e,this.config))}async onRunUpdate(e){e.id===this.rootId&&(e.error?this.argOnError&&await this.argOnError(e,this.config):this.argOnEnd&&await this.argOnEnd(e,this.config))}}function Np(t){return t?t.lc_runnable:!1}class r2{constructor(e){Object.defineProperty(this,"includeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.includeNames=e.includeNames,this.includeTypes=e.includeTypes,this.includeTags=e.includeTags,this.excludeNames=e.excludeNames,this.excludeTypes=e.excludeTypes,this.excludeTags=e.excludeTags}includeEvent(e,n){let r=this.includeNames===void 0&&this.includeTypes===void 0&&this.includeTags===void 0;const i=e.tags??[];return this.includeNames!==void 0&&(r=r||this.includeNames.includes(e.name)),this.includeTypes!==void 0&&(r=r||this.includeTypes.includes(n)),this.includeTags!==void 0&&(r=r||i.some(s=>{var a;return(a=this.includeTags)==null?void 0:a.includes(s)})),this.excludeNames!==void 0&&(r=r&&!this.excludeNames.includes(e.name)),this.excludeTypes!==void 0&&(r=r&&!this.excludeTypes.includes(n)),this.excludeTags!==void 0&&(r=r&&i.every(s=>{var a;return!((a=this.excludeTags)!=null&&a.includes(s))})),r}}function sd(t){return t.replace(/[^a-zA-Z-_0-9]/g,"_")}function i2(t,e){const n=e[t.source]??t.source,r=e[t.target]??t.target;return[n,r]}function s2(t){let e="";for(const[n,r]of Object.entries(t))e+=`	classDef ${n}class fill:${r};
`;return e}function a2(t,e,n){const{firstNodeLabel:r,lastNodeLabel:i,nodeColors:s,withStyles:a=!0,curveStyle:o="linear",wrapLabelNWords:l=9}=n??{};let u=a?`%%{init: {'flowchart': {'curve': '${o}'}}}%%
graph TD;
`:`graph TD;
`;if(a){const d="default",f={[d]:"{0}([{1}]):::otherclass"};r!==void 0&&(f[r]="{0}[{0}]:::startclass"),i!==void 0&&(f[i]="{0}[{0}]:::endclass");for(const h of Object.values(t)){const p=f[h]??f[d],v=sd(h),w=h.split(":"),m=w[w.length-1];u+=`	${p.replace(/\{0\}/g,v).replace(/\{1\}/g,m)};
`}}let c="";for(const d of e){const f=d.source.includes(":")?d.source.split(":")[0]:void 0,h=d.target.includes(":")?d.target.split(":")[0]:void 0;c!==""&&(c!==f||c!==h)&&(u+=`	end
`,c=""),c===""&&f!==void 0&&f===h&&(u=`	subgraph ${f}
`,c=f);const[p,v]=i2(d,t);let w="";if(d.data!==void 0){let m=d.data;const g=m.split(" ");g.length>l&&(m=g.reduce((y,b,x)=>(x%l===0&&y.push(""),y[y.length-1]+=` ${b}`,y),[]).join("<br>")),d.conditional?w=` -. ${m} .-> `:w=` -- ${m} --> `}else d.conditional?w=" -.-> ":w=" --> ";u+=`	${sd(p)}${w}${sd(v)};
`}return c!==""&&(u+=`end
`),a&&s!==void 0&&(u+=s2(s)),u}async function o2(t,e){let{backgroundColor:n="white"}=e??{};const r=btoa(t);n!==void 0&&(/^#(?:[0-9a-fA-F]{3}){1,2}$/.test(n)||(n=`!${n}`));const i=`https://mermaid.ink/img/${r}?bgColor=${n}`,s=await fetch(i);if(!s.ok)throw new Error(["Failed to render the graph using the Mermaid.INK API.",`Status code: ${s.status}`,`Status text: ${s.statusText}`].join(`
`));return await s.blob()}const dv=42;function ad(t){if(Hl(t.id))if(Np(t.data))try{let e=t.data.getName();return e=e.startsWith("Runnable")?e.slice(8):e,e.length>dv&&(e=`${e.substring(0,dv)}...`),e}catch{return t.data.getName()}else return t.data.name??"UnknownSchema";else return t.id}function l2(t){return Np(t.data)?{type:"runnable",data:{id:t.data.lc_id,name:t.data.getName()}}:{type:"schema",data:{...to(t.data.schema),title:t.data.name}}}class kx{constructor(){Object.defineProperty(this,"nodes",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"edges",{enumerable:!0,configurable:!0,writable:!0,value:[]})}toJSON(){const e={};return Object.values(this.nodes).forEach((n,r)=>{e[n.id]=Hl(n.id)?r:n.id}),{nodes:Object.values(this.nodes).map(n=>({id:e[n.id],...l2(n)})),edges:this.edges.map(n=>{const r={source:e[n.source],target:e[n.target]};return typeof n.data<"u"&&(r.data=n.data),typeof n.conditional<"u"&&(r.conditional=n.conditional),r})}}addNode(e,n){if(n!==void 0&&this.nodes[n]!==void 0)throw new Error(`Node with id ${n} already exists`);const r=n||At(),i={id:r,data:e};return this.nodes[r]=i,i}removeNode(e){delete this.nodes[e.id],this.edges=this.edges.filter(n=>n.source!==e.id&&n.target!==e.id)}addEdge(e,n,r,i){if(this.nodes[e.id]===void 0)throw new Error(`Source node ${e.id} not in graph`);if(this.nodes[n.id]===void 0)throw new Error(`Target node ${n.id} not in graph`);const s={source:e.id,target:n.id,data:r,conditional:i};return this.edges.push(s),s}firstNode(){const e=new Set(this.edges.map(r=>r.target)),n=[];return Object.values(this.nodes).forEach(r=>{e.has(r.id)||n.push(r)}),n[0]}lastNode(){const e=new Set(this.edges.map(r=>r.source)),n=[];return Object.values(this.nodes).forEach(r=>{e.has(r.id)||n.push(r)}),n[0]}extend(e,n=""){let r=n;Object.values(e.nodes).map(u=>u.id).every(Hl)&&(r="");const s=u=>r?`${r}:${u}`:u;Object.entries(e.nodes).forEach(([u,c])=>{this.nodes[s(u)]={...c,id:s(u)}});const a=e.edges.map(u=>({...u,source:s(u.source),target:s(u.target)}));this.edges=[...this.edges,...a];const o=e.firstNode(),l=e.lastNode();return[o?{id:s(o.id),data:o.data}:void 0,l?{id:s(l.id),data:l.data}:void 0]}trimFirstNode(){const e=this.firstNode();if(e){const n=this.edges.filter(r=>r.source===e.id);(Object.keys(this.nodes).length===1||n.length===1)&&this.removeNode(e)}}trimLastNode(){const e=this.lastNode();if(e){const n=this.edges.filter(r=>r.target===e.id);(Object.keys(this.nodes).length===1||n.length===1)&&this.removeNode(e)}}drawMermaid(e){const{withStyles:n,curveStyle:r,nodeColors:i={start:"#ffdfba",end:"#baffc9",other:"#fad7de"},wrapLabelNWords:s}=e??{},a={};for(const d of Object.values(this.nodes))a[d.id]=ad(d);const o=this.firstNode(),l=o?ad(o):void 0,u=this.lastNode(),c=u?ad(u):void 0;return a2(a,this.edges,{firstNodeLabel:l,lastNodeLabel:c,withStyles:n,curveStyle:r,nodeColors:i,wrapLabelNWords:s})}async drawMermaidPng(e){const n=this.drawMermaid(e);return o2(n,{backgroundColor:e==null?void 0:e.backgroundColor})}}function u2(t){const e=new TextEncoder,n=new ReadableStream({async start(r){for await(const i of t)r.enqueue(e.encode(`event: data
data: ${JSON.stringify(i)}

`));r.enqueue(e.encode(`event: end

`)),r.close()}});return xt.fromReadableStream(n)}function fv(t){return typeof t=="object"&&t!==null&&typeof t[Symbol.iterator]=="function"&&typeof t.next=="function"}const c2=t=>t!=null&&typeof t=="object"&&"next"in t&&typeof t.next=="function";function Mf(t){return typeof t=="object"&&t!==null&&typeof t[Symbol.asyncIterator]=="function"}function*hv(t,e){for(;;){const{value:n,done:r}=ai.runWithConfig(t,e.next.bind(e),!0);if(r)break;yield n}}async function*pv(t,e){const n=e[Symbol.asyncIterator]();for(;;){const{value:r,done:i}=await ai.runWithConfig(t,n.next.bind(e),!0);if(i)break;yield r}}function je(t,e){return t&&!Array.isArray(t)&&!(t instanceof Date)&&typeof t=="object"?t:{[e]:t}}class Oe extends ii{constructor(){super(...arguments),Object.defineProperty(this,"lc_runnable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}getName(e){const n=this.name??this.constructor.lc_name()??this.constructor.name;return e?`${n}${e}`:n}bind(e){return new Jr({bound:this,kwargs:e,config:{}})}map(){return new Jl({bound:this})}withRetry(e){return new d2({bound:this,kwargs:{},config:{},maxAttemptNumber:e==null?void 0:e.stopAfterAttempt,...e})}withConfig(e){return new Jr({bound:this,config:e,kwargs:{}})}withFallbacks(e){const n=Array.isArray(e)?e:e.fallbacks;return new h2({runnable:this,fallbacks:n})}_getOptionsList(e,n=0){if(Array.isArray(e)&&e.length!==n)throw new Error(`Passed "options" must be an array with the same length as the inputs, but got ${e.length} options for ${n} inputs`);if(Array.isArray(e))return e.map(se);if(n>1&&!Array.isArray(e)&&e.runId){console.warn("Provided runId will be used only for the first element of the batch.");const r=Object.fromEntries(Object.entries(e).filter(([i])=>i!=="runId"));return Array.from({length:n},(i,s)=>se(s===0?e:r))}return Array.from({length:n},()=>se(e))}async batch(e,n,r){var l;const i=this._getOptionsList(n??{},e.length),s=((l=i[0])==null?void 0:l.maxConcurrency)??(r==null?void 0:r.maxConcurrency),a=new Ap({maxConcurrency:s,onFailedAttempt:u=>{throw u}}),o=e.map((u,c)=>a.call(async()=>{try{return await this.invoke(u,i[c])}catch(d){if(r!=null&&r.returnExceptions)return d;throw d}}));return Promise.all(o)}async*_streamIterator(e,n){yield this.invoke(e,n)}async stream(e,n){const r=se(n),i=new ms({generator:this._streamIterator(e,r),config:r});return await i.setup,xt.fromAsyncGenerator(i)}_separateRunnableConfigFromCallOptions(e){let n;e===void 0?n=se(e):n=se({callbacks:e.callbacks,tags:e.tags,metadata:e.metadata,runName:e.runName,configurable:e.configurable,recursionLimit:e.recursionLimit,maxConcurrency:e.maxConcurrency,runId:e.runId,timeout:e.timeout,signal:e.signal});const r={...e};return delete r.callbacks,delete r.tags,delete r.metadata,delete r.runName,delete r.configurable,delete r.recursionLimit,delete r.maxConcurrency,delete r.runId,delete r.timeout,delete r.signal,[n,r]}async _callWithConfig(e,n,r){const i=se(r),s=await Qt(i),a=await(s==null?void 0:s.handleChainStart(this.toJSON(),je(n,"input"),i.runId,i==null?void 0:i.runType,void 0,void 0,(i==null?void 0:i.runName)??this.getName()));delete i.runId;let o;try{const l=e.call(this,n,i,a);o=await Er(l,r==null?void 0:r.signal)}catch(l){throw await(a==null?void 0:a.handleChainError(l)),l}return await(a==null?void 0:a.handleChainEnd(je(o,"output"))),o}async _batchWithConfig(e,n,r,i){var u;const s=this._getOptionsList(r??{},n.length),a=await Promise.all(s.map(Qt)),o=await Promise.all(a.map(async(c,d)=>{const f=await(c==null?void 0:c.handleChainStart(this.toJSON(),je(n[d],"input"),s[d].runId,s[d].runType,void 0,void 0,s[d].runName??this.getName()));return delete s[d].runId,f}));let l;try{const c=e.call(this,n,s,o,i);l=await Er(c,(u=s==null?void 0:s[0])==null?void 0:u.signal)}catch(c){throw await Promise.all(o.map(d=>d==null?void 0:d.handleChainError(c))),c}return await Promise.all(o.map(c=>c==null?void 0:c.handleChainEnd(je(l,"output")))),l}async*_transformStreamWithConfig(e,n,r){let i,s=!0,a,o=!0;const l=se(r),u=await Qt(l);async function*c(){for await(const f of e){if(s)if(i===void 0)i=f;else try{i=Xt(i,f)}catch{i=void 0,s=!1}yield f}}let d;try{const f=await X$(n.bind(this),c(),async()=>u==null?void 0:u.handleChainStart(this.toJSON(),{input:""},l.runId,l.runType,void 0,void 0,l.runName??this.getName()),r==null?void 0:r.signal,l);delete l.runId,d=f.setup;const h=d==null?void 0:d.handlers.find(Tx);let p=f.output;h!==void 0&&d!==void 0&&(p=h.tapOutputIterable(d.runId,p));const v=d==null?void 0:d.handlers.find(Sx);v!==void 0&&d!==void 0&&(p=v.tapOutputIterable(d.runId,p));for await(const w of p)if(yield w,o)if(a===void 0)a=w;else try{a=Xt(a,w)}catch{a=void 0,o=!1}}catch(f){throw await(d==null?void 0:d.handleChainError(f,void 0,void 0,void 0,{inputs:je(i,"input")})),f}await(d==null?void 0:d.handleChainEnd(a??{},void 0,void 0,void 0,{inputs:je(i,"input")}))}getGraph(e){const n=new kx,r=n.addNode({name:`${this.getName()}Input`,schema:Kr.any()}),i=n.addNode(this),s=n.addNode({name:`${this.getName()}Output`,schema:Kr.any()});return n.addEdge(r,i),n.addEdge(i,s),n}pipe(e){return new Pn({first:this,last:Br(e)})}pick(e){return this.pipe(new p2(e))}assign(e){return this.pipe(new Cx(new gs({steps:e})))}async*transform(e,n){let r;for await(const i of e)r===void 0?r=i:r=Xt(r,i);yield*this._streamIterator(r,se(n))}async*streamLog(e,n,r){const i=new lv({...r,autoClose:!1,_schemaFormat:"original"}),s=se(n);yield*this._streamLog(e,i,s)}async*_streamLog(e,n,r){const{callbacks:i}=r;if(i===void 0)r.callbacks=[n];else if(Array.isArray(i))r.callbacks=i.concat([n]);else{const l=i.copy();l.inheritableHandlers.push(n),r.callbacks=l}const s=this.stream(e,r);async function a(){try{const l=await s;for await(const u of l){const c=new Zn({ops:[{op:"add",path:"/streamed_output/-",value:u}]});await n.writer.write(c)}}finally{await n.writer.close()}}const o=a();try{for await(const l of n)yield l}finally{await o}}streamEvents(e,n,r){let i;if(n.version==="v1")i=this._streamEventsV1(e,n,r);else if(n.version==="v2")i=this._streamEventsV2(e,n,r);else throw new Error('Only versions "v1" and "v2" of the schema are currently supported.');return n.encoding==="text/event-stream"?u2(i):xt.fromAsyncGenerator(i)}async*_streamEventsV2(e,n,r){var h;const i=new Y$({...r,autoClose:!1}),s=se(n),a=s.runId??At();s.runId=a;const o=s.callbacks;if(o===void 0)s.callbacks=[i];else if(Array.isArray(o))s.callbacks=o.concat(i);else{const p=o.copy();p.inheritableHandlers.push(i),s.callbacks=p}const l=this;async function u(){try{const p=await l.stream(e,s),v=i.tapOutputIterable(a,p);for await(const w of v);}finally{await i.finish()}}const c=u();let d=!1,f;try{for await(const p of i){if(!d){p.data.input=e,d=!0,f=p.run_id,yield p;continue}p.run_id===f&&p.event.endsWith("_end")&&(h=p.data)!=null&&h.input&&delete p.data.input,yield p}}finally{await c}}async*_streamEventsV1(e,n,r){let i,s=!1;const a=se(n),o=a.tags??[],l=a.metadata??{},u=a.runName??this.getName(),c=new lv({...r,autoClose:!1,_schemaFormat:"streaming_events"}),d=new r2({...r}),f=this._streamLog(e,c,a);for await(const p of f){if(i?i=i.concat(p):i=Ba.fromRunLogPatch(p),i.state===void 0)throw new Error('Internal error: "streamEvents" state is missing. Please open a bug report.');if(!s){s=!0;const g={...i.state},y={run_id:g.id,event:`on_${g.type}_start`,name:u,tags:o,metadata:l,data:{input:e}};d.includeEvent(y,g.type)&&(yield y)}const v=p.ops.filter(g=>g.path.startsWith("/logs/")).map(g=>g.path.split("/")[2]),w=[...new Set(v)];for(const g of w){let y,b={};const x=i.state.logs[g];if(x.end_time===void 0?x.streamed_output.length>0?y="stream":y="start":y="end",y==="start")x.inputs!==void 0&&(b.input=x.inputs);else if(y==="end")x.inputs!==void 0&&(b.input=x.inputs),b.output=x.final_output;else if(y==="stream"){const T=x.streamed_output.length;if(T!==1)throw new Error(`Expected exactly one chunk of streamed output, got ${T} instead. Encountered in: "${x.name}"`);b={chunk:x.streamed_output[0]},x.streamed_output=[]}yield{event:`on_${x.type}_${y}`,name:x.name,run_id:x.id,tags:x.tags,metadata:x.metadata,data:b}}const{state:m}=i;if(m.streamed_output.length>0){const g=m.streamed_output.length;if(g!==1)throw new Error(`Expected exactly one chunk of streamed output, got ${g} instead. Encountered in: "${m.name}"`);const y={chunk:m.streamed_output[0]};m.streamed_output=[];const b={event:`on_${m.type}_stream`,run_id:m.id,tags:o,metadata:l,name:u,data:y};d.includeEvent(b,m.type)&&(yield b)}}const h=i==null?void 0:i.state;if(h!==void 0){const p={event:`on_${h.type}_end`,name:u,run_id:h.id,tags:o,metadata:l,data:{output:h.final_output}};d.includeEvent(p,h.type)&&(yield p)}}static isRunnable(e){return Np(e)}withListeners({onStart:e,onEnd:n,onError:r}){return new Jr({bound:this,config:{},configFactories:[i=>({callbacks:[new Px({config:i,onStart:e,onEnd:n,onError:r})]})]})}asTool(e){return m2(this,e)}}class Jr extends Oe{static lc_name(){return"RunnableBinding"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"bound",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"configFactories",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.bound=e.bound,this.kwargs=e.kwargs,this.config=e.config,this.configFactories=e.configFactories}getName(e){return this.bound.getName(e)}async _mergeConfig(...e){const n=cv(this.config,...e);return cv(n,...this.configFactories?await Promise.all(this.configFactories.map(async r=>await r(n))):[])}bind(e){return new this.constructor({bound:this.bound,kwargs:{...this.kwargs,...e},config:this.config})}withConfig(e){return new this.constructor({bound:this.bound,kwargs:this.kwargs,config:{...this.config,...e}})}withRetry(e){return new this.constructor({bound:this.bound.withRetry(e),kwargs:this.kwargs,config:this.config})}async invoke(e,n){return this.bound.invoke(e,await this._mergeConfig(se(n),this.kwargs))}async batch(e,n,r){const i=Array.isArray(n)?await Promise.all(n.map(async s=>this._mergeConfig(se(s),this.kwargs))):await this._mergeConfig(se(n),this.kwargs);return this.bound.batch(e,i,r)}async*_streamIterator(e,n){yield*this.bound._streamIterator(e,await this._mergeConfig(se(n),this.kwargs))}async stream(e,n){return this.bound.stream(e,await this._mergeConfig(se(n),this.kwargs))}async*transform(e,n){yield*this.bound.transform(e,await this._mergeConfig(se(n),this.kwargs))}streamEvents(e,n,r){const i=this,s=async function*(){yield*i.bound.streamEvents(e,{...await i._mergeConfig(se(n),i.kwargs),version:n.version},r)};return xt.fromAsyncGenerator(s())}static isRunnableBinding(e){return e.bound&&Oe.isRunnable(e.bound)}withListeners({onStart:e,onEnd:n,onError:r}){return new Jr({bound:this.bound,kwargs:this.kwargs,config:this.config,configFactories:[i=>({callbacks:[new Px({config:i,onStart:e,onEnd:n,onError:r})]})]})}}class Jl extends Oe{static lc_name(){return"RunnableEach"}constructor(e){super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"bound",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.bound=e.bound}bind(e){return new Jl({bound:this.bound.bind(e)})}async invoke(e,n){return this._callWithConfig(this._invoke.bind(this),e,n)}async _invoke(e,n,r){return this.bound.batch(e,We(n,{callbacks:r==null?void 0:r.getChild()}))}withListeners({onStart:e,onEnd:n,onError:r}){return new Jl({bound:this.bound.withListeners({onStart:e,onEnd:n,onError:r})})}}class d2 extends Jr{static lc_name(){return"RunnableRetry"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"maxAttemptNumber",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"onFailedAttempt",{enumerable:!0,configurable:!0,writable:!0,value:()=>{}}),this.maxAttemptNumber=e.maxAttemptNumber??this.maxAttemptNumber,this.onFailedAttempt=e.onFailedAttempt??this.onFailedAttempt}_patchConfigForRetry(e,n,r){const i=e>1?`retry:attempt:${e}`:void 0;return We(n,{callbacks:r==null?void 0:r.getChild(i)})}async _invoke(e,n,r){return zl(i=>super.invoke(e,this._patchConfigForRetry(i,n,r)),{onFailedAttempt:i=>this.onFailedAttempt(i,e),retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}async invoke(e,n){return this._callWithConfig(this._invoke.bind(this),e,n)}async _batch(e,n,r,i){const s={};try{await zl(async a=>{const o=e.map((f,h)=>h).filter(f=>s[f.toString()]===void 0||s[f.toString()]instanceof Error),l=o.map(f=>e[f]),u=o.map(f=>this._patchConfigForRetry(a,n==null?void 0:n[f],r==null?void 0:r[f])),c=await super.batch(l,u,{...i,returnExceptions:!0});let d;for(let f=0;f<c.length;f+=1){const h=c[f],p=o[f];h instanceof Error&&d===void 0&&(d=h,d.input=l[f]),s[p.toString()]=h}if(d)throw d;return c},{onFailedAttempt:a=>this.onFailedAttempt(a,a.input),retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}catch(a){if((i==null?void 0:i.returnExceptions)!==!0)throw a}return Object.keys(s).sort((a,o)=>parseInt(a,10)-parseInt(o,10)).map(a=>s[parseInt(a,10)])}async batch(e,n,r){return this._batchWithConfig(this._batch.bind(this),e,n,r)}}class Pn extends Oe{static lc_name(){return"RunnableSequence"}constructor(e){super(e),Object.defineProperty(this,"first",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"middle",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"last",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),this.first=e.first,this.middle=e.middle??this.middle,this.last=e.last,this.name=e.name}get steps(){return[this.first,...this.middle,this.last]}async invoke(e,n){var l;const r=se(n),i=await Qt(r),s=await(i==null?void 0:i.handleChainStart(this.toJSON(),je(e,"input"),r.runId,void 0,void 0,void 0,r==null?void 0:r.runName));delete r.runId;let a=e,o;try{const u=[this.first,...this.middle];for(let c=0;c<u.length;c+=1){const f=u[c].invoke(a,We(r,{callbacks:s==null?void 0:s.getChild(`seq:step:${c+1}`)}));a=await Er(f,n==null?void 0:n.signal)}if((l=n==null?void 0:n.signal)!=null&&l.aborted)throw new Error("Aborted");o=await this.last.invoke(a,We(r,{callbacks:s==null?void 0:s.getChild(`seq:step:${this.steps.length}`)}))}catch(u){throw await(s==null?void 0:s.handleChainError(u)),u}return await(s==null?void 0:s.handleChainEnd(je(o,"output"))),o}async batch(e,n,r){var l;const i=this._getOptionsList(n??{},e.length),s=await Promise.all(i.map(Qt)),a=await Promise.all(s.map(async(u,c)=>{const d=await(u==null?void 0:u.handleChainStart(this.toJSON(),je(e[c],"input"),i[c].runId,void 0,void 0,void 0,i[c].runName));return delete i[c].runId,d}));let o=e;try{for(let u=0;u<this.steps.length;u+=1){const d=this.steps[u].batch(o,a.map((f,h)=>{const p=f==null?void 0:f.getChild(`seq:step:${u+1}`);return We(i[h],{callbacks:p})}),r);o=await Er(d,(l=i[0])==null?void 0:l.signal)}}catch(u){throw await Promise.all(a.map(c=>c==null?void 0:c.handleChainError(u))),u}return await Promise.all(a.map(u=>u==null?void 0:u.handleChainEnd(je(o,"output")))),o}async*_streamIterator(e,n){var d;const r=await Qt(n),{runId:i,...s}=n??{},a=await(r==null?void 0:r.handleChainStart(this.toJSON(),je(e,"input"),i,void 0,void 0,void 0,s==null?void 0:s.runName)),o=[this.first,...this.middle,this.last];let l=!0,u;async function*c(){yield e}try{let f=o[0].transform(c(),We(s,{callbacks:a==null?void 0:a.getChild("seq:step:1")}));for(let h=1;h<o.length;h+=1)f=await o[h].transform(f,We(s,{callbacks:a==null?void 0:a.getChild(`seq:step:${h+1}`)}));for await(const h of f)if((d=n==null?void 0:n.signal)==null||d.throwIfAborted(),yield h,l)if(u===void 0)u=h;else try{u=Xt(u,h)}catch{u=void 0,l=!1}}catch(f){throw await(a==null?void 0:a.handleChainError(f)),f}await(a==null?void 0:a.handleChainEnd(je(u,"output")))}getGraph(e){const n=new kx;let r=null;return this.steps.forEach((i,s)=>{const a=i.getGraph(e);s!==0&&a.trimFirstNode(),s!==this.steps.length-1&&a.trimLastNode(),n.extend(a);const o=a.firstNode();if(!o)throw new Error(`Runnable ${i} has no first node`);r&&n.addEdge(r,o),r=a.lastNode()}),n}pipe(e){return Pn.isRunnableSequence(e)?new Pn({first:this.first,middle:this.middle.concat([this.last,e.first,...e.middle]),last:e.last,name:this.name??e.name}):new Pn({first:this.first,middle:[...this.middle,this.last],last:Br(e),name:this.name})}static isRunnableSequence(e){return Array.isArray(e.middle)&&Oe.isRunnable(e)}static from([e,...n],r){return new Pn({first:Br(e),middle:n.slice(0,-1).map(Br),last:Br(n[n.length-1]),name:r})}}class gs extends Oe{static lc_name(){return"RunnableMap"}getStepsKeys(){return Object.keys(this.steps)}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"steps",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.steps={};for(const[n,r]of Object.entries(e.steps))this.steps[n]=Br(r)}static from(e){return new gs({steps:e})}async invoke(e,n){const r=se(n),i=await Qt(r),s=await(i==null?void 0:i.handleChainStart(this.toJSON(),{input:e},r.runId,void 0,void 0,void 0,r==null?void 0:r.runName));delete r.runId;const a={};try{const o=Object.entries(this.steps).map(async([l,u])=>{a[l]=await u.invoke(e,We(r,{callbacks:s==null?void 0:s.getChild(`map:key:${l}`)}))});await Er(Promise.all(o),n==null?void 0:n.signal)}catch(o){throw await(s==null?void 0:s.handleChainError(o)),o}return await(s==null?void 0:s.handleChainEnd(a)),a}async*_transform(e,n,r){const i={...this.steps},s=Ex(e,Object.keys(i).length),a=new Map(Object.entries(i).map(([o,l],u)=>{const c=l.transform(s[u],We(r,{callbacks:n==null?void 0:n.getChild(`map:key:${o}`)}));return[o,c.next().then(d=>({key:o,gen:c,result:d}))]}));for(;a.size;){const o=Promise.race(a.values()),{key:l,result:u,gen:c}=await Er(o,r==null?void 0:r.signal);a.delete(l),u.done||(yield{[l]:u.value},a.set(l,c.next().then(d=>({key:l,gen:c,result:d}))))}}transform(e,n){return this._transformStreamWithConfig(e,this._transform.bind(this),n)}async stream(e,n){async function*r(){yield e}const i=se(n),s=new ms({generator:this.transform(r(),i),config:i});return await s.setup,xt.fromAsyncGenerator(s)}}class Ip extends Oe{constructor(e){if(super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"func",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!wp(e.func))throw new Error("RunnableTraceable requires a function that is wrapped in traceable higher-order function");this.func=e.func}async invoke(e,n){const[r]=this._getOptionsList(n??{},1),i=await Qt(r),s=this.func(We(r,{callbacks:i}),e);return Er(s,r==null?void 0:r.signal)}async*_streamIterator(e,n){var s,a;const[r]=this._getOptionsList(n??{},1),i=await this.invoke(e,n);if(Mf(i)){for await(const o of i)(s=r==null?void 0:r.signal)==null||s.throwIfAborted(),yield o;return}if(c2(i)){for(;;){(a=r==null?void 0:r.signal)==null||a.throwIfAborted();const o=i.next();if(o.done)break;yield o.value}return}yield i}static from(e){return new Ip({func:e})}}function f2(t){if(wp(t))throw new Error("RunnableLambda requires a function that is not wrapped in traceable higher-order function. This shouldn't happen.")}class oo extends Oe{static lc_name(){return"RunnableLambda"}constructor(e){if(wp(e.func))return Ip.from(e.func);super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"func",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),f2(e.func),this.func=e.func}static from(e){return new oo({func:e})}async _invoke(e,n,r){return new Promise((i,s)=>{const a=We(n,{callbacks:r==null?void 0:r.getChild(),recursionLimit:((n==null?void 0:n.recursionLimit)??id)-1});ai.runWithConfig(a,async()=>{var o,l;try{let u=await this.func(e,{...a,config:a});if(u&&Oe.isRunnable(u)){if((n==null?void 0:n.recursionLimit)===0)throw new Error("Recursion limit reached.");u=await u.invoke(e,{...a,recursionLimit:(a.recursionLimit??id)-1})}else if(Mf(u)){let c;for await(const d of pv(a,u))if((o=n==null?void 0:n.signal)==null||o.throwIfAborted(),c===void 0)c=d;else try{c=Xt(c,d)}catch{c=d}u=c}else if(fv(u)){let c;for(const d of hv(a,u))if((l=n==null?void 0:n.signal)==null||l.throwIfAborted(),c===void 0)c=d;else try{c=Xt(c,d)}catch{c=d}u=c}i(u)}catch(u){s(u)}})})}async invoke(e,n){return this._callWithConfig(this._invoke.bind(this),e,n)}async*_transform(e,n,r){var o,l;let i;for await(const u of e)if(i===void 0)i=u;else try{i=Xt(i,u)}catch{i=u}const s=We(r,{callbacks:n==null?void 0:n.getChild(),recursionLimit:((r==null?void 0:r.recursionLimit)??id)-1}),a=await new Promise((u,c)=>{ai.runWithConfig(s,async()=>{try{const d=await this.func(i,{...s,config:s});u(d)}catch(d){c(d)}})});if(a&&Oe.isRunnable(a)){if((r==null?void 0:r.recursionLimit)===0)throw new Error("Recursion limit reached.");const u=await a.stream(i,s);for await(const c of u)yield c}else if(Mf(a))for await(const u of pv(s,a))(o=r==null?void 0:r.signal)==null||o.throwIfAborted(),yield u;else if(fv(a))for(const u of hv(s,a))(l=r==null?void 0:r.signal)==null||l.throwIfAborted(),yield u;else yield a}transform(e,n){return this._transformStreamWithConfig(e,this._transform.bind(this),n)}async stream(e,n){async function*r(){yield e}const i=se(n),s=new ms({generator:this.transform(r(),i),config:i});return await s.setup,xt.fromAsyncGenerator(s)}}class h2 extends Oe{static lc_name(){return"RunnableWithFallbacks"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"runnable",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fallbacks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.runnable=e.runnable,this.fallbacks=e.fallbacks}*runnables(){yield this.runnable;for(const e of this.fallbacks)yield e}async invoke(e,n){var u;const r=se(n),i=await Qt(n),{runId:s,...a}=r,o=await(i==null?void 0:i.handleChainStart(this.toJSON(),je(e,"input"),s,void 0,void 0,void 0,a==null?void 0:a.runName));let l;for(const c of this.runnables()){(u=r==null?void 0:r.signal)==null||u.throwIfAborted();try{const d=await c.invoke(e,We(a,{callbacks:o==null?void 0:o.getChild()}));return await(o==null?void 0:o.handleChainEnd(je(d,"output"))),d}catch(d){l===void 0&&(l=d)}}throw l===void 0?new Error("No error stored at end of fallback."):(await(o==null?void 0:o.handleChainError(l)),l)}async*_streamIterator(e,n){var d;const r=se(n),i=await Qt(n),{runId:s,...a}=r,o=await(i==null?void 0:i.handleChainStart(this.toJSON(),je(e,"input"),s,void 0,void 0,void 0,a==null?void 0:a.runName));let l,u;for(const f of this.runnables()){(d=r==null?void 0:r.signal)==null||d.throwIfAborted();const h=We(a,{callbacks:o==null?void 0:o.getChild()});try{u=await f.stream(e,h);break}catch(p){l===void 0&&(l=p)}}if(u===void 0){const f=l??new Error("No error stored at end of fallback.");throw await(o==null?void 0:o.handleChainError(f)),f}let c;try{for await(const f of u){yield f;try{c=c===void 0?c:Xt(c,f)}catch{c=void 0}}}catch(f){throw await(o==null?void 0:o.handleChainError(f)),f}await(o==null?void 0:o.handleChainEnd(je(c,"output")))}async batch(e,n,r){var l;if(r!=null&&r.returnExceptions)throw new Error("Not implemented.");const i=this._getOptionsList(n??{},e.length),s=await Promise.all(i.map(u=>Qt(u))),a=await Promise.all(s.map(async(u,c)=>{const d=await(u==null?void 0:u.handleChainStart(this.toJSON(),je(e[c],"input"),i[c].runId,void 0,void 0,void 0,i[c].runName));return delete i[c].runId,d}));let o;for(const u of this.runnables()){(l=i[0].signal)==null||l.throwIfAborted();try{const c=await u.batch(e,a.map((d,f)=>We(i[f],{callbacks:d==null?void 0:d.getChild()})),r);return await Promise.all(a.map((d,f)=>d==null?void 0:d.handleChainEnd(je(c[f],"output")))),c}catch(c){o===void 0&&(o=c)}}throw o?(await Promise.all(a.map(u=>u==null?void 0:u.handleChainError(o))),o):new Error("No error stored at end of fallbacks.")}}function Br(t){if(typeof t=="function")return new oo({func:t});if(Oe.isRunnable(t))return t;if(!Array.isArray(t)&&typeof t=="object"){const e={};for(const[n,r]of Object.entries(t))e[n]=Br(r);return new gs({steps:e})}else throw new Error(`Expected a Runnable, function or object.
Instead got an unsupported type.`)}class Cx extends Oe{static lc_name(){return"RunnableAssign"}constructor(e){e instanceof gs&&(e={mapper:e}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"mapper",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.mapper=e.mapper}async invoke(e,n){const r=await this.mapper.invoke(e,n);return{...e,...r}}async*_transform(e,n,r){const i=this.mapper.getStepsKeys(),[s,a]=Ex(e),o=this.mapper.transform(a,We(r,{callbacks:n==null?void 0:n.getChild()})),l=o.next();for await(const u of s){if(typeof u!="object"||Array.isArray(u))throw new Error(`RunnableAssign can only be used with objects as input, got ${typeof u}`);const c=Object.fromEntries(Object.entries(u).filter(([d])=>!i.includes(d)));Object.keys(c).length>0&&(yield c)}yield(await l).value;for await(const u of o)yield u}transform(e,n){return this._transformStreamWithConfig(e,this._transform.bind(this),n)}async stream(e,n){async function*r(){yield e}const i=se(n),s=new ms({generator:this.transform(r(),i),config:i});return await s.setup,xt.fromAsyncGenerator(s)}}class p2 extends Oe{static lc_name(){return"RunnablePick"}constructor(e){(typeof e=="string"||Array.isArray(e))&&(e={keys:e}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"keys",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.keys=e.keys}async _pick(e){if(typeof this.keys=="string")return e[this.keys];{const n=this.keys.map(r=>[r,e[r]]).filter(r=>r[1]!==void 0);return n.length===0?void 0:Object.fromEntries(n)}}async invoke(e,n){return this._callWithConfig(this._pick.bind(this),e,n)}async*_transform(e){for await(const n of e){const r=await this._pick(n);r!==void 0&&(yield r)}}transform(e,n){return this._transformStreamWithConfig(e,this._transform.bind(this),n)}async stream(e,n){async function*r(){yield e}const i=se(n),s=new ms({generator:this.transform(r(),i),config:i});return await s.setup,xt.fromAsyncGenerator(s)}}class mv extends Jr{constructor(e){const n=Pn.from([oo.from(async r=>{let i;if(Qb(r))try{i=await this.schema.parseAsync(r.args)}catch{throw new ON("Received tool input did not match expected schema",JSON.stringify(r.args))}else i=r;return i}).withConfig({runName:`${e.name}:parse_input`}),e.bound]).withConfig({runName:e.name});super({bound:n,config:e.config??{}}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"description",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"schema",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e.name,this.description=e.description,this.schema=e.schema}static lc_name(){return"RunnableToolLike"}}function m2(t,e){var i;const n=e.name??t.getName(),r=e.description??((i=e.schema)==null?void 0:i.description);return e.schema.constructor===Kr.ZodString?new mv({name:n,description:r,schema:Kr.object({input:Kr.string()}).transform(s=>s.input),bound:t}):new mv({name:n,description:r,schema:e.schema,bound:t})}/*
 * [js-sha1]{@link https://github.com/emn178/js-sha1}
 *
 * @version 0.6.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */var g2=typeof window=="object"?window:{},J="0123456789abcdef".split(""),y2=[-2147483648,8388608,32768,128],Vt=[24,16,8,0],Ne=[];function nn(t){t?(Ne[0]=Ne[16]=Ne[1]=Ne[2]=Ne[3]=Ne[4]=Ne[5]=Ne[6]=Ne[7]=Ne[8]=Ne[9]=Ne[10]=Ne[11]=Ne[12]=Ne[13]=Ne[14]=Ne[15]=0,this.blocks=Ne):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.h0=1732584193,this.h1=4023233417,this.h2=2562383102,this.h3=271733878,this.h4=3285377520,this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}nn.prototype.update=function(t){if(!this.finalized){var e=typeof t!="string";e&&t.constructor===g2.ArrayBuffer&&(t=new Uint8Array(t));for(var n,r=0,i,s=t.length||0,a=this.blocks;r<s;){if(this.hashed&&(this.hashed=!1,a[0]=this.block,a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0),e)for(i=this.start;r<s&&i<64;++r)a[i>>2]|=t[r]<<Vt[i++&3];else for(i=this.start;r<s&&i<64;++r)n=t.charCodeAt(r),n<128?a[i>>2]|=n<<Vt[i++&3]:n<2048?(a[i>>2]|=(192|n>>6)<<Vt[i++&3],a[i>>2]|=(128|n&63)<<Vt[i++&3]):n<55296||n>=57344?(a[i>>2]|=(224|n>>12)<<Vt[i++&3],a[i>>2]|=(128|n>>6&63)<<Vt[i++&3],a[i>>2]|=(128|n&63)<<Vt[i++&3]):(n=65536+((n&1023)<<10|t.charCodeAt(++r)&1023),a[i>>2]|=(240|n>>18)<<Vt[i++&3],a[i>>2]|=(128|n>>12&63)<<Vt[i++&3],a[i>>2]|=(128|n>>6&63)<<Vt[i++&3],a[i>>2]|=(128|n&63)<<Vt[i++&3]);this.lastByteIndex=i,this.bytes+=i-this.start,i>=64?(this.block=a[16],this.start=i-64,this.hash(),this.hashed=!0):this.start=i}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}};nn.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[16]=this.block,t[e>>2]|=y2[e&3],this.block=t[16],e>=56&&(this.hashed||this.hash(),t[0]=this.block,t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.hBytes<<3|this.bytes>>>29,t[15]=this.bytes<<3,this.hash()}};nn.prototype.hash=function(){var t=this.h0,e=this.h1,n=this.h2,r=this.h3,i=this.h4,s,a,o,l=this.blocks;for(a=16;a<80;++a)o=l[a-3]^l[a-8]^l[a-14]^l[a-16],l[a]=o<<1|o>>>31;for(a=0;a<20;a+=5)s=e&n|~e&r,o=t<<5|t>>>27,i=o+s+i+1518500249+l[a]<<0,e=e<<30|e>>>2,s=t&e|~t&n,o=i<<5|i>>>27,r=o+s+r+1518500249+l[a+1]<<0,t=t<<30|t>>>2,s=i&t|~i&e,o=r<<5|r>>>27,n=o+s+n+1518500249+l[a+2]<<0,i=i<<30|i>>>2,s=r&i|~r&t,o=n<<5|n>>>27,e=o+s+e+1518500249+l[a+3]<<0,r=r<<30|r>>>2,s=n&r|~n&i,o=e<<5|e>>>27,t=o+s+t+1518500249+l[a+4]<<0,n=n<<30|n>>>2;for(;a<40;a+=5)s=e^n^r,o=t<<5|t>>>27,i=o+s+i+1859775393+l[a]<<0,e=e<<30|e>>>2,s=t^e^n,o=i<<5|i>>>27,r=o+s+r+1859775393+l[a+1]<<0,t=t<<30|t>>>2,s=i^t^e,o=r<<5|r>>>27,n=o+s+n+1859775393+l[a+2]<<0,i=i<<30|i>>>2,s=r^i^t,o=n<<5|n>>>27,e=o+s+e+1859775393+l[a+3]<<0,r=r<<30|r>>>2,s=n^r^i,o=e<<5|e>>>27,t=o+s+t+1859775393+l[a+4]<<0,n=n<<30|n>>>2;for(;a<60;a+=5)s=e&n|e&r|n&r,o=t<<5|t>>>27,i=o+s+i-1894007588+l[a]<<0,e=e<<30|e>>>2,s=t&e|t&n|e&n,o=i<<5|i>>>27,r=o+s+r-1894007588+l[a+1]<<0,t=t<<30|t>>>2,s=i&t|i&e|t&e,o=r<<5|r>>>27,n=o+s+n-1894007588+l[a+2]<<0,i=i<<30|i>>>2,s=r&i|r&t|i&t,o=n<<5|n>>>27,e=o+s+e-1894007588+l[a+3]<<0,r=r<<30|r>>>2,s=n&r|n&i|r&i,o=e<<5|e>>>27,t=o+s+t-1894007588+l[a+4]<<0,n=n<<30|n>>>2;for(;a<80;a+=5)s=e^n^r,o=t<<5|t>>>27,i=o+s+i-899497514+l[a]<<0,e=e<<30|e>>>2,s=t^e^n,o=i<<5|i>>>27,r=o+s+r-899497514+l[a+1]<<0,t=t<<30|t>>>2,s=i^t^e,o=r<<5|r>>>27,n=o+s+n-899497514+l[a+2]<<0,i=i<<30|i>>>2,s=r^i^t,o=n<<5|n>>>27,e=o+s+e-899497514+l[a+3]<<0,r=r<<30|r>>>2,s=n^r^i,o=e<<5|e>>>27,t=o+s+t-899497514+l[a+4]<<0,n=n<<30|n>>>2;this.h0=this.h0+t<<0,this.h1=this.h1+e<<0,this.h2=this.h2+n<<0,this.h3=this.h3+r<<0,this.h4=this.h4+i<<0};nn.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,r=this.h3,i=this.h4;return J[t>>28&15]+J[t>>24&15]+J[t>>20&15]+J[t>>16&15]+J[t>>12&15]+J[t>>8&15]+J[t>>4&15]+J[t&15]+J[e>>28&15]+J[e>>24&15]+J[e>>20&15]+J[e>>16&15]+J[e>>12&15]+J[e>>8&15]+J[e>>4&15]+J[e&15]+J[n>>28&15]+J[n>>24&15]+J[n>>20&15]+J[n>>16&15]+J[n>>12&15]+J[n>>8&15]+J[n>>4&15]+J[n&15]+J[r>>28&15]+J[r>>24&15]+J[r>>20&15]+J[r>>16&15]+J[r>>12&15]+J[r>>8&15]+J[r>>4&15]+J[r&15]+J[i>>28&15]+J[i>>24&15]+J[i>>20&15]+J[i>>16&15]+J[i>>12&15]+J[i>>8&15]+J[i>>4&15]+J[i&15]};nn.prototype.toString=nn.prototype.hex;nn.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,r=this.h3,i=this.h4;return[t>>24&255,t>>16&255,t>>8&255,t&255,e>>24&255,e>>16&255,e>>8&255,e&255,n>>24&255,n>>16&255,n>>8&255,n&255,r>>24&255,r>>16&255,r>>8&255,r&255,i>>24&255,i>>16&255,i>>8&255,i&255]};nn.prototype.array=nn.prototype.digest;nn.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(20),e=new DataView(t);return e.setUint32(0,this.h0),e.setUint32(4,this.h1),e.setUint32(8,this.h2),e.setUint32(12,this.h3),e.setUint32(16,this.h4),t};const v2=t=>new nn(!0).update(t).hex(),gv=(...t)=>v2(t.join("_"));class w2{}const _2=new Map;class jp extends w2{constructor(e){super(),Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cache=e??new Map}lookup(e,n){return Promise.resolve(this.cache.get(gv(e,n))??null)}async update(e,n,r){this.cache.set(gv(e,n),r)}static global(){return new jp(_2)}}class Rx extends ii{}class Ox extends Rx{static lc_name(){return"StringPromptValue"}constructor(e){super({value:e}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompt_values"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.value=e}toString(){return this.value}toChatMessages(){return[new Du(this.value)]}}class b2 extends Rx{static lc_name(){return"ChatPromptValue"}constructor(e){Array.isArray(e)&&(e={messages:e}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompt_values"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"messages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.messages=e.messages}toString(){return Yb(this.messages)}toChatMessages(){return this.messages}}var Ku={};Ku.byteLength=S2;Ku.toByteArray=P2;Ku.fromByteArray=R2;var dn=[],Ct=[],x2=typeof Uint8Array<"u"?Uint8Array:Array,od="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var mi=0,E2=od.length;mi<E2;++mi)dn[mi]=od[mi],Ct[od.charCodeAt(mi)]=mi;Ct[45]=62;Ct[95]=63;function Ax(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function S2(t){var e=Ax(t),n=e[0],r=e[1];return(n+r)*3/4-r}function T2(t,e,n){return(e+n)*3/4-n}function P2(t){var e,n=Ax(t),r=n[0],i=n[1],s=new x2(T2(t,r,i)),a=0,o=i>0?r-4:r,l;for(l=0;l<o;l+=4)e=Ct[t.charCodeAt(l)]<<18|Ct[t.charCodeAt(l+1)]<<12|Ct[t.charCodeAt(l+2)]<<6|Ct[t.charCodeAt(l+3)],s[a++]=e>>16&255,s[a++]=e>>8&255,s[a++]=e&255;return i===2&&(e=Ct[t.charCodeAt(l)]<<2|Ct[t.charCodeAt(l+1)]>>4,s[a++]=e&255),i===1&&(e=Ct[t.charCodeAt(l)]<<10|Ct[t.charCodeAt(l+1)]<<4|Ct[t.charCodeAt(l+2)]>>2,s[a++]=e>>8&255,s[a++]=e&255),s}function k2(t){return dn[t>>18&63]+dn[t>>12&63]+dn[t>>6&63]+dn[t&63]}function C2(t,e,n){for(var r,i=[],s=e;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(k2(r));return i.join("")}function R2(t){for(var e,n=t.length,r=n%3,i=[],s=16383,a=0,o=n-r;a<o;a+=s)i.push(C2(t,a,a+s>o?o:a+s));return r===1?(e=t[n-1],i.push(dn[e>>2]+dn[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(dn[e>>10]+dn[e>>4&63]+dn[e<<2&63]+"=")),i.join("")}var O2=Object.defineProperty,A2=(t,e,n)=>e in t?O2(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,N2=(t,e,n)=>(A2(t,e+"",n),n);function I2(t,e){let n=Array.from({length:t.length},(r,i)=>({start:i,end:i+1}));for(;n.length>1;){let r=null;for(let i=0;i<n.length-1;i++){const s=t.slice(n[i].start,n[i+1].end),a=e.get(s.join(","));a!=null&&(r==null||a<r[0])&&(r=[a,i])}if(r!=null){const i=r[1];n[i]={start:n[i].start,end:n[i+1].end},n.splice(i+1,1)}else break}return n}function j2(t,e){return t.length===1?[e.get(t.join(","))]:I2(t,e).map(n=>e.get(t.slice(n.start,n.end).join(","))).filter(n=>n!=null)}function L2(t){return t.replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")}var Ff=class{constructor(t,e){Fn(this,"specialTokens");Fn(this,"inverseSpecialTokens");Fn(this,"patStr");Fn(this,"textEncoder",new TextEncoder);Fn(this,"textDecoder",new TextDecoder("utf-8"));Fn(this,"rankMap",new Map);Fn(this,"textMap",new Map);this.patStr=t.pat_str;const n=t.bpe_ranks.split(`
`).filter(Boolean).reduce((r,i)=>{const[s,a,...o]=i.split(" "),l=Number.parseInt(a,10);return o.forEach((u,c)=>r[u]=l+c),r},{});for(const[r,i]of Object.entries(n)){const s=Ku.toByteArray(r);this.rankMap.set(s.join(","),i),this.textMap.set(i,s)}this.specialTokens={...t.special_tokens,...e},this.inverseSpecialTokens=Object.entries(this.specialTokens).reduce((r,[i,s])=>(r[s]=this.textEncoder.encode(i),r),{})}encode(t,e=[],n="all"){const r=new RegExp(this.patStr,"ug"),i=Ff.specialTokenRegex(Object.keys(this.specialTokens)),s=[],a=new Set(e==="all"?Object.keys(this.specialTokens):e),o=new Set(n==="all"?Object.keys(this.specialTokens).filter(u=>!a.has(u)):n);if(o.size>0){const u=Ff.specialTokenRegex([...o]),c=t.match(u);if(c!=null)throw new Error(`The text contains a special token that is not allowed: ${c[0]}`)}let l=0;for(;;){let u=null,c=l;for(;i.lastIndex=c,u=i.exec(t),!(u==null||a.has(u[0]));)c=u.index+1;const d=(u==null?void 0:u.index)??t.length;for(const h of t.substring(l,d).matchAll(r)){const p=this.textEncoder.encode(h[0]),v=this.rankMap.get(p.join(","));if(v!=null){s.push(v);continue}s.push(...j2(p,this.rankMap))}if(u==null)break;let f=this.specialTokens[u[0]];s.push(f),l=u.index+u[0].length}return s}decode(t){const e=[];let n=0;for(let s=0;s<t.length;++s){const a=t[s],o=this.textMap.get(a)??this.inverseSpecialTokens[a];o!=null&&(e.push(o),n+=o.length)}const r=new Uint8Array(n);let i=0;for(const s of e)r.set(s,i),i+=s.length;return this.textDecoder.decode(r)}},Nx=Ff;N2(Nx,"specialTokenRegex",t=>new RegExp(t.map(e=>L2(e)).join("|"),"g"));function $2(t){switch(t){case"gpt2":return"gpt2";case"code-cushman-001":case"code-cushman-002":case"code-davinci-001":case"code-davinci-002":case"cushman-codex":case"davinci-codex":case"davinci-002":case"text-davinci-002":case"text-davinci-003":return"p50k_base";case"code-davinci-edit-001":case"text-davinci-edit-001":return"p50k_edit";case"ada":case"babbage":case"babbage-002":case"code-search-ada-code-001":case"code-search-babbage-code-001":case"curie":case"davinci":case"text-ada-001":case"text-babbage-001":case"text-curie-001":case"text-davinci-001":case"text-search-ada-doc-001":case"text-search-babbage-doc-001":case"text-search-curie-doc-001":case"text-search-davinci-doc-001":case"text-similarity-ada-001":case"text-similarity-babbage-001":case"text-similarity-curie-001":case"text-similarity-davinci-001":return"r50k_base";case"gpt-3.5-turbo-instruct-0914":case"gpt-3.5-turbo-instruct":case"gpt-3.5-turbo-16k-0613":case"gpt-3.5-turbo-16k":case"gpt-3.5-turbo-0613":case"gpt-3.5-turbo-0301":case"gpt-3.5-turbo":case"gpt-4-32k-0613":case"gpt-4-32k-0314":case"gpt-4-32k":case"gpt-4-0613":case"gpt-4-0314":case"gpt-4":case"gpt-3.5-turbo-1106":case"gpt-35-turbo":case"gpt-4-1106-preview":case"gpt-4-vision-preview":case"gpt-3.5-turbo-0125":case"gpt-4-turbo":case"gpt-4-turbo-2024-04-09":case"gpt-4-turbo-preview":case"gpt-4-0125-preview":case"text-embedding-ada-002":case"text-embedding-3-small":case"text-embedding-3-large":return"cl100k_base";case"gpt-4o":case"gpt-4o-2024-05-13":case"gpt-4o-2024-08-06":case"gpt-4o-mini-2024-07-18":case"gpt-4o-mini":return"o200k_base";default:throw new Error("Unknown model")}}const Mo={},D2=new Ap({});async function M2(t){return t in Mo||(Mo[t]=D2.fetch(`https://tiktoken.pages.dev/js/${t}.json`).then(e=>e.json()).then(e=>new Nx(e)).catch(e=>{throw delete Mo[t],e})),await Mo[t]}async function F2(t){return M2($2(t))}const U2=t=>t.startsWith("gpt-3.5-turbo-16k")?"gpt-3.5-turbo-16k":t.startsWith("gpt-3.5-turbo-")?"gpt-3.5-turbo":t.startsWith("gpt-4-32k")?"gpt-4-32k":t.startsWith("gpt-4-")?"gpt-4":t.startsWith("gpt-4o")?"gpt-4o":t,V2=()=>!1;class B2 extends Oe{get lc_attributes(){return{callbacks:void 0,verbose:void 0}}constructor(e){super(e),Object.defineProperty(this,"verbose",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"callbacks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.verbose=e.verbose??V2(),this.callbacks=e.callbacks,this.tags=e.tags??[],this.metadata=e.metadata??{}}}class z2 extends B2{get callKeys(){return["stop","timeout","signal","tags","metadata","callbacks"]}constructor({callbacks:e,callbackManager:n,...r}){super({callbacks:e??n,...r}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_encoding",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),typeof r.cache=="object"?this.cache=r.cache:r.cache?this.cache=jp.global():this.cache=void 0,this.caller=new Ap(r??{})}async getNumTokens(e){if(typeof e!="string")return 0;let n=Math.ceil(e.length/4);if(!this._encoding)try{this._encoding=await F2("modelName"in this?U2(this.modelName):"gpt2")}catch(r){console.warn("Failed to calculate number of tokens, falling back to approximate count",r)}if(this._encoding)try{n=this._encoding.encode(e).length}catch(r){console.warn("Failed to calculate number of tokens, falling back to approximate count",r)}return n}static _convertInputToPromptValue(e){return typeof e=="string"?new Ox(e):Array.isArray(e)?new b2(e.map(Ms)):e}_identifyingParams(){return{}}_getSerializedCacheKeyParametersForCall({config:e,...n}){const r={...this._identifyingParams(),...n,_type:this._llmType(),_model:this._modelType()};return Object.entries(r).filter(([a,o])=>o!==void 0).map(([a,o])=>`${a}:${JSON.stringify(o)}`).sort().join(",")}serialize(){return{...this._identifyingParams(),_type:this._llmType(),_model:this._modelType()}}static async deserialize(e){throw new Error("Use .toJSON() instead")}}class Xl extends Oe{static lc_name(){return"RunnablePassthrough"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"func",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e&&(this.func=e.func)}async invoke(e,n){const r=se(n);return this.func&&await this.func(e,r),this._callWithConfig(i=>Promise.resolve(i),e,r)}async*transform(e,n){const r=se(n);let i,s=!0;for await(const a of this._transformStreamWithConfig(e,o=>o,r))if(yield a,s)if(i===void 0)i=a;else try{i=Xt(i,a)}catch{i=void 0,s=!1}this.func&&i!==void 0&&await this.func(i,r)}static assign(e){return new Cx(new gs({steps:e}))}}function Ql(t){return typeof(t==null?void 0:t.parse)=="function"}class Kn extends z2{constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","chat_models",this._llmType()]})}_separateRunnableConfigFromCallOptionsCompat(e){const[n,r]=super._separateRunnableConfigFromCallOptions(e);return r.signal=n.signal,[n,r]}async invoke(e,n){const r=Kn._convertInputToPromptValue(e);return(await this.generatePrompt([r],n,n==null?void 0:n.callbacks)).generations[0][0].message}async*_streamResponseChunks(e,n,r){throw new Error("Not implemented.")}async*_streamIterator(e,n){var r;if(this._streamResponseChunks===Kn.prototype._streamResponseChunks)yield this.invoke(e,n);else{const s=Kn._convertInputToPromptValue(e).toChatMessages(),[a,o]=this._separateRunnableConfigFromCallOptionsCompat(n),l={...a.metadata,...this.getLsParams(o)},u=await wt.configure(a.callbacks,this.callbacks,a.tags,this.tags,l,this.metadata,{verbose:this.verbose}),c={options:o,invocation_params:this==null?void 0:this.invocationParams(o),batch_size:1},d=await(u==null?void 0:u.handleChatModelStart(this.toJSON(),[s],a.runId,void 0,c,void 0,void 0,a.runName));let f;try{for await(const h of this._streamResponseChunks(s,o,d==null?void 0:d[0])){if(h.message.id==null){const p=(r=d==null?void 0:d.at(0))==null?void 0:r.runId;p!=null&&h.message._updateId(`run-${p}`)}h.message.response_metadata={...h.generationInfo,...h.message.response_metadata},yield h.message,f?f=f.concat(h):f=h}}catch(h){throw await Promise.all((d??[]).map(p=>p==null?void 0:p.handleLLMError(h))),h}await Promise.all((d??[]).map(h=>h==null?void 0:h.handleLLMEnd({generations:[[f]]})))}}getLsParams(e){return{ls_model_type:"chat",ls_stop:e.stop}}async _generateUncached(e,n,r){var h,p;const i=e.map(v=>v.map(Ms)),s={...r.metadata,...this.getLsParams(n)},a=await wt.configure(r.callbacks,this.callbacks,r.tags,this.tags,s,this.metadata,{verbose:this.verbose}),o={options:n,invocation_params:this==null?void 0:this.invocationParams(n),batch_size:1},l=await(a==null?void 0:a.handleChatModelStart(this.toJSON(),i,r.runId,void 0,o,void 0,void 0,r.runName)),u=[],c=[];if(!!(l!=null&&l[0].handlers.find(v=>Tx(v)||Sx(v)))&&i.length===1&&this._streamResponseChunks!==Kn.prototype._streamResponseChunks)try{const v=await this._streamResponseChunks(i[0],n,l==null?void 0:l[0]);let w;for await(const m of v){if(m.message.id==null){const g=(h=l==null?void 0:l.at(0))==null?void 0:h.runId;g!=null&&m.message._updateId(`run-${g}`)}w===void 0?w=m:w=Xt(w,m)}if(w===void 0)throw new Error("Received empty response from chat model call.");u.push([w]),await(l==null?void 0:l[0].handleLLMEnd({generations:u,llmOutput:{}}))}catch(v){throw await(l==null?void 0:l[0].handleLLMError(v)),v}else{const v=await Promise.allSettled(i.map((w,m)=>this._generate(w,{...n,promptIndex:m},l==null?void 0:l[m])));await Promise.all(v.map(async(w,m)=>{var g,y,b;if(w.status==="fulfilled"){const x=w.value;for(const T of x.generations){if(T.message.id==null){const O=(g=l==null?void 0:l.at(0))==null?void 0:g.runId;O!=null&&T.message._updateId(`run-${O}`)}T.message.response_metadata={...T.generationInfo,...T.message.response_metadata}}return x.generations.length===1&&(x.generations[0].message.response_metadata={...x.llmOutput,...x.generations[0].message.response_metadata}),u[m]=x.generations,c[m]=x.llmOutput,(y=l==null?void 0:l[m])==null?void 0:y.handleLLMEnd({generations:[x.generations],llmOutput:x.llmOutput})}else return await((b=l==null?void 0:l[m])==null?void 0:b.handleLLMError(w.reason)),Promise.reject(w.reason)}))}const f={generations:u,llmOutput:c.length?(p=this._combineLLMOutput)==null?void 0:p.call(this,...c):void 0};return Object.defineProperty(f,uv,{value:l?{runIds:l==null?void 0:l.map(v=>v.runId)}:void 0,configurable:!0}),f}async _generateCached({messages:e,cache:n,llmStringKey:r,parsedOptions:i,handledOptions:s}){const a=e.map(w=>w.map(Ms)),o={...s.metadata,...this.getLsParams(i)},l=await wt.configure(s.callbacks,this.callbacks,s.tags,this.tags,o,this.metadata,{verbose:this.verbose}),u={options:i,invocation_params:this==null?void 0:this.invocationParams(i),batch_size:1,cached:!0},c=await(l==null?void 0:l.handleChatModelStart(this.toJSON(),a,s.runId,void 0,u,void 0,void 0,s.runName)),d=[],h=(await Promise.allSettled(a.map(async(w,m)=>{const g=Kn._convertInputToPromptValue(w).toString(),y=await n.lookup(g,r);return y==null&&d.push(m),y}))).map((w,m)=>({result:w,runManager:c==null?void 0:c[m]})).filter(({result:w})=>w.status==="fulfilled"&&w.value!=null||w.status==="rejected"),p=[];await Promise.all(h.map(async({result:w,runManager:m},g)=>{if(w.status==="fulfilled"){const y=w.value;return p[g]=y,y.length&&await(m==null?void 0:m.handleLLMNewToken(y[0].text)),m==null?void 0:m.handleLLMEnd({generations:[y]})}else return await(m==null?void 0:m.handleLLMError(w.reason)),Promise.reject(w.reason)}));const v={generations:p,missingPromptIndices:d};return Object.defineProperty(v,uv,{value:c?{runIds:c==null?void 0:c.map(w=>w.runId)}:void 0,configurable:!0}),v}async generate(e,n,r){let i;Array.isArray(n)?i={stop:n}:i=n;const s=e.map(h=>h.map(Ms)),[a,o]=this._separateRunnableConfigFromCallOptionsCompat(i);if(a.callbacks=a.callbacks??r,!this.cache)return this._generateUncached(s,o,a);const{cache:l}=this,u=this._getSerializedCacheKeyParametersForCall(o),{generations:c,missingPromptIndices:d}=await this._generateCached({messages:s,cache:l,llmStringKey:u,parsedOptions:o,handledOptions:a});let f={};if(d.length>0){const h=await this._generateUncached(d.map(p=>s[p]),o,a);await Promise.all(h.generations.map(async(p,v)=>{const w=d[v];c[w]=p;const m=Kn._convertInputToPromptValue(s[w]).toString();return l.update(m,u,p)})),f=h.llmOutput??{}}return{generations:c,llmOutput:f}}invocationParams(e){return{}}_modelType(){return"base_chat_model"}serialize(){return{...this.invocationParams(),_type:this._llmType(),_model:this._modelType()}}async generatePrompt(e,n,r){const i=e.map(s=>s.toChatMessages());return this.generate(i,n,r)}async call(e,n,r){return(await this.generate([e.map(Ms)],n,r)).generations[0][0].message}async callPrompt(e,n,r){const i=e.toChatMessages();return this.call(i,n,r)}async predictMessages(e,n,r){return this.call(e,n,r)}async predict(e,n,r){const i=new Du(e),s=await this.call([i],n,r);if(typeof s.content!="string")throw new Error("Cannot use predict when output is not a string.");return s.content}withStructuredOutput(e,n){if(typeof this.bindTools!="function")throw new Error('Chat model must implement ".bindTools()" to use withStructuredOutput.');const r=e,i=n==null?void 0:n.name,s=r.description??"A function available to call.",a=n==null?void 0:n.method,o=n==null?void 0:n.includeRaw;if(a==="jsonMode")throw new Error('Base withStructuredOutput implementation only supports "functionCalling" as a method.');let l=i??"extract",u;Ql(r)?u=[{type:"function",function:{name:l,description:s,parameters:to(r)}}]:("name"in r&&(l=r.name),u=[{type:"function",function:{name:l,description:s,parameters:r}}]);const c=this.bindTools(u),d=oo.from(v=>{if(!v.tool_calls||v.tool_calls.length===0)throw new Error("No tool calls found in the response.");const w=v.tool_calls.find(m=>m.name===l);if(!w)throw new Error(`No tool call found with name ${l}.`);return w.args});if(!o)return c.pipe(d).withConfig({runName:"StructuredOutput"});const f=Xl.assign({parsed:(v,w)=>d.invoke(v.raw,w)}),h=Xl.assign({parsed:()=>null}),p=f.withFallbacks({fallbacks:[h]});return Pn.from([{raw:c},p]).withConfig({runName:"StructuredOutputRunnable"})}}const yi="0.5.0";let yv=!1,na,Ix,jx,Uf,Lx,$x,Dx,Mx,Fx;function H2(t,e={auto:!1}){if(yv)throw new Error(`you must \`import 'groq-sdk/shims/${t.kind}'\` before importing anything else from groq-sdk`);if(na)throw new Error(`can't \`import 'groq-sdk/shims/${t.kind}'\` after \`import 'groq-sdk/shims/${na}'\``);yv=e.auto,na=t.kind,Ix=t.fetch,jx=t.FormData,Uf=t.File,Lx=t.ReadableStream,$x=t.getMultipartRequestOptions,Dx=t.getDefaultAgent,Mx=t.fileFromPath,Fx=t.isFsReadStream}class W2{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}function G2({manuallyImported:t}={}){const e=t?"You may need to use polyfills":"Add one of these imports before your first `import … from 'groq-sdk'`:\n- `import 'groq-sdk/shims/node'` (if you're running on Node)\n- `import 'groq-sdk/shims/web'` (otherwise)\n";let n,r,i,s;try{n=fetch,r=Request,i=Response,s=Headers}catch(a){throw new Error(`this environment is missing the following Web Fetch API type: ${a.message}. ${e}`)}return{kind:"web",fetch:n,Request:r,Response:i,Headers:s,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${e}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${e}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${e}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${e}`)}},getMultipartRequestOptions:async(a,o)=>({...o,body:new W2(a)}),getDefaultAgent:a=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/groq/groq-typescript#file-uploads")},isFsReadStream:a=>!1}}na||H2(G2(),{auto:!0});class Yt extends Error{}class Je extends Yt{constructor(e,n,r,i){super(`${Je.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e)return new qu({cause:zf(n)});const s=n;return e===400?new Vx(e,s,r,i):e===401?new Bx(e,s,r,i):e===403?new zx(e,s,r,i):e===404?new Hx(e,s,r,i):e===409?new Wx(e,s,r,i):e===422?new Gx(e,s,r,i):e===429?new Zx(e,s,r,i):e>=500?new Kx(e,s,r,i):new Je(e,s,r,i)}}class Vf extends Je{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0),this.status=void 0}}class qu extends Je{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),this.status=void 0,n&&(this.cause=n)}}class Ux extends qu{constructor({message:e}={}){super({message:e??"Request timed out."})}}class Vx extends Je{constructor(){super(...arguments),this.status=400}}class Bx extends Je{constructor(){super(...arguments),this.status=401}}class zx extends Je{constructor(){super(...arguments),this.status=403}}class Hx extends Je{constructor(){super(...arguments),this.status=404}}class Wx extends Je{constructor(){super(...arguments),this.status=409}}class Gx extends Je{constructor(){super(...arguments),this.status=422}}class Zx extends Je{constructor(){super(...arguments),this.status=429}}class Kx extends Je{}class Di{constructor(e,n){this.iterator=e,this.controller=n}static fromSSEResponse(e,n){let r=!1;const i=new Z2;async function*s(){if(!e.body)throw n.abort(),new Yt("Attempted to iterate over a response with no body");const o=new oi,l=vv(e.body);for await(const u of l)for(const c of o.decode(u)){const d=i.decode(c);d&&(yield d)}for(const u of o.flush()){const c=i.decode(u);c&&(yield c)}}async function*a(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let o=!1;try{for await(const l of s())if(!o){if(l.data.startsWith("[DONE]")){o=!0;continue}if(l.event===null){let u;try{u=JSON.parse(l.data)}catch(c){throw console.error("Could not parse message into JSON:",l.data),console.error("From chunk:",l.raw),c}if(u&&u.error)throw new Je(void 0,u.error,void 0,void 0);yield u}}o=!0}catch(l){if(l instanceof Error&&l.name==="AbortError")return;throw l}finally{o||n.abort()}}return new Di(a,n)}static fromReadableStream(e,n){let r=!1;async function*i(){const a=new oi,o=vv(e);for await(const l of o)for(const u of a.decode(l))yield u;for(const l of a.flush())yield l}async function*s(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let a=!1;try{for await(const o of i())a||o&&(yield JSON.parse(o));a=!0}catch(o){if(o instanceof Error&&o.name==="AbortError")return;throw o}finally{a||n.abort()}}return new Di(s,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=s=>({next:()=>{if(s.length===0){const a=r.next();e.push(a),n.push(a)}return s.shift()}});return[new Di(()=>i(e),this.controller),new Di(()=>i(n),this.controller)]}toReadableStream(){const e=this;let n;const r=new TextEncoder;return new Lx({async start(){n=e[Symbol.asyncIterator]()},async pull(i){try{const{value:s,done:a}=await n.next();if(a)return i.close();const o=r.encode(JSON.stringify(s)+`
`);i.enqueue(o)}catch(s){i.error(s)}},async cancel(){var i;await((i=n.return)==null?void 0:i.call(n))}})}}class Z2{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=K2(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}class oi{constructor(){this.buffer=[],this.trailingCR=!1}decode(e){let n=this.decodeText(e);if(this.trailingCR&&(n="\r"+n,this.trailingCR=!1),n.endsWith("\r")&&(this.trailingCR=!0,n=n.slice(0,-1)),!n)return[];const r=oi.NEWLINE_CHARS.has(n[n.length-1]||"");let i=n.split(oi.NEWLINE_REGEXP);return i.length===1&&!r?(this.buffer.push(i[0]),[]):(this.buffer.length>0&&(i=[this.buffer.join("")+i[0],...i.slice(1)],this.buffer=[]),r||(this.buffer=[i.pop()||""]),i)}decodeText(e){if(e==null)return"";if(typeof e=="string")return e;if(typeof Buffer<"u"){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new Yt(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new Yt(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new Yt("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const e=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,e}}oi.NEWLINE_CHARS=new Set([`
`,"\r","\v","\f","","","","","\u2028","\u2029"]);oi.NEWLINE_REGEXP=/\r\n|[\n\r\x0b\x0c\x1c\x1d\x1e\x85\u2028\u2029]/g;function K2(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}function vv(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}const qx=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function",Jx=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Lp(t),Lp=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",q2=t=>Jx(t)||qx(t)||Fx(t);async function Xx(t,e,n){var i;if(t=await t,n??(n=Jx(t)?{lastModified:t.lastModified,type:t.type}:{}),qx(t)){const s=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()??"unknown_file"),new Uf([s],e,n)}const r=await J2(t);if(e||(e=Q2(t)??"unknown_file"),!n.type){const s=(i=r[0])==null?void 0:i.type;typeof s=="string"&&(n={...n,type:s})}return new Uf(r,e,n)}async function J2(t){var n;let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(Lp(t))e.push(await t.arrayBuffer());else if(Y2(t))for await(const r of t)e.push(r);else throw new Error(`Unexpected data type: ${typeof t}; constructor: ${(n=t==null?void 0:t.constructor)==null?void 0:n.name}; props: ${X2(t)}`);return e}function X2(t){return`[${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}function Q2(t){var e;return ld(t.name)||ld(t.filename)||((e=ld(t.path))==null?void 0:e.split(/[\\/]/).pop())}const ld=t=>{if(typeof t=="string")return t;if(typeof Buffer<"u"&&t instanceof Buffer)return String(t)},Y2=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",wv=t=>t&&typeof t=="object"&&t.body&&t[Symbol.toStringTag]==="MultipartBody",Qx=async t=>{const e=await eD(t.body);return $x(e,t)},eD=async t=>{const e=new jx;return await Promise.all(Object.entries(t||{}).map(([n,r])=>Bf(e,n,r))),e},Bf=async(t,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")t.append(e,String(n));else if(q2(n)){const r=await Xx(n);t.append(e,r)}else if(Array.isArray(n))await Promise.all(n.map(r=>Bf(t,e+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,i])=>Bf(t,`${e}[${r}]`,i)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}};var Wi={};async function Yx(t){const{response:e}=t;if(t.options.stream)return Gi("response",e.status,e.url,e.headers,e.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(e,t.controller):Di.fromSSEResponse(e,t.controller);if(e.status===204)return null;if(t.options.__binaryResponse)return e;const n=e.headers.get("content-type");if((n==null?void 0:n.includes("application/json"))||(n==null?void 0:n.includes("application/vnd.api+json"))){const s=await e.json();return Gi("response",e.status,e.url,e.headers,s),s}const i=await e.text();return Gi("response",e.status,e.url,e.headers,i),i}class Ju extends Promise{constructor(e,n=Yx){super(r=>{r(null)}),this.responsePromise=e,this.parseResponse=n}_thenUnwrap(e){return new Ju(this.responsePromise,async n=>e(await this.parseResponse(n)))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class tD{constructor({baseURL:e,maxRetries:n=2,timeout:r=6e4,httpAgent:i,fetch:s}){this.baseURL=e,this.maxRetries=ud("maxRetries",n),this.timeout=ud("timeout",r),this.httpAgent=i,this.fetch=s??Ix}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...aD(),...this.authHeaders(e)}}validateHeaders(e,n){}defaultIdempotencyKey(){return`stainless-node-retry-${hD()}`}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(async i=>{const s=i&&Lp(i==null?void 0:i.body)?new DataView(await i.body.arrayBuffer()):(i==null?void 0:i.body)instanceof DataView?i.body:(i==null?void 0:i.body)instanceof ArrayBuffer?new DataView(i.body):i&&ArrayBuffer.isView(i==null?void 0:i.body)?new DataView(i.body.buffer):i==null?void 0:i.body;return{method:e,path:n,...i,body:s}}))}getAPIList(e,n,r){return this.requestAPIList(n,{method:"get",path:e,...r})}calculateContentLength(e){if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.byteLength(e,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(e).length.toString()}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e){var p;const{method:n,path:r,query:i,headers:s={}}=e,a=ArrayBuffer.isView(e.body)||e.__binaryRequest&&typeof e.body=="string"?e.body:wv(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,o=this.calculateContentLength(a),l=this.buildURL(r,i);"timeout"in e&&ud("timeout",e.timeout);const u=e.timeout??this.timeout,c=e.httpAgent??this.httpAgent??Dx(l),d=u+1e3;typeof((p=c==null?void 0:c.options)==null?void 0:p.timeout)=="number"&&d>(c.options.timeout??0)&&(c.options.timeout=d),this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=e.idempotencyKey);const f=this.buildHeaders({options:e,headers:s,contentLength:o});return{req:{method:n,...a&&{body:a},headers:f,...c&&{agent:c},signal:e.signal??null},url:l,timeout:u}}buildHeaders({options:e,headers:n,contentLength:r}){const i={};r&&(i["content-length"]=r);const s=this.defaultHeaders(e);return Sv(i,s),Sv(i,n),wv(e.body)&&na!=="node"&&delete i["content-type"],this.validateHeaders(i,n),i}async prepareOptions(e){}async prepareRequest(e,{url:n,options:r}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map(n=>[...n])):{...e}:{}}makeStatusError(e,n,r,i){return Je.generate(e,n,r,i)}request(e,n=null){return new Ju(this.makeRequest(e,n))}async makeRequest(e,n){var c,d;const r=await e;n==null&&(n=r.maxRetries??this.maxRetries),await this.prepareOptions(r);const{req:i,url:s,timeout:a}=this.buildRequest(r);if(await this.prepareRequest(i,{url:s,options:r}),Gi("request",s,r,i.headers),(c=r.signal)!=null&&c.aborted)throw new Vf;const o=new AbortController,l=await this.fetchWithTimeout(s,i,a,o).catch(zf);if(l instanceof Error){if((d=r.signal)!=null&&d.aborted)throw new Vf;if(n)return this.retryRequest(r,n);throw l.name==="AbortError"?new Ux:new qu({cause:l})}const u=rD(l.headers);if(!l.ok){if(n&&this.shouldRetry(l)){const m=`retrying, ${n} attempts remaining`;return Gi(`response (error; ${m})`,l.status,s,u),this.retryRequest(r,n,u)}const f=await l.text().catch(m=>zf(m).message),h=oD(f),p=h?void 0:f;throw Gi(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,l.status,s,u,p),this.makeStatusError(l.status,h,p,u)}return{response:l,options:r,controller:o}}requestAPIList(e,n){const r=this.makeRequest(n,null);return new nD(this,r,e)}buildURL(e,n){const r=uD(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),i=this.defaultQuery();return dD(i)||(n={...i,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(r.search=this.stringifyQuery(n)),r.toString()}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new Yt(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(e,n,r,i){const{signal:s,...a}=n||{};s&&s.addEventListener("abort",()=>i.abort());const o=setTimeout(()=>i.abort(),r);return this.getRequestClient().fetch.call(void 0,e,{signal:i.signal,...a}).finally(()=>{clearTimeout(o)})}getRequestClient(){return{fetch:this.fetch}}shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r){let i;const s=r==null?void 0:r["retry-after-ms"];if(s){const o=parseFloat(s);Number.isNaN(o)||(i=o)}const a=r==null?void 0:r["retry-after"];if(a&&!i){const o=parseFloat(a);Number.isNaN(o)?i=Date.parse(a)-Date.now():i=o*1e3}if(!(i&&0<=i&&i<60*1e3)){const o=e.maxRetries??this.maxRetries;i=this.calculateDefaultRetryTimeoutMillis(n,o)}return await cD(i),this.makeRequest(e,n-1)}calculateDefaultRetryTimeoutMillis(e,n){const s=n-e,a=Math.min(.5*Math.pow(2,s),8),o=1-Math.random()*.25;return a*o*1e3}getUserAgent(){return`${this.constructor.name}/JS ${yi}`}}class nD extends Ju{constructor(e,n,r){super(n,async i=>new r(e,i.response,await Yx(i),i.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}}const rD=t=>new Proxy(Object.fromEntries(t.entries()),{get(e,n){const r=n.toString();return e[r.toLowerCase()]||e[r]}}),iD=()=>{var e;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":yi,"X-Stainless-OS":bv(Deno.build.os),"X-Stainless-Arch":_v(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((e=Deno.version)==null?void 0:e.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":yi,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":yi,"X-Stainless-OS":bv(process.platform),"X-Stainless-Arch":_v(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const t=sD();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":yi,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":yi,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function sD(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,s=r[2]||0,a=r[3]||0;return{browser:e,version:`${i}.${s}.${a}`}}}return null}const _v=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",bv=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let xv;const aD=()=>xv??(xv=iD()),oD=t=>{try{return JSON.parse(t)}catch{return}},lD=new RegExp("^(?:[a-z]+:)?//","i"),uD=t=>lD.test(t),cD=t=>new Promise(e=>setTimeout(e,t)),ud=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Yt(`${t} must be an integer`);if(e<0)throw new Yt(`${t} must be a positive integer`);return e},zf=t=>t instanceof Error?t:new Error(t),Ev=t=>{var e,n,r,i;if(typeof process<"u")return((e=Wi==null?void 0:Wi[t])==null?void 0:e.trim())??void 0;if(typeof Deno<"u")return(i=(r=(n=Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,t))==null?void 0:i.trim()};function dD(t){if(!t)return!0;for(const e in t)return!1;return!0}function fD(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Sv(t,e){for(const n in e){if(!fD(e,n))continue;const r=n.toLowerCase();if(!r)continue;const i=e[n];i===null?delete t[r]:i!==void 0&&(t[r]=i)}}function Gi(t,...e){typeof process<"u"&&(Wi==null?void 0:Wi.DEBUG)==="true"&&console.log(`Groq:DEBUG:${t}`,...e)}const hD=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)}),pD=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";class Rr{constructor(e){this._client=e}}class Yl extends Rr{create(e,n){return this._client.post("/openai/v1/audio/transcriptions",Qx({body:e,...n}))}}Yl||(Yl={});class eu extends Rr{create(e,n){return this._client.post("/openai/v1/audio/translations",Qx({body:e,...n}))}}eu||(eu={});class tu extends Rr{constructor(){super(...arguments),this.transcriptions=new Yl(this._client),this.translations=new eu(this._client)}}(function(t){t.Transcriptions=Yl,t.Translations=eu})(tu||(tu={}));let nu=class extends Rr{create(e,n){return this._client.post("/openai/v1/chat/completions",{body:e,...n,stream:e.stream??!1})}};nu||(nu={});class ru extends Rr{constructor(){super(...arguments),this.completions=new nu(this._client)}}(function(t){t.Completions=nu})(ru||(ru={}));class iu extends Rr{}iu||(iu={});class su extends Rr{create(e,n){return this._client.post("/openai/v1/embeddings",{body:e,...n})}}su||(su={});class au extends Rr{retrieve(e,n){return this._client.get(`/openai/v1/models/${e}`,n)}list(e){return this._client.get("/openai/v1/models",e)}delete(e,n){return this._client.delete(`/openai/v1/models/${e}`,n)}}au||(au={});var e1;class Pe extends tD{constructor({baseURL:e=Ev("GROQ_BASE_URL"),apiKey:n=Ev("GROQ_API_KEY"),...r}={}){if(n===void 0)throw new Yt("The GROQ_API_KEY environment variable is missing or empty; either provide it, or instantiate the Groq client with an apiKey option, like new Groq({ apiKey: 'My API Key' }).");const i={apiKey:n,...r,baseURL:e||"https://api.groq.com"};if(!i.dangerouslyAllowBrowser&&pD())throw new Yt(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new Groq({ apiKey, dangerouslyAllowBrowser: true })`);super({baseURL:i.baseURL,timeout:i.timeout??6e4,httpAgent:i.httpAgent,maxRetries:i.maxRetries,fetch:i.fetch}),this.completions=new iu(this),this.chat=new ru(this),this.embeddings=new su(this),this.audio=new tu(this),this.models=new au(this),this._options=i,this.apiKey=n}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}}e1=Pe;Pe.Groq=e1;Pe.GroqError=Yt;Pe.APIError=Je;Pe.APIConnectionError=qu;Pe.APIConnectionTimeoutError=Ux;Pe.APIUserAbortError=Vf;Pe.NotFoundError=Hx;Pe.ConflictError=Wx;Pe.RateLimitError=Zx;Pe.BadRequestError=Vx;Pe.AuthenticationError=Bx;Pe.InternalServerError=Kx;Pe.PermissionDeniedError=zx;Pe.UnprocessableEntityError=Gx;Pe.toFile=Xx;Pe.fileFromPath=Mx;(function(t){t.Completions=iu,t.Chat=ru,t.Embeddings=su,t.Audio=tu,t.Models=au})(Pe||(Pe={}));class mD extends Oe{parseResultWithPrompt(e,n,r){return this.parseResult(e,r)}_baseMessageToString(e){return typeof e.content=="string"?e.content:this._baseMessageContentToString(e.content)}_baseMessageContentToString(e){return JSON.stringify(e)}async invoke(e,n){return typeof e=="string"?this._callWithConfig(async(r,i)=>this.parseResult([{text:r}],i==null?void 0:i.callbacks),e,{...n,runType:"parser"}):this._callWithConfig(async(r,i)=>this.parseResult([{message:r,text:this._baseMessageToString(r)}],i==null?void 0:i.callbacks),e,{...n,runType:"parser"})}}class t1 extends mD{parseResult(e,n){return this.parse(e[0].text,n)}async parseWithPrompt(e,n,r){return this.parse(e,r)}_type(){throw new Error("_type not implemented")}}class $p extends Error{constructor(e,n,r,i=!1){if(super(e),Object.defineProperty(this,"llmOutput",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"observation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sendToLLM",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.llmOutput=n,this.observation=r,this.sendToLLM=i,i&&(r===void 0||n===void 0))throw new Error("Arguments 'observation' & 'llmOutput' are required if 'sendToLlm' is true")}}function Hf(t,e){const n=typeof t;if(n!==typeof e)return!1;if(Array.isArray(t)){if(!Array.isArray(e))return!1;const r=t.length;if(r!==e.length)return!1;for(let i=0;i<r;i++)if(!Hf(t[i],e[i]))return!1;return!0}if(n==="object"){if(!t||!e)return t===e;const r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;for(const a of r)if(!Hf(t[a],e[a]))return!1;return!0}return t===e}class gD extends t1{async*_transform(e){for await(const n of e)typeof n=="string"?yield this.parseResult([{text:n}]):yield this.parseResult([{message:n,text:this._baseMessageToString(n)}])}async*transform(e,n){yield*this._transformStreamWithConfig(e,this._transform.bind(this),{...n,runType:"parser"})}}class n1 extends gD{constructor(e){super(e),Object.defineProperty(this,"diff",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this.diff=(e==null?void 0:e.diff)??this.diff}async*_transform(e){let n,r;for await(const i of e){if(typeof i!="string"&&typeof i.content!="string")throw new Error("Cannot handle non-string output.");let s;if(PN(i)){if(typeof i.content!="string")throw new Error("Cannot handle non-string message output.");s=new qr({message:i,text:i.content})}else if(yp(i)){if(typeof i.content!="string")throw new Error("Cannot handle non-string message output.");s=new qr({message:NN(i),text:i.content})}else s=new ss({text:i});r===void 0?r=s:r=r.concat(s);const a=await this.parsePartialResult([r]);a!=null&&!Hf(a,n)&&(this.diff?yield this._diff(n,a):yield a,n=a)}}getFormatInstructions(){return""}}class yD extends t1{static lc_name(){return"StructuredOutputParser"}toJSON(){return this.toJSONNotImplemented()}constructor(e){super(e),Object.defineProperty(this,"schema",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","output_parsers","structured"]})}static fromZodSchema(e){return new this(e)}static fromNamesAndDescriptions(e){const n=Kr.object(Object.fromEntries(Object.entries(e).map(([r,i])=>[r,Kr.string().describe(i)])));return new this(n)}getFormatInstructions(){return`You must format your output as a JSON value that adheres to a given "JSON Schema" instance.

"JSON Schema" is a declarative language that allows you to annotate and validate JSON documents.

For example, the example "JSON Schema" instance {{"properties": {{"foo": {{"description": "a list of test words", "type": "array", "items": {{"type": "string"}}}}}}, "required": ["foo"]}}}}
would match an object with one required property, "foo". The "type" property specifies "foo" must be an "array", and the "description" property semantically describes it as "a list of test words". The items within "foo" must be strings.
Thus, the object {{"foo": ["bar", "baz"]}} is a well-formatted instance of this example "JSON Schema". The object {{"properties": {{"foo": ["bar", "baz"]}}}} is not well-formatted.

Your output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!

Here is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:
\`\`\`json
${JSON.stringify(to(this.schema))}
\`\`\`
`}async parse(e){try{const r=(e.includes("```")?e.trim().split(/```(?:json)?/)[1]:e.trim()).replace(/"([^"\\]*(\\.[^"\\]*)*)"/g,(i,s)=>`"${s.replace(/\n/g,"\\n")}"`).replace(/\n/g,"");return await this.schema.parseAsync(JSON.parse(r))}catch(n){throw new $p(`Failed to parse. Text: "${e}". Error: ${n}`,e)}}}class vD extends n1{constructor(){super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","output_parsers"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0})}static lc_name(){return"JsonOutputParser"}_diff(e,n){if(n)return e?tI(e,n):[{op:"replace",path:"",value:n}]}async parsePartialResult(e){return _y(e[0].text)}async parse(e){return _y(e,JSON.parse)}getFormatInstructions(){return""}}function r1(t,e){if(t.function===void 0)return;let n;if(e!=null&&e.partial)try{n=mp(t.function.arguments??"{}")}catch{return}else try{n=JSON.parse(t.function.arguments)}catch(i){throw new $p([`Function "${t.function.name}" arguments:`,"",t.function.arguments,"","are not valid JSON.",`Error: ${i.message}`].join(`
`))}const r={name:t.function.name,args:n,type:"tool_call"};return e!=null&&e.returnId&&(r.id=t.id),r}function wD(t){if(t.id===void 0)throw new Error('All OpenAI tool calls must have an "id" field.');return{id:t.id,type:"function",function:{name:t.name,arguments:JSON.stringify(t.args)}}}function _D(t,e){var n,r;return{name:(n=t.function)==null?void 0:n.name,args:(r=t.function)==null?void 0:r.arguments,id:t.id,error:e,type:"invalid_tool_call"}}class bD extends n1{static lc_name(){return"JsonOutputToolsParser"}constructor(e){super(e),Object.defineProperty(this,"returnId",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","output_parsers","openai_tools"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this.returnId=(e==null?void 0:e.returnId)??this.returnId}_diff(){throw new Error("Not supported.")}async parse(){throw new Error("Not implemented.")}async parseResult(e){return await this.parsePartialResult(e,!1)}async parsePartialResult(e,n=!0){var a;const r=e[0].message;let i;if(Xb(r)&&((a=r.tool_calls)!=null&&a.length)?i=r.tool_calls.map(o=>{const{id:l,...u}=o;return this.returnId?{id:l,...u}:u}):r.additional_kwargs.tool_calls!==void 0&&(i=JSON.parse(JSON.stringify(r.additional_kwargs.tool_calls)).map(l=>r1(l,{returnId:this.returnId,partial:n}))),!i)return[];const s=[];for(const o of i)if(o!==void 0){const l={type:o.name,args:o.args,id:o.id};s.push(l)}return s}}class Tv extends bD{static lc_name(){return"JsonOutputKeyToolsParser"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","output_parsers","openai_tools"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"returnId",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"keyName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"returnSingle",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"zodSchema",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.keyName=e.keyName,this.returnSingle=e.returnSingle??this.returnSingle,this.zodSchema=e.zodSchema}async _validateResult(e){if(this.zodSchema===void 0)return e;const n=await this.zodSchema.safeParseAsync(e);if(n.success)return n.data;throw new $p(`Failed to parse. Text: "${JSON.stringify(e,null,2)}". Error: ${JSON.stringify(n.error.errors)}`,JSON.stringify(e,null,2))}async parsePartialResult(e){const r=(await super.parsePartialResult(e)).filter(s=>s.type===this.keyName);let i=r;if(r.length)return this.returnId||(i=r.map(s=>s.args)),this.returnSingle?i[0]:i}async parseResult(e){const r=(await super.parsePartialResult(e,!1)).filter(a=>a.type===this.keyName);let i=r;return r.length?(this.returnId||(i=r.map(a=>a.args)),this.returnSingle?this._validateResult(i[0]):await Promise.all(i.map(a=>this._validateResult(a)))):void 0}}function xD(t,e){return{name:t.name,description:t.description,parameters:to(t.schema)}}function ED(t,e){let n;return kD(t)?n={type:"function",function:xD(t)}:n=t,n}function SD(t){return t!==void 0&&Array.isArray(t.lc_namespace)}function TD(t){return t!==void 0&&Oe.isRunnable(t)&&"lc_name"in t.constructor&&typeof t.constructor.lc_name=="function"&&t.constructor.lc_name()==="RunnableToolLike"}function PD(t){return!!t&&typeof t=="object"&&"name"in t&&"schema"in t&&Ql(t.schema)}function kD(t){return PD(t)||TD(t)||SD(t)}function CD(t){const e=t._getType();switch(e){case"system":return"system";case"ai":return"assistant";case"human":return"user";case"function":return"function";case"tool":return"tool";default:throw new Error(`Unknown message type: ${e}`)}}function Pv(t){return t.map(e=>{var r;if(typeof e.content!="string")throw new Error("Non string message content not supported");const n={role:CD(e),content:e.content,name:e.name,function_call:e.additional_kwargs.function_call,tool_calls:e.additional_kwargs.tool_calls,tool_call_id:e.tool_call_id};return Xb(e)&&((r=e.tool_calls)!=null&&r.length)?n.tool_calls=e.tool_calls.map(wD):(e.additional_kwargs.tool_calls!=null&&(n.tool_calls=e.additional_kwargs.tool_calls),e.tool_call_id!=null&&(n.tool_call_id=e.tool_call_id)),n})}function RD(t,e){const n=t.tool_calls;switch(t.role){case"assistant":{const r=[],i=[];for(const s of n??[])try{r.push(r1(s,{returnId:!0}))}catch(a){i.push(_D(s,a.message))}return new Rf({content:t.content||"",additional_kwargs:{tool_calls:n},tool_calls:r,invalid_tool_calls:i,usage_metadata:e})}default:return new Lu(t.content||"",t.role??"unknown")}}function OD(t,e){if(t!=null&&t.length)return t.map(n=>{var r,i;return{id:n.id,name:(r=n.function)==null?void 0:r.name,args:(i=n.function)==null?void 0:i.arguments,type:"tool_call_chunk",index:e}})}function AD(t,e,n){const{role:r}=t,i=t.content??"";let s;t.function_call?s={function_call:t.function_call}:t.tool_calls?s={tool_calls:t.tool_calls}:s={};let a,o;if(n!=null&&n.usage&&(a={input_tokens:n.usage.prompt_tokens,output_tokens:n.usage.completion_tokens,total_tokens:n.usage.total_tokens},o=n.id),r==="user")return{message:new Mu({content:i})};if(r==="assistant"){const l=OD(t.tool_calls,e);return{message:new xr({content:i,additional_kwargs:s,tool_call_chunks:l?l.map(u=>({type:u.type,args:u.args,index:u.index})):void 0,usage_metadata:a,id:o}),toolCallData:l?l.map(u=>({id:u.id??"",name:u.name??"",index:u.index??e,type:"tool_call_chunk"})):void 0}}else return r==="system"?{message:new Fu({content:i})}:{message:new $u({content:i,role:r})}}class ND extends Kn{static lc_name(){return"ChatGroq"}_llmType(){return"groq"}get lc_secrets(){return{apiKey:"GROQ_API_KEY"}}constructor(e){super(e??{}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","chat_models","groq"]}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"modelName",{enumerable:!0,configurable:!0,writable:!0,value:"mixtral-8x7b-32768"}),Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:"mixtral-8x7b-32768"}),Object.defineProperty(this,"temperature",{enumerable:!0,configurable:!0,writable:!0,value:.7}),Object.defineProperty(this,"stop",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stopSequences",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxTokens",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streaming",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0});const n=(e==null?void 0:e.apiKey)||si("GROQ_API_KEY");if(!n)throw new Error('Groq API key not found. Please set the GROQ_API_KEY environment variable or provide the key into "apiKey"');this.client=new Pe({apiKey:n,dangerouslyAllowBrowser:!0}),this.temperature=(e==null?void 0:e.temperature)??this.temperature,this.modelName=(e==null?void 0:e.model)??(e==null?void 0:e.modelName)??this.model,this.model=this.modelName,this.streaming=(e==null?void 0:e.streaming)??this.streaming,this.stop=(e==null?void 0:e.stopSequences)??(typeof(e==null?void 0:e.stop)=="string"?[e.stop]:e==null?void 0:e.stop)??[],this.stopSequences=this.stop,this.maxTokens=e==null?void 0:e.maxTokens}getLsParams(e){const n=this.invocationParams(e);return{ls_provider:"groq",ls_model_name:this.model,ls_model_type:"chat",ls_temperature:n.temperature??this.temperature,ls_max_tokens:n.max_tokens??this.maxTokens,ls_stop:e.stop}}async completionWithRetry(e,n){return this.caller.call(async()=>this.client.chat.completions.create(e,n))}invocationParams(e){const n=super.invocationParams(e);return e.tool_choice!==void 0&&(n.tool_choice=e.tool_choice),e.tools!==void 0&&(n.tools=e.tools),e.response_format!==void 0&&(n.response_format=e.response_format),{...n,stop:e.stop??this.stopSequences,model:this.model,temperature:this.temperature,max_tokens:this.maxTokens}}bindTools(e,n){return this.bind({tools:e.map(r=>ED(r)),...n})}async*_streamResponseChunks(e,n,r){var c,d;const i=this.invocationParams(n),s=Pv(e),a=await this.completionWithRetry({...i,messages:s,stream:!0},{signal:n==null?void 0:n.signal,headers:n==null?void 0:n.headers});let o="";const l=[];let u;for await(const f of a){u=f;const h=f==null?void 0:f.choices[0];if(!h)continue;(c=h.delta)!=null&&c.role&&(o=h.delta.role);const{message:p,toolCallData:v}=AD({...h.delta,role:o},h.index,f.x_groq);if(v){const m=v.filter(g=>l.every(y=>y.id!==g.id));l.push(...m),yield new qr({message:new xr({content:"",tool_call_chunks:m}),text:""})}const w=new qr({message:p,text:h.delta.content??"",generationInfo:{finishReason:h.finish_reason}});yield w,r==null||r.handleLLMNewToken(w.text??"")}if(u&&("choices"in u&&delete u.choices,yield new qr({message:new xr({content:"",response_metadata:u}),text:""})),(d=n.signal)!=null&&d.aborted)throw new Error("AbortError")}async _generate(e,n,r){var i;if(this.streaming){const s={},a=this._streamResponseChunks(e,n,r),o={};for await(const u of a){const c=((i=u.generationInfo)==null?void 0:i.completion)??0;o[c]===void 0?o[c]=u:o[c]=o[c].concat(u)}return{generations:Object.entries(o).sort(([u],[c])=>parseInt(u,10)-parseInt(c,10)).map(([u,c])=>c),llmOutput:{estimatedTokenUsage:s}}}else return this._generateNonStreaming(e,n,r)}async _generateNonStreaming(e,n,r){var u;const i={},s=this.invocationParams(n),a=Pv(e),o=await this.completionWithRetry({...s,stream:!1,messages:a},{signal:n==null?void 0:n.signal,headers:n==null?void 0:n.headers});if("usage"in o&&o.usage){const{completion_tokens:c,prompt_tokens:d,total_tokens:f}=o.usage;c&&(i.completionTokens=(i.completionTokens??0)+c),d&&(i.promptTokens=(i.promptTokens??0)+d),f&&(i.totalTokens=(i.totalTokens??0)+f)}const l=[];if("choices"in o&&o.choices)for(const c of o.choices){const d=((u=c.message)==null?void 0:u.content)??"";let f;i.totalTokens!==void 0&&(f={input_tokens:i.promptTokens??0,output_tokens:i.completionTokens??0,total_tokens:i.totalTokens});const h={text:d,message:RD(c.message??{role:"assistant"},f)};h.generationInfo={...c.finish_reason?{finish_reason:c.finish_reason}:{},...c.logprobs?{logprobs:c.logprobs}:{}},l.push(h)}return{generations:l,llmOutput:{tokenUsage:i}}}withStructuredOutput(e,n){const r=e,i=n==null?void 0:n.name,s=n==null?void 0:n.method,a=n==null?void 0:n.includeRaw;let o=i??"extract",l,u;if(s==="jsonMode")u=this.bind({response_format:{type:"json_object"}}),Ql(r)?l=yD.fromZodSchema(r):l=new vD;else if(Ql(r)){const h=to(r);u=this.bind({tools:[{type:"function",function:{name:o,description:h.description,parameters:h}}],tool_choice:{type:"function",function:{name:o}}}),l=new Tv({returnSingle:!0,keyName:o,zodSchema:r})}else{let h;typeof r.name=="string"&&typeof r.parameters=="object"&&r.parameters!=null?(h=r,o=r.name):(o=r.title??o,h={name:o,description:r.description??"",parameters:r}),u=this.bind({tools:[{type:"function",function:h}],tool_choice:{type:"function",function:{name:o}}}),l=new Tv({returnSingle:!0,keyName:o})}if(!a)return u.pipe(l).withConfig({runName:"ChatGroqStructuredOutput"});const c=Xl.assign({parsed:(h,p)=>l.invoke(h.raw,p)}),d=Xl.assign({parsed:()=>null}),f=c.withFallbacks({fallbacks:[d]});return Pn.from([{raw:u},f]).withConfig({runName:"ChatGroqStructuredOutput"})}}const ID="modulepreload",jD=function(t){return"/portfolio/"+t},kv={},cd=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.all(n.map(o=>{if(o=jD(o),o in kv)return;kv[o]=!0;const l=o.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${u}`))return;const c=document.createElement("link");if(c.rel=l?"stylesheet":ID,l||(c.as="script",c.crossOrigin=""),c.href=o,a&&c.setAttribute("nonce",a),document.head.appendChild(c),l)return new Promise((d,f)=>{c.addEventListener("load",d),c.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})}))}return i.then(()=>e()).catch(s=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s})};class LD extends Oe{get lc_attributes(){return{partialVariables:void 0}}constructor(e){super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompts",this._getPromptType()]}),Object.defineProperty(this,"inputVariables",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"outputParser",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"partialVariables",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const{inputVariables:n}=e;if(n.includes("stop"))throw new Error("Cannot have an input variable named 'stop', as it is used internally, please rename.");Object.assign(this,e)}async mergePartialAndUserVariables(e){const n=this.partialVariables??{},r={};for(const[s,a]of Object.entries(n))typeof a=="string"?r[s]=a:r[s]=await a();return{...r,...e}}async invoke(e,n){return this._callWithConfig(r=>this.formatPromptValue(r),e,{...n,runType:"prompt"})}serialize(){throw new Error("Use .toJSON() instead")}static async deserialize(e){switch(e._type){case"prompt":{const{PromptTemplate:n}=await cd(async()=>{const{PromptTemplate:r}=await Promise.resolve().then(()=>Ov);return{PromptTemplate:r}},void 0);return n.deserialize(e)}case void 0:{const{PromptTemplate:n}=await cd(async()=>{const{PromptTemplate:r}=await Promise.resolve().then(()=>Ov);return{PromptTemplate:r}},void 0);return n.deserialize({...e,_type:"prompt"})}case"few_shot":{const{FewShotPromptTemplate:n}=await cd(async()=>{const{FewShotPromptTemplate:r}=await import("./few_shot-iLBBzaZG.js");return{FewShotPromptTemplate:r}},[]);return n.deserialize(e)}default:throw new Error(`Invalid prompt type in config: ${e._type}`)}}}class $D extends LD{async formatPromptValue(e){const n=await this.format(e);return new Ox(n)}}/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */var DD=Object.prototype.toString,ys=Array.isArray||function(e){return DD.call(e)==="[object Array]"};function Dp(t){return typeof t=="function"}function MD(t){return ys(t)?"array":typeof t}function dd(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function Cv(t,e){return t!=null&&typeof t=="object"&&e in t}function FD(t,e){return t!=null&&typeof t!="object"&&t.hasOwnProperty&&t.hasOwnProperty(e)}var UD=RegExp.prototype.test;function VD(t,e){return UD.call(t,e)}var BD=/\S/;function zD(t){return!VD(BD,t)}var HD={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function WD(t){return String(t).replace(/[&<>"'`=\/]/g,function(n){return HD[n]})}var GD=/\s*/,ZD=/\s+/,Rv=/\s*=/,KD=/\s*\}/,qD=/#|\^|\/|>|\{|&|=|!/;function JD(t,e){if(!t)return[];var n=!1,r=[],i=[],s=[],a=!1,o=!1,l="",u=0;function c(){if(a&&!o)for(;s.length;)delete i[s.pop()];else s=[];a=!1,o=!1}var d,f,h;function p(k){if(typeof k=="string"&&(k=k.split(ZD,2)),!ys(k)||k.length!==2)throw new Error("Invalid tags: "+k);d=new RegExp(dd(k[0])+"\\s*"),f=new RegExp("\\s*"+dd(k[1])),h=new RegExp("\\s*"+dd("}"+k[1]))}p(e||ft.tags);for(var v=new lo(t),w,m,g,y,b,x;!v.eos();){if(w=v.pos,g=v.scanUntil(d),g)for(var T=0,O=g.length;T<O;++T)y=g.charAt(T),zD(y)?(s.push(i.length),l+=y):(o=!0,n=!0,l+=" "),i.push(["text",y,w,w+1]),w+=1,y===`
`&&(c(),l="",u=0,n=!1);if(!v.scan(d))break;if(a=!0,m=v.scan(qD)||"name",v.scan(GD),m==="="?(g=v.scanUntil(Rv),v.scan(Rv),v.scanUntil(f)):m==="{"?(g=v.scanUntil(h),v.scan(KD),v.scanUntil(f),m="&"):g=v.scanUntil(f),!v.scan(f))throw new Error("Unclosed tag at "+v.pos);if(m==">"?b=[m,g,w,v.pos,l,u,n]:b=[m,g,w,v.pos],u++,i.push(b),m==="#"||m==="^")r.push(b);else if(m==="/"){if(x=r.pop(),!x)throw new Error('Unopened section "'+g+'" at '+w);if(x[1]!==g)throw new Error('Unclosed section "'+x[1]+'" at '+w)}else m==="name"||m==="{"||m==="&"?o=!0:m==="="&&p(g)}if(c(),x=r.pop(),x)throw new Error('Unclosed section "'+x[1]+'" at '+v.pos);return QD(XD(i))}function XD(t){for(var e=[],n,r,i=0,s=t.length;i<s;++i)n=t[i],n&&(n[0]==="text"&&r&&r[0]==="text"?(r[1]+=n[1],r[3]=n[3]):(e.push(n),r=n));return e}function QD(t){for(var e=[],n=e,r=[],i,s,a=0,o=t.length;a<o;++a)switch(i=t[a],i[0]){case"#":case"^":n.push(i),r.push(i),n=i[4]=[];break;case"/":s=r.pop(),s[5]=i[2],n=r.length>0?r[r.length-1][4]:e;break;default:n.push(i)}return e}function lo(t){this.string=t,this.tail=t,this.pos=0}lo.prototype.eos=function(){return this.tail===""};lo.prototype.scan=function(e){var n=this.tail.match(e);if(!n||n.index!==0)return"";var r=n[0];return this.tail=this.tail.substring(r.length),this.pos+=r.length,r};lo.prototype.scanUntil=function(e){var n=this.tail.search(e),r;switch(n){case-1:r=this.tail,this.tail="";break;case 0:r="";break;default:r=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=r.length,r};function as(t,e){this.view=t,this.cache={".":this.view},this.parent=e}as.prototype.push=function(e){return new as(e,this)};as.prototype.lookup=function(e){var n=this.cache,r;if(n.hasOwnProperty(e))r=n[e];else{for(var i=this,s,a,o,l=!1;i;){if(e.indexOf(".")>0)for(s=i.view,a=e.split("."),o=0;s!=null&&o<a.length;)o===a.length-1&&(l=Cv(s,a[o])||FD(s,a[o])),s=s[a[o++]];else s=i.view[e],l=Cv(i.view,e);if(l){r=s;break}i=i.parent}n[e]=r}return Dp(r)&&(r=r.call(this.view)),r};function st(){this.templateCache={_cache:{},set:function(e,n){this._cache[e]=n},get:function(e){return this._cache[e]},clear:function(){this._cache={}}}}st.prototype.clearCache=function(){typeof this.templateCache<"u"&&this.templateCache.clear()};st.prototype.parse=function(e,n){var r=this.templateCache,i=e+":"+(n||ft.tags).join(":"),s=typeof r<"u",a=s?r.get(i):void 0;return a==null&&(a=JD(e,n),s&&r.set(i,a)),a};st.prototype.render=function(e,n,r,i){var s=this.getConfigTags(i),a=this.parse(e,s),o=n instanceof as?n:new as(n,void 0);return this.renderTokens(a,o,r,e,i)};st.prototype.renderTokens=function(e,n,r,i,s){for(var a="",o,l,u,c=0,d=e.length;c<d;++c)u=void 0,o=e[c],l=o[0],l==="#"?u=this.renderSection(o,n,r,i,s):l==="^"?u=this.renderInverted(o,n,r,i,s):l===">"?u=this.renderPartial(o,n,r,s):l==="&"?u=this.unescapedValue(o,n):l==="name"?u=this.escapedValue(o,n,s):l==="text"&&(u=this.rawValue(o)),u!==void 0&&(a+=u);return a};st.prototype.renderSection=function(e,n,r,i,s){var a=this,o="",l=n.lookup(e[1]);function u(f){return a.render(f,n,r,s)}if(l){if(ys(l))for(var c=0,d=l.length;c<d;++c)o+=this.renderTokens(e[4],n.push(l[c]),r,i,s);else if(typeof l=="object"||typeof l=="string"||typeof l=="number")o+=this.renderTokens(e[4],n.push(l),r,i,s);else if(Dp(l)){if(typeof i!="string")throw new Error("Cannot use higher-order sections without the original template");l=l.call(n.view,i.slice(e[3],e[5]),u),l!=null&&(o+=l)}else o+=this.renderTokens(e[4],n,r,i,s);return o}};st.prototype.renderInverted=function(e,n,r,i,s){var a=n.lookup(e[1]);if(!a||ys(a)&&a.length===0)return this.renderTokens(e[4],n,r,i,s)};st.prototype.indentPartial=function(e,n,r){for(var i=n.replace(/[^ \t]/g,""),s=e.split(`
`),a=0;a<s.length;a++)s[a].length&&(a>0||!r)&&(s[a]=i+s[a]);return s.join(`
`)};st.prototype.renderPartial=function(e,n,r,i){if(r){var s=this.getConfigTags(i),a=Dp(r)?r(e[1]):r[e[1]];if(a!=null){var o=e[6],l=e[5],u=e[4],c=a;l==0&&u&&(c=this.indentPartial(a,u,o));var d=this.parse(c,s);return this.renderTokens(d,n,r,c,i)}}};st.prototype.unescapedValue=function(e,n){var r=n.lookup(e[1]);if(r!=null)return r};st.prototype.escapedValue=function(e,n,r){var i=this.getConfigEscape(r)||ft.escape,s=n.lookup(e[1]);if(s!=null)return typeof s=="number"&&i===ft.escape?String(s):i(s)};st.prototype.rawValue=function(e){return e[1]};st.prototype.getConfigTags=function(e){return ys(e)?e:e&&typeof e=="object"?e.tags:void 0};st.prototype.getConfigEscape=function(e){if(e&&typeof e=="object"&&!ys(e))return e.escape};var ft={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(t){za.templateCache=t},get templateCache(){return za.templateCache}},za=new st;ft.clearCache=function(){return za.clearCache()};ft.parse=function(e,n){return za.parse(e,n)};ft.render=function(e,n,r,i){if(typeof e!="string")throw new TypeError('Invalid template! Template should be a "string" but "'+MD(e)+'" was given as the first argument for mustache#render(template, view, partials)');return za.render(e,n,r,i)};ft.escape=WD;ft.Scanner=lo;ft.Context=as;ft.Writer=st;function i1(){ft.escape=t=>t}const s1=t=>{const e=t.split(""),n=[],r=(s,a)=>{for(let o=a;o<e.length;o+=1)if(s.includes(e[o]))return o;return-1};let i=0;for(;i<e.length;)if(e[i]==="{"&&i+1<e.length&&e[i+1]==="{")n.push({type:"literal",text:"{"}),i+=2;else if(e[i]==="}"&&i+1<e.length&&e[i+1]==="}")n.push({type:"literal",text:"}"}),i+=2;else if(e[i]==="{"){const s=r("}",i);if(s<0)throw new Error("Unclosed '{' in template.");n.push({type:"variable",name:e.slice(i+1,s).join("")}),i=s+1}else{if(e[i]==="}")throw new Error("Single '}' in template.");{const s=r("{}",i),a=(s<0?e.slice(i):e.slice(i,s)).join("");n.push({type:"literal",text:a}),i=s<0?e.length:s}}return n},YD=t=>t.map(e=>e[0]==="name"?{type:"variable",name:e[1].includes(".")?e[1].split(".")[0]:e[1]}:["#","&","^",">"].includes(e[0])?{type:"variable",name:e[1]}:{type:"literal",text:e[1]}),eM=t=>{i1();const e=ft.parse(t);return YD(e)},tM=(t,e)=>s1(t).reduce((n,r)=>{if(r.type==="variable"){if(r.name in e)return n+e[r.name];throw new Error(`(f-string) Missing value for input ${r.name}`)}return n+r.text},""),nM=(t,e)=>(i1(),ft.render(t,e)),Wf={"f-string":tM,mustache:nM},rM={"f-string":s1,mustache:eM},Fs=(t,e,n)=>Wf[e](t,n),iM=(t,e)=>rM[e](t),sM=(t,e,n)=>{if(!(e in Wf)){const r=Object.keys(Wf);throw new Error(`Invalid template format. Got \`${e}\`;
                         should be one of ${r}`)}try{const r=n.reduce((i,s)=>(i[s]="foo",i),{});Array.isArray(t)?t.forEach(i=>{if(i.type==="text")Fs(i.text,e,r);else if(i.type==="image_url")if(typeof i.image_url=="string")Fs(i.image_url,e,r);else{const s=i.image_url.url;Fs(s,e,r)}else throw new Error(`Invalid message template received. ${JSON.stringify(i,null,2)}`)}):Fs(t,e,r)}catch(r){throw new Error(`Invalid prompt schema: ${r.message}`)}};class zr extends $D{static lc_name(){return"PromptTemplate"}constructor(e){if(super(e),Object.defineProperty(this,"template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"templateFormat",{enumerable:!0,configurable:!0,writable:!0,value:"f-string"}),Object.defineProperty(this,"validateTemplate",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"additionalContentFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e.templateFormat==="mustache"&&e.validateTemplate===void 0&&(this.validateTemplate=!1),Object.assign(this,e),this.validateTemplate){if(this.templateFormat==="mustache")throw new Error("Mustache templates cannot be validated.");let n=this.inputVariables;this.partialVariables&&(n=n.concat(Object.keys(this.partialVariables))),sM(this.template,this.templateFormat,n)}}_getPromptType(){return"prompt"}async format(e){const n=await this.mergePartialAndUserVariables(e);return Fs(this.template,this.templateFormat,n)}static fromExamples(e,n,r,i=`

`,s=""){const a=[s,...e,n].join(i);return new zr({inputVariables:r,template:a})}static fromTemplate(e,n){const{templateFormat:r="f-string",...i}=n??{},s=new Set;return iM(e,r).forEach(a=>{a.type==="variable"&&s.add(a.name)}),new zr({inputVariables:[...s],templateFormat:r,template:e,...i})}async partial(e){const n=this.inputVariables.filter(s=>!(s in e)),r={...this.partialVariables??{},...e},i={...this,inputVariables:n,partialVariables:r};return new zr(i)}serialize(){if(this.outputParser!==void 0)throw new Error("Cannot serialize a prompt template with an output parser");return{_type:this._getPromptType(),input_variables:this.inputVariables,template:this.template,template_format:this.templateFormat}}static async deserialize(e){if(!e.template)throw new Error("Prompt template must have a template");return new zr({inputVariables:e.input_variables,template:e.template,templateFormat:e.template_format})}}const Ov=Object.freeze(Object.defineProperty({__proto__:null,PromptTemplate:zr},Symbol.toStringTag,{value:"Module"})),aM=()=>{const[t,e]=E.useState("Ask me something..."),n=E.useRef(null),[r,i]=E.useState(""),[s,a]=E.useState(!1),[o,l]=E.useState([]),u=E.useRef(null);E.useEffect(()=>{u.current&&(u.current.scrollTop=u.current.scrollHeight)},[o]);const c=()=>{n.current&&n.current.focus()},d=g=>{i(g.target.value)},f=()=>{const g=`<span class="text-text-green pr-1">$ - </span><span>${r}</span>`;l([...o,g])},h=new ND({apiKey:"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",model:"llama-3.1-70b-versatile",temperature:0}),w=zr.fromTemplate("You are a chatbot that is present on my portfolio website, but you do not know the contents of this website. You will be provided a query. The query can range from a greeting to a question about the cosmos.  Your task will be to respond to the query. Keep the answer as short as possible.  Respond in a html format with divs, spans and a tags where necessary and use tailwind classes for styling.  The text size should be sm and the text colour should be white. Use colors like red, green, blue and yellow for a tags.  Do not set the height of any of the html components and answer in simple paragarphs.  Query: {query}").pipe(h),m=async g=>{await w.invoke({query:g}).then(y=>{l(b=>[...b,y.content]),a(!1)})};return _.jsx(_.Fragment,{children:_.jsxs("div",{className:"absolute left-0 bottom-0 w-full h-1/2 py-3 px-6 text-white bg-secondary-background border-t border-border-color flex flex-col",onClick:c,children:[_.jsxs("div",{className:"flex pb-4 flex-row justify-between relative",children:[_.jsx("div",{className:"uppercase text-xs border-b pb-1 border-orange-color",children:"Terminal"}),_.jsx("div",{className:"absolute -right-4"})]}),_.jsxs("div",{className:"flex-grow overflow-auto scrollbar",ref:u,children:[_.jsx("div",{children:o.map((g,y)=>_.jsx(oM,{text:g},y))}),_.jsxs("div",{className:"relative",children:[_.jsx("div",{className:"absolute h-full left-0 top-0  text-text-green ",children:"$ -"}),_.jsx("input",{autoFocus:!0,className:"w-full outline-none pl-10 bg-transparent",type:"text",placeholder:t,ref:n,value:r,onChange:d,onKeyDownCapture:g=>{s||g.key==="Enter"&&(r==="clear"?(l([]),e("Ask me something...")):(a(!0),m(r),f(),scrollTo(n),e("")),i(""))}})]})]})]})})},oM=({text:t})=>_.jsx("div",{dangerouslySetInnerHTML:{__html:t}}),lM=()=>{document.title="Aayush Regmi | Contact";const[t,e]=E.useState(!0);return E.useEffect(()=>{const n=r=>{r.ctrlKey&&r.key==="j"&&(r.preventDefault(),console.log("Ctrl + J was pressed! "+t),e(!t))};return window.addEventListener("keydown",n),()=>{window.removeEventListener("keydown",n)}}),_.jsx(_.Fragment,{children:_.jsxs("div",{className:"relative flex flex-col h-full",children:[_.jsx(TO,{showTerminal:t}),t&&_.jsx(aM,{})]})})},uM=[{title:"Rupse Holidays",description:"Website made for the Rupse Holidays travel agency where my role was to work as a frontend developer",ref_img:"./rupse.png",tools:["React","Node JS","Tailwind","Next UI"]},{title:"Upschool",description:"Learning Management System website where I worked in the frontend portion in a team.",ref_img:"./upschool.png",tools:["React","Laravel","Tailwind","Typescript"]},{title:"PDF Bot",description:"Takes handwritten pdf from the user and answer questions based on the pdf.",ref_img:"./pdf_bot.png",tools:["Python","LLM","LangChain","RAG","Streamlit"]},{title:"Face Recognition",description:"Transfer Learning on Yolo to detect faces at real time",ref_img:"./default_project_background.png",tools:["Python","Yolo","PyTorch","Opencv"]},{title:"AI News Anchor",description:"Generates audio and video for a given text",ref_img:"./default_project_background.png",tools:["Python","PyTorch","Transformers"]},{title:"Player Recommendation System",description:"Based on a football player's performance from the past 3 seasons, recommend similar players",ref_img:"./default_project_background.png",tools:["Python","pandas","scikit-learn"]},{title:"Multimodel Classification",description:"Classifies documents into 5 classes based on the image and text content of the document",ref_img:"./default_project_background.png",tools:["Python","Pytorch"]}],cM=()=>{document.title="Aayush Regmi | Projects";const t=E.useRef(),e=E.useRef();E.useEffect(()=>{const a=window.innerHeight,o=window.innerWidth;t.current.style.height=`${a-parseInt(o>=768?25:21)-parseInt(o>=900?32:24)}px`},[]);const[n,r]=E.useState(null);E.useEffect(()=>{r(3);const a=new ResizeObserver(o=>{const l=o[0].contentRect.width;l>=1080?e.current.style.gridTemplateColumns="repeat(3, 1fr)":l>680?(e.current.style.gridTemplateColumns="repeat(2, 1fr)",r(2)):(e.current.style.gridTemplateColumns="repeat(1, 1fr)",r(1))});return t.current&&a.observe(t.current),()=>{a.disconnect()}},[]);const i=()=>({transform:["scale3d(1,1,1)","scale3d(2,.3,1)","scale3d(.75,1.25,1)","scale3d(1.25,.85,1)","scale3d(.9,1.05,1)","scale3d(1,1,1)"],transtion:[0,.4,.6,.7,.8,0]}),s=(a,o)=>a.split("").map((u,c)=>{const[d,f]=E.useState(!1);return u===" "?_.jsx("span",{children:" "}):_.jsx(Rb.span,{animate:()=>({...i()}),whileHover:()=>{if(!d)return f(!0),i()},onHoverEnd:()=>{f(!1)},className:`${u===" "?"pr-2":""} ${o}`,children:u},c)});return _.jsx(_.Fragment,{children:_.jsxs("div",{ref:t,className:"py-10 px-5 xs:px-8 sm:px-10 ml:px-20 relative w-full overflow-y-scroll overflow-x-hidden bg-default-background/95 text-4xl text-gray-300 scrollbar",children:[_.jsxs("div",{className:"group relative inline-block",children:[_.jsx("div",{className:"flex flex-row items-center",children:s("Projects","text-text-blue")}),_.jsx("div",{className:"absolute -bottom-1 left-2 h-[2px] w-10 bg-text-yellow group-hover:w-11/12 group-hover:left-1 duration-300"})]}),_.jsx("div",{ref:e,className:"grid  mt-8 sm:mt-14 gap-x-3 gap-y-6 sm:px-5",children:uM.map((a,o)=>_.jsx(dM,{project:a},o))})]})})},dM=({project:t})=>{const{title:e,description:n,ref_img:r,tools:i}=t;return _.jsx(_.Fragment,{children:_.jsxs("div",{className:"group bg-[#171717] relative overflow-hidden rounded-lg border-default-background hover:border-text-green border-2 flex flex-col",children:[_.jsx("div",{className:"overflow-hidden h-[200px] rounded-lg object-center pointer-events-none",children:_.jsx("img",{className:"h-full w-full object-cover object-center group-hover:scale-110 duration-300",src:r,alt:e})}),_.jsxs("div",{className:"flex-grow flex flex-col justify-between",children:[_.jsxs("div",{className:"px-5 pt-5",children:[_.jsx("div",{className:"text-xl font-black",children:e}),_.jsx("div",{className:"text-xs mt-1",children:n})]}),_.jsx("div",{className:"px-5 pt-10 pb-5 flex gap-x-3 gap-y-2 flex-wrap",children:i.map((s,a)=>_.jsx("div",{className:`text-xs border rounded-lg px-2 ${a%3===0?"text-text-green border-text-green":a%3===1?"text-text-blue border-text-blue":"text-text-yellow border-text-yellow"}`,children:s},a))})]})]})})},fM=()=>{const[t,e]=E.useState(0),n=E.useCallback(i=>{for(let s=0;s<tr.length;s++)if(i===tr[s][2])return s},[tr]),r=ds();return E.useEffect(()=>{const i=r.pathname;e(n(i))},[r.pathname,n]),_.jsx(_.Fragment,{children:_.jsxs("div",{className:"w-full flex flex-row h-6 ml:h-8 text-[0.6em] ml:text-[0.7em] lg:text-xs xl:text-sm font-thin ml:font-base",children:[tr.map((i,s)=>_.jsx(hM,{tab_info:i,selected:s===t},s)),_.jsx("div",{className:"border-b border-b-border-color flex-grow bg-secondary-background "})]})})},hM=({tab_info:t,selected:e})=>{const[n,r,i,s]=t,a=s==="E"?"text-text-red":s==="U"?"text-text-green":s==="M"?"text-text-yellow":"text-text-white";return _.jsx(_.Fragment,{children:_.jsxs(Pl,{className:`${a} font-default flex flex-row items-center gap-1 sm:gap-2 pl-1  ml:pl-2  border-r border-border-color ${e?"border-t-2 border-t-orange-color bg-default-background/95":"border-b bg-secondary-background "}`,to:i,children:[_.jsx("img",{src:r,className:"h-3 w-3 pointer-events-none"}),_.jsxs("div",{className:"flex flex-row justify-between gap-1 xs:gap-2 sm:gap-4 flex-grow items-center pr-2  sm:pr-4",children:[_.jsx("div",{children:n}),(s==="M"||s==="U")&&_.jsx("div",{children:s==="M"?"M":"U"})]})]})})};function pM(){return _.jsx(_.Fragment,{children:_.jsxs("div",{className:"flex flex-col h-screen bg-default-background font-default max-h-screen text-white",children:[_.jsx(qT,{}),_.jsxs("div",{className:"bg-black flex flex-row flex-grow h-full",children:[_.jsx(LT,{}),_.jsxs("div",{className:"flex flex-col flex-grow bg-default-background relative",children:[_.jsx("img",{src:"./bg.jpg",className:"h-full w-full object-cover object-left absolute"}),_.jsx("div",{className:"z-10",children:_.jsx(fM,{})}),_.jsx("div",{className:"flex-grow",children:_.jsxs(ST,{children:[_.jsx(js,{path:"/portfolio",element:_.jsx(EO,{})}),_.jsx(js,{path:"/portfolio/about",element:_.jsx(SO,{})}),_.jsx(js,{path:"/portfolio/projects",element:_.jsx(cM,{})}),_.jsx(js,{path:"/portfolio/contact",element:_.jsx(lM,{})})]})})]})]})]})})}fd.createRoot(document.getElementById("root")).render(_.jsx(Zt.StrictMode,{children:_.jsx(AT,{children:_.jsx(pM,{})})}));export{$D as B,zr as P,sM as c,Fs as r};
